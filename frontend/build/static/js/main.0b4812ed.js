/*! For license information please see main.0b4812ed.js.LICENSE.txt */
(()=>{"use strict";var e={345:(e,t,n)=>{var r=n(950),a=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},x={};function p(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=b.hasOwnProperty(t)?b[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(x,e)||!u.call(h,e)&&(m.test(e)?x[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,g);b[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,g);b[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,g);b[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,I=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var fe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,_e=null;function Se(e){if(e=va(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function ke(e){Ne?_e?_e.push(e):_e=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=_e;if(_e=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var De=!1;function Te(e,t,n){if(De)return e(t,n);De=!0;try{return Ee(e,t,n)}finally{De=!1,(null!==Ne||null!==_e)&&(Pe(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Re=!1}function Fe(e,t,n,r,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Ie=null,ze=!1,Me=null,Ue={onError:function(e){Le=!0,Ie=e}};function qe(e,t,n,r,a,s,l,i,o){Le=!1,Ie=null,Fe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return $e(a),e;if(l===r)return $e(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Xe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~a;0!==i?r=ut(i):0!==(s&=l)&&(r=ut(s))}else 0!==(l=n&~a)?r=ut(l):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,_t,St,kt=!1,Ct=[],Et=null,Pt=null,Dt=null,Tt=new Map,At=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ga(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Mt(e,t,n){zt(e)&&n.delete(t)}function Ut(){kt=!1,null!==Et&&zt(Et)&&(Et=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Dt&&zt(Dt)&&(Dt=null),Tt.forEach(Mt),At.forEach(Mt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Pt&&qt(Pt,e),null!==Dt&&qt(Dt,e),Tt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var Vt=y.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var a=vt,s=Vt.transition;Vt.transition=null;try{vt=1,Qt(e,t,n,r)}finally{vt=a,Vt.transition=s}}function Wt(e,t,n,r){var a=vt,s=Vt.transition;Vt.transition=null;try{vt=4,Qt(e,t,n,r)}finally{vt=a,Vt.transition=s}}function Qt(e,t,n,r){if($t){var a=Jt(e,t,n,r);if(null===a)$r(e,t,r,Kt,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,a),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Jt(e,t,n,r))&&$r(e,t,r,Kt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=ga(e=je(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=I({},cn,{view:0,detail:0}),mn=an(un),hn=I({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),xn=an(hn),pn=an(I({},hn,{dataTransfer:0})),bn=an(I({},un,{relatedTarget:0})),fn=an(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(gn),yn=an(I({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return _n}var kn=I({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(kn),En=an(I({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(I({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=an(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=I({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Tn),Rn=[9,13,27,32],On=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Fn,In=d&&(!On||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Kn(e){zr(e,0)}function Jn(e){if(Q(ya(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Yn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];Hn(t,Qn,e,je(e)),Te(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var l=dr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,br=null,fr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==br||br!==K(r)||("selectionStart"in(r=br)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=Wr(fr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Nr={},_r={};function Sr(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Nr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Sr("animationend"),Cr=Sr("animationiteration"),Er=Sr("animationstart"),Pr=Sr("transitionend"),Dr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Dr.set(e,t),o(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Or=Tr[Rr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,i,o,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Ie;Le=!1,Ie=null,ze||(ze=!0,Me=d)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;Ir(a,i,c),s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;Ir(a,i,c),s=o}}}if(ze)throw e=Me,ze=!1,Me=null,e}function Mr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,l.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Gt(t)){case 1:var a=Ht;break;case 4:a=Wt;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ga(i)))return;if(5===(o=l.tag)||6===o){r=s=l;continue e}i=i.parentNode}}r=r.return}Te((function(){var r=s,a=je(n),l=[];e:{var i=Dr.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=bn;break;case"focusout":c="blur",o=bn;break;case"beforeblur":case"afterblur":o=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case kr:case Cr:case Er:o=fn;break;case Pr:o=Dn;break;case"scroll":o=mn;break;case"wheel":o=An;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,x=r;null!==x;){var p=(h=x).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Ae(x,m))&&d.push(Hr(x,p,h)))),u)break;x=x.return}0<d.length&&(i=new o(i,c,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ga(c)&&!c[xa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?ga(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=xn,p="onMouseLeave",m="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,p="onPointerLeave",m="onPointerEnter",x="pointer"),u=null==o?i:ya(o),h=null==c?i:ya(c),(i=new d(p,x+"leave",o,n,a)).target=u,i.relatedTarget=h,p=null,ga(a)===r&&((d=new d(m,x+"enter",c,n,a)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,x=0,h=d=o;h;h=Qr(h))x++;for(h=0,p=m;p;p=Qr(p))h++;for(;0<x-h;)d=Qr(d),x--;for(;0<h-x;)m=Qr(m),h--;for(;x--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qr(d),m=Qr(m)}d=null}else d=null;null!==o&&Kr(l,i,o,d,!1),null!==c&&null!==u&&Kr(l,u,c,d,!0)}if("select"===(o=(i=r?ya(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var b=Gn;else if($n(i))if(Xn)b=lr;else{b=ar;var f=rr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(b=sr);switch(b&&(b=b(e,r))?Hn(l,b,n,a):(f&&f(e,i,r),"focusout"===e&&(f=i._wrapperState)&&f.controlled&&"number"===i.type&&ee(i,"number",i.value)),f=r?ya(r):window,e){case"focusin":($n(f)||"true"===f.contentEditable)&&(br=f,fr=r,gr=null);break;case"focusout":gr=fr=br=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(l,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(l,n,a)}var g;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(In&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bn&&(g=en()):(Yt="value"in(Xt=a)?Xt.value:Xt.textContent,Bn=!0)),0<(f=Wr(r,v)).length&&(v=new yn(v,e,null,n,a),l.push({event:v,listeners:f}),g?v.data=g:null!==(g=qn(n))&&(v.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Mn=!0,zn);case"textInput":return(e=t.data)===zn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=g))}zr(l,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,a)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Ae(n,s))&&l.unshift(Hr(n,o,i)):a||null!=(o=Ae(n,s))&&l.push(Hr(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Jr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Gr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,ha="__reactProps$"+ua,xa="__reactContainer$"+ua,pa="__reactEvents$"+ua,ba="__reactListeners$"+ua,fa="__reactHandles$"+ua;function ga(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[ma]||e[xa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[ha]||null}var wa=[],Na=-1;function _a(e){return{current:e}}function Sa(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function ka(e,t){Na++,wa[Na]=e.current,e.current=t}var Ca={},Ea=_a(Ca),Pa=_a(!1),Da=Ca;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Sa(Pa),Sa(Ea)}function Oa(e,t,n){if(Ea.current!==Ca)throw Error(s(168));ka(Ea,t),ka(Pa,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return I({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Da=Ea.current,ka(Ea,e),ka(Pa,Pa.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Fa(e,t,Da),r.__reactInternalMemoizedMergedChildContext=e,Sa(Pa),Sa(Ea),ka(Ea,e)):Sa(Pa),ka(Pa,n)}var za=null,Ma=!1,Ua=!1;function qa(e){null===za?za=[e]:za.push(e)}function Ba(){if(!Ua&&null!==za){Ua=!0;var e=0,t=vt;try{var n=za;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ma=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Qe(Ze,Ba),a}finally{vt=t,Ua=!1}}return null}var Va=[],$a=0,Ha=null,Wa=0,Qa=[],Ka=0,Ja=null,Ga=1,Xa="";function Ya(e,t){Va[$a++]=Wa,Va[$a++]=Ha,Ha=e,Wa=t}function Za(e,t,n){Qa[Ka++]=Ga,Qa[Ka++]=Xa,Qa[Ka++]=Ja,Ja=e;var r=Ga;e=Xa;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Ga=1<<32-lt(t)+a|n<<a|r,Xa=s+e}else Ga=1<<s|n<<a|r,Xa=e}function es(e){null!==e.return&&(Ya(e,1),Za(e,1,0))}function ts(e){for(;e===Ha;)Ha=Va[--$a],Va[$a]=null,Wa=Va[--$a],Va[$a]=null;for(;e===Ja;)Ja=Qa[--Ka],Qa[Ka]=null,Xa=Qa[--Ka],Qa[Ka]=null,Ga=Qa[--Ka],Qa[Ka]=null}var ns=null,rs=null,as=!1,ss=null;function ls(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ga,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(os(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?ls(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(os(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=rs;e;)e=ca(e.nextSibling)}function hs(){rs=ns=null,as=!1}function xs(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function bs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&gs(s)===t.type)?((r=a(t,n.props)).ref=bs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=bs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=bs(e,null,t),n.return=e,n;case w:return(t=zc(t,e.mode,n)).return=e,t;case A:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;fs(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case A:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:u(e,t,n,r,null);fs(e,n)}return null}function x(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return x(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return u(t,e=e.get(n)||null,r,a,null);fs(t,r)}return null}function p(a,s,i,o){for(var c=null,d=null,u=s,p=s=0,b=null;null!==u&&p<i.length;p++){u.index>p?(b=u,u=null):b=u.sibling;var f=h(a,u,i[p],o);if(null===f){null===u&&(u=b);break}e&&u&&null===f.alternate&&t(a,u),s=l(f,s,p),null===d?c=f:d.sibling=f,d=f,u=b}if(p===i.length)return n(a,u),as&&Ya(a,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(a,i[p],o))&&(s=l(u,s,p),null===d?c=u:d.sibling=u,d=u);return as&&Ya(a,p),c}for(u=r(a,u);p<i.length;p++)null!==(b=x(u,a,p,i[p],o))&&(e&&null!==b.alternate&&u.delete(null===b.key?p:b.key),s=l(b,s,p),null===d?c=b:d.sibling=b,d=b);return e&&u.forEach((function(e){return t(a,e)})),as&&Ya(a,p),c}function b(a,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,p=i,b=i=0,f=null,g=o.next();null!==p&&!g.done;b++,g=o.next()){p.index>b?(f=p,p=null):f=p.sibling;var v=h(a,p,g.value,c);if(null===v){null===p&&(p=f);break}e&&p&&null===v.alternate&&t(a,p),i=l(v,i,b),null===u?d=v:u.sibling=v,u=v,p=f}if(g.done)return n(a,p),as&&Ya(a,b),d;if(null===p){for(;!g.done;b++,g=o.next())null!==(g=m(a,g.value,c))&&(i=l(g,i,b),null===u?d=g:u.sibling=g,u=g);return as&&Ya(a,b),d}for(p=r(a,p);!g.done;b++,g=o.next())null!==(g=x(p,a,b,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?b:g.key),i=l(g,i,b),null===u?d=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(a,e)})),as&&Ya(a,b),d}return function e(r,s,l,o){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&gs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=bs(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===N?((s=Fc(l.props.children,r.mode,o,l.key)).return=r,r=s):((o=Oc(l.type,l.key,l.props,null,r.mode,o)).ref=bs(r,s,l),o.return=r,r=o)}return i(r);case w:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(l,r.mode,o)).return=r,r=s}return i(r);case A:return e(r,s,(d=l._init)(l._payload),o)}if(te(l))return p(r,s,l,o);if(F(l))return b(r,s,l,o);fs(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=Ic(l,r.mode,o)).return=r,r=s),i(r)):n(r,s)}}var ys=vs(!0),js=vs(!1),ws=_a(null),Ns=null,_s=null,Ss=null;function ks(){Ss=_s=Ns=null}function Cs(e){var t=ws.current;Sa(ws),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Ns=e,Ss=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gi=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===Ns)throw Error(s(308));_s=e,Ns.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ts=null;function As(e){null===Ts?Ts=[e]:Ts.push(e)}function Rs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,As(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Eo)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,As(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var a=e.updateQueue;Fs=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,h=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,p=i;switch(m=t,h=n,p.tag){case 1:if("function"===typeof(x=p.payload)){u=x.call(h,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=p.payload)?x.call(h,u,m):x)||void 0===m)break e;u=I({},u,m);break e;case 2:Fs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Lo|=l,e.lanes=l,e.memoizedState=u}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var $s={},Hs=_a($s),Ws=_a($s),Qs=_a($s);function Ks(e){if(e===$s)throw Error(s(174));return e}function Js(e,t){switch(ka(Qs,t),ka(Ws,e),ka(Hs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Hs),ka(Hs,t)}function Gs(){Sa(Hs),Sa(Ws),Sa(Qs)}function Xs(e){Ks(Qs.current);var t=Ks(Hs.current),n=oe(t,e.type);t!==n&&(ka(Ws,e),ka(Hs,n))}function Ys(e){Ws.current===e&&(Sa(Hs),Sa(Ws))}var Zs=_a(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=y.ReactCurrentDispatcher,al=y.ReactCurrentBatchConfig,sl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function hl(){throw Error(s(321))}function xl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function pl(e,t,n,r,a,l){if(sl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Yl:Zl,e=n(r,a),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(s(301));l+=1,ol=il=null,t.updateQueue=null,rl.current=ei,e=n(r,a)}while(dl)}if(rl.current=Xl,t=null!==il&&null!==il.next,sl=0,ol=il=ll=null,cl=!1,t)throw Error(s(300));return e}function bl(){var e=0!==ul;return ul=0,e}function fl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function gl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(s(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function vl(e,t){return"function"===typeof t?t(e):t}function yl(e){var t=gl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=il,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((sl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,ll.lanes|=u,Lo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,ir(r,t.memoizedState)||(gi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,ll.lanes|=l,Lo|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=gl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);ir(l,t.memoizedState)||(gi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function wl(){}function Nl(e,t){var n=ll,r=gl(),a=t(),l=!ir(r.memoizedState,a);if(l&&(r.memoizedState=a,gi=!0),r=r.queue,Fl(kl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Dl(9,Sl.bind(null,n,r,a,t),void 0,null),null===Po)throw Error(s(349));0!==(30&sl)||_l(n,t,a)}return a}function _l(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&El(e)}function kl(e,t,n){return n((function(){Cl(t)&&El(e)}))}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function El(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Pl(e){var t=fl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,ll,e),[t.memoizedState,e]}function Dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Tl(){return gl().memoizedState}function Al(e,t,n,r){var a=fl();ll.flags|=e,a.memoizedState=Dl(1|t,n,void 0,void 0===r?null:r)}function Rl(e,t,n,r){var a=gl();r=void 0===r?null:r;var s=void 0;if(null!==il){var l=il.memoizedState;if(s=l.destroy,null!==r&&xl(r,l.deps))return void(a.memoizedState=Dl(t,n,s,r))}ll.flags|=e,a.memoizedState=Dl(1|t,n,s,r)}function Ol(e,t){return Al(8390656,8,e,t)}function Fl(e,t){return Rl(2048,8,e,t)}function Ll(e,t){return Rl(4,2,e,t)}function Il(e,t){return Rl(4,4,e,t)}function zl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ml(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4,4,zl.bind(null,t,e),n)}function Ul(){}function ql(e,t){var n=gl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bl(e,t){var n=gl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vl(e,t,n){return 0===(21&sl)?(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),ll.lanes|=n,Lo|=n,e.baseState=!0),t)}function $l(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{vt=n,al.transition=r}}function Hl(){return gl().memoizedState}function Wl(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Jl(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Gl(n,t,r)}}function Ql(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Jl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,l)){var o=t.interleaved;return null===o?(a.next=a,As(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Rs(e,t,a,r))&&(nc(n,e,r,a=ec()),Gl(n,t,r))}}function Kl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Jl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xl={readContext:Ds,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Yl={readContext:Ds,useCallback:function(e,t){return fl().memoizedState=[e,void 0===t?null:t],e},useContext:Ds,useEffect:Ol,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Al(4194308,4,zl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=fl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wl.bind(null,ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},fl().memoizedState=e},useState:Pl,useDebugValue:Ul,useDeferredValue:function(e){return fl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=$l.bind(null,e[1]),fl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ll,a=fl();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Po)throw Error(s(349));0!==(30&sl)||_l(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Ol(kl.bind(null,r,l,e),[e]),r.flags|=2048,Dl(9,Sl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=fl(),t=Po.identifierPrefix;if(as){var n=Xa;t=":"+t+"R"+(n=(Ga&~(1<<32-lt(Ga)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Ds,useCallback:ql,useContext:Ds,useEffect:Fl,useImperativeHandle:Ml,useInsertionEffect:Ll,useLayoutEffect:Il,useMemo:Bl,useReducer:yl,useRef:Tl,useState:function(){return yl(vl)},useDebugValue:Ul,useDeferredValue:function(e){return Vl(gl(),il.memoizedState,e)},useTransition:function(){return[yl(vl)[0],gl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Hl,unstable_isNewReconciler:!1},ei={readContext:Ds,useCallback:ql,useContext:Ds,useEffect:Fl,useImperativeHandle:Ml,useInsertionEffect:Ll,useLayoutEffect:Il,useMemo:Bl,useReducer:jl,useRef:Tl,useState:function(){return jl(vl)},useDebugValue:Ul,useDeferredValue:function(e){var t=gl();return null===il?t.memoizedState=e:Vl(t,il.memoizedState,e)},useTransition:function(){return[jl(vl)[0],gl().memoizedState]},useMutableSource:wl,useSyncExternalStore:Nl,useId:Hl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function ai(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function si(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ds(s):(a=Aa(t)?Da:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ds(s):(s=Aa(t)?Da:Ea.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ri.enqueueReplaceState(a,a.state,null),Bs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$o||($o=!0,Ho=r),di(0,t)},n}function hi(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ui;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var fi=y.ReactCurrentOwner,gi=!1;function vi(e,t,n,r){t.child=null===e?js(t,null,n,r):ys(t,e.child,n,r)}function yi(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=pl(e,t,n,r,s,a),n=bl(),null===e||gi?(as&&n&&es(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function ji(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wi(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(l,r)&&e.ref===t.ref)return Vi(e,t,a)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(gi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Vi(e,t,a);0!==(131072&e.flags)&&(gi=!0)}}return Si(e,t,n,r,a)}function Ni(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Ro,Ao),Ao|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Ro,Ao),Ao|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ka(Ro,Ao),Ao|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ka(Ro,Ao),Ao|=r;return vi(e,t,a,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,r,a){var s=Aa(n)?Da:Ea.current;return s=Ta(t,s),Ps(t,a),n=pl(e,t,n,r,s,a),r=bl(),null===e||gi?(as&&r&&es(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function ki(e,t,n,r,a){if(Aa(n)){var s=!0;La(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Bi(e,t),si(t,n,r),ii(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ds(c):c=Ta(t,c=Aa(n)?Da:Ea.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&li(t,l,r,c),Fs=!1;var m=t.memoizedState;l.state=m,Bs(t,r,l,a),o=t.memoizedState,i!==r||m!==o||Pa.current||Fs?("function"===typeof d&&(ni(t,n,d,r),o=t.memoizedState),(i=Fs||ai(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Is(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ds(o):o=Ta(t,o=Aa(n)?Da:Ea.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,r,o),Fs=!1,m=t.memoizedState,l.state=m,Bs(t,r,l,a);var x=t.memoizedState;i!==u||m!==x||Pa.current||Fs?("function"===typeof h&&(ni(t,n,h,r),x=t.memoizedState),(c=Fs||ai(t,n,c,r,m,x,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,x,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,x,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,s,a)}function Ci(e,t,n,r,a,s){_i(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&Ia(t,n,!1),Vi(e,t,s);r=t.stateNode,fi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,i,s)):vi(e,t,i,s),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Js(e,t.containerInfo)}function Pi(e,t,n,r,a){return hs(),xs(a),t.flags|=256,vi(e,t,n,r),t.child}var Di,Ti,Ai,Ri,Oi={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,a=t.pendingProps,l=Zs.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),ka(Zs,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Lc(o,a,0,null),e=Fc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fi(n),t.memoizedState=Oi,e):Ii(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,i){if(n)return 256&t.flags?(t.flags&=-257,zi(e,t,i,r=ci(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(l=Fc(l,a,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,i),t.child.memoizedState=Fi(i),t.memoizedState=Oi,l);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,zi(e,t,i,r=ci(l=Error(s(419)),r,void 0))}if(o=0!==(i&e.childLanes),gi||o){if(null!==(r=Po)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Os(e,a),nc(r,e,a,-1))}return pc(),zi(e,t,i,r=ci(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Qa[Ka++]=Ga,Qa[Ka++]=Xa,Qa[Ka++]=Ja,Ga=e.id,Xa=e.overflow,Ja=t),t=Ii(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,l,n);if(i){i=a.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Rc(r,i):(i=Fc(i,o,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Fi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Oi,a}return e=(i=e.child).sibling,a=Rc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ii(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,n,r){return null!==r&&xs(r),ys(t,e.child,null,n),(e=Ii(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function qi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mi(e,n,t);else if(19===e.tag)Mi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ka(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===el(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $i(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wi(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:case 17:return Aa(t.type)&&Ra(),Hi(t),null;case 3:return r=t.stateNode,Gs(),Sa(Pa),Sa(Ea),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Ti(e,t),Hi(t),null;case 5:Ys(t);var a=Ks(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ai(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Hi(t),null}if(e=Ks(Hs.current),us(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ma]=t,r[ha]=l,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Mr(Fr[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":G(r,l),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Mr("invalid",r);break;case"textarea":ae(r,l),Mr("invalid",r)}for(var o in ge(n,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Mr("scroll",r)}switch(n){case"input":W(r),Z(r,l,!0);break;case"textarea":W(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ma]=t,e[ha]=r,Di(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Mr(Fr[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":G(e,r),a=J(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(l in ge(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?be(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Mr("scroll",e):null!=d&&v(e,l,d,o))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&null!=t.stateNode)Ri(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Qs.current),Ks(Hs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(l=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Hi(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,l=!1;else if(l=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ma]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hi(t),l=!1}else null!==ss&&(lc(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Oo&&(Oo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Hi(t),null);case 4:return Gs(),Ti(e,t),null===e&&Br(t.stateNode.containerInfo),Hi(t),null;case 10:return Cs(t.type._context),Hi(t),null;case 19:if(Sa(Zs),null===(l=t.memoizedState))return Hi(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)$i(l,!1);else{if(0!==Oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,$i(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ka(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>Bo&&(t.flags|=128,r=!0,$i(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=el(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$i(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!as)return Hi(t),null}else 2*Xe()-l.renderingStartTime>Bo&&1073741824!==n&&(t.flags|=128,r=!0,$i(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,ka(Zs,r?1&n|2:1&n),t):(Hi(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ao)&&(Hi(t),6&t.subtreeFlags&&(t.flags|=8192)):Hi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(ts(t),t.tag){case 1:return Aa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Sa(Pa),Sa(Ea),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Gs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Di=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},Ai=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ks(Hs.current);var s,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in ge(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mr("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ri=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ki=!1,Ji=!1,Gi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Yi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zi(e,t,n){try{n()}catch(r){_c(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zi(t,n,s)}a=a.next}while(a!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[ha],delete t[pa],delete t[ba],delete t[fa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ji||Yi(n,t);case 6:var r=co,a=uo;co=null,mo(e,t,n),uo=a,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),Bt(e)):oa(co,n.stateNode));break;case 4:r=co,a=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&Zi(n,t,l),a=a.next}while(a!==r)}mo(e,t,n);break;case 1:if(!Ji&&(Yi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_c(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,mo(e,t,n),Ji=r):mo(e,t,n);break;default:mo(e,t,n)}}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gi),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function po(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));ho(l,i,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bo(t,e),t=t.sibling}function bo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),fo(e),4&r){try{to(3,e,e.return),no(3,e)}catch(b){_c(e,e.return,b)}try{to(5,e,e.return)}catch(b){_c(e,e.return,b)}}break;case 1:po(t,e),fo(e),512&r&&null!==n&&Yi(n,n.return);break;case 5:if(po(t,e),fo(e),512&r&&null!==n&&Yi(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(b){_c(e,e.return,b)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&X(a,l),ve(o,i);var d=ve(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?be(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):v(a,u,m,d)}switch(o){case"input":Y(a,l);break;case"textarea":se(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;null!=x?ne(a,!!l.multiple,x,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[ha]=l}catch(b){_c(e,e.return,b)}}break;case 6:if(po(t,e),fo(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){_c(e,e.return,b)}}break;case 3:if(po(t,e),fo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(b){_c(e,e.return,b)}break;case 4:default:po(t,e),fo(e);break;case 13:po(t,e),fo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(qo=Xe())),4&r&&xo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(d=Ji)||u,po(t,e),Ji=d):po(t,e),fo(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(m=Xi=u;null!==Xi;){switch(x=(h=Xi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Yi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){_c(r,n,b)}}break;case 5:Yi(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==x?(x.return=h,Xi=x):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(b){_c(e,e.return,b)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){_c(e,e.return,b)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),fo(e),4&r&&xo(e);case 21:}}function fo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),oo(e,lo(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(s(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e,t,n){Xi=e,vo(e,t,n)}function vo(e,t,n){for(var r=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Ki;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Ji;i=Ki;var c=Ji;if(Ki=l,(Ji=o)&&!c)for(Xi=a;null!==Xi;)o=(l=Xi).child,22===l.tag&&null!==l.memoizedState?wo(a):null!==o?(o.return=l,Xi=o):wo(a);for(;null!==s;)Xi=s,vo(s,t,n),s=s.sibling;Xi=a,Ki=i,Ji=c}yo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):yo(e)}}function yo(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Vs(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Ji||512&t.flags&&ro(t)}catch(h){_c(t,t.return,h)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function jo(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function wo(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){_c(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(o){_c(t,a,o)}}var s=t.return;try{ro(t)}catch(o){_c(t,s,o)}break;case 5:var l=t.return;try{ro(t)}catch(o){_c(t,l,o)}}}catch(o){_c(t,t.return,o)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var No,_o=Math.ceil,So=y.ReactCurrentDispatcher,ko=y.ReactCurrentOwner,Co=y.ReactCurrentBatchConfig,Eo=0,Po=null,Do=null,To=0,Ao=0,Ro=_a(0),Oo=0,Fo=null,Lo=0,Io=0,zo=0,Mo=null,Uo=null,qo=0,Bo=1/0,Vo=null,$o=!1,Ho=null,Wo=null,Qo=!1,Ko=null,Jo=0,Go=0,Xo=null,Yo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Xe():-1!==Yo?Yo:Yo=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==To?To&-To:null!==ps.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Go)throw Go=0,Xo=null,Error(s(185));ft(e,n,r),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Io|=n),4===Oo&&ic(e,To)),rc(e,r),1===n&&0===Eo&&0===(1&t.mode)&&(Bo=Xe()+500,Ma&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=mt(e,e===Po?To:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ma=!0,qa(e)}(oc.bind(null,e)):qa(oc.bind(null,e)),la((function(){0===(6&Eo)&&Ba()})),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yo=-1,Zo=0,0!==(6&Eo))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=mt(e,e===Po?To:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=bc(e,r);else{t=r;var a=Eo;Eo|=2;var l=xc();for(Po===e&&To===t||(Vo=null,Bo=Xe()+500,mc(e,t));;)try{gc();break}catch(o){hc(e,o)}ks(),So.current=l,Eo=a,null!==Do?t=0:(Po=null,To=0,t=Oo)}if(0!==t){if(2===t&&(0!==(a=xt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Fo,mc(e,0),ic(e,r),rc(e,Xe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=bc(e,r))&&(0!==(l=xt(e))&&(r=l,t=sc(e,l))),1===t))throw n=Fo,mc(e,0),ic(e,r),rc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Uo,Vo);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=qo+500-Xe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(jc.bind(null,e,Uo,Vo),t);break}jc(e,Uo,Vo);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>a&&(a=i),r&=~l}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_o(r/1960))-r)){e.timeoutHandle=ra(jc.bind(null,e,Uo,Vo),r);break}jc(e,Uo,Vo);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Uo,Uo=n,null!==t&&lc(t)),e}function lc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~zo,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Eo))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var r=xt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Fo,mc(e,0),ic(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Uo,Vo),rc(e,Xe()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Bo=Xe()+500,Ma&&Ba())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&wc();var t=Eo;Eo|=1;var n=Co.transition,r=vt;try{if(Co.transition=null,vt=1,e)return e()}finally{vt=r,Co.transition=n,0===(6&(Eo=t))&&Ba()}}function uc(){Ao=Ro.current,Sa(Ro)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Do)for(n=Do.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Gs(),Sa(Pa),Sa(Ea),nl();break;case 5:Ys(r);break;case 4:Gs();break;case 13:case 19:Sa(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,Do=e=Rc(e.current,null),To=Ao=t,Oo=0,Fo=null,zo=Io=Lo=0,Uo=Mo=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Ts=null}return e}function hc(e,t){for(;;){var n=Do;try{if(ks(),rl.current=Xl,cl){for(var r=ll.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cl=!1}if(sl=0,ol=il=ll=null,dl=!1,ul=0,ko.current=null,null===n||null===n.return){Oo=1,Fo=t,Do=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=pi(i);if(null!==x){x.flags&=-257,bi(x,i,o,0,t),1&x.mode&&xi(l,d,t),c=d;var p=(t=x).updateQueue;if(null===p){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}if(0===(1&t)){xi(l,d,t),pc();break e}c=Error(s(426))}else if(as&&1&o.mode){var f=pi(i);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),bi(f,i,o,0,t),xs(oi(c,o));break e}}l=c=oi(c,o),4!==Oo&&(Oo=2),null===Mo?Mo=[l]:Mo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,qs(l,mi(0,c,t));break e;case 1:o=c;var g=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wo||!Wo.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,qs(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,Do===n&&null!==n&&(Do=n=n.return);continue}break}}function xc(){var e=So.current;return So.current=Xl,null===e?Xl:e}function pc(){0!==Oo&&3!==Oo&&2!==Oo||(Oo=4),null===Po||0===(268435455&Lo)&&0===(268435455&Io)||ic(Po,To)}function bc(e,t){var n=Eo;Eo|=2;var r=xc();for(Po===e&&To===t||(Vo=null,mc(e,t));;)try{fc();break}catch(a){hc(e,a)}if(ks(),Eo=n,So.current=r,null!==Do)throw Error(s(261));return Po=null,To=0,Oo}function fc(){for(;null!==Do;)vc(Do)}function gc(){for(;null!==Do&&!Je();)vc(Do)}function vc(e){var t=No(e.alternate,e,Ao);e.memoizedProps=e.pendingProps,null===t?yc(e):Do=t,ko.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wi(n,t,Ao)))return void(Do=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(Do=n);if(null===e)return Oo=6,void(Do=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Do=t);Do=t=e}while(null!==t);0===Oo&&(Oo=5)}function jc(e,t,n){var r=vt,a=Co.transition;try{Co.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Ko);if(0!==(6&Eo))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===Po&&(Do=Po=null,To=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qo||(Qo=!0,Pc(tt,(function(){return wc(),null}))),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=vt;vt=1;var o=Eo;Eo|=4,ko.current=null,function(e,t){if(ea=$t,hr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==n||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(x=m.firstChild);)h=m,m=x;for(;;){if(m===e)break t;if(h===n&&++d===a&&(o=i),h===l&&++u===r&&(c=i),null!==(x=m.nextSibling))break;h=(m=h).parentNode}m=x}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},$t=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var b=p.memoizedProps,f=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:ti(t.type,b),f);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){_c(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}p=eo,eo=!1}(e,n),bo(n,e),xr(ta),$t=!!ea,ta=ea=null,e.current=n,go(n,e,a),Ge(),Eo=o,vt=i,Co.transition=l}else e.current=n;if(Qo&&(Qo=!1,Ko=e,Jo=a),l=e.pendingLanes,0===l&&(Wo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if($o)throw $o=!1,e=Ho,Ho=null,e;0!==(1&Jo)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Xo?Go++:(Go=0,Xo=e):Go=0,Ba()}(e,t,n,r)}finally{Co.transition=a,vt=r}return null}function wc(){if(null!==Ko){var e=yt(Jo),t=Co.transition,n=vt;try{if(Co.transition=null,vt=16>e?16:e,null===Ko)var r=!1;else{if(e=Ko,Ko=null,Jo=0,0!==(6&Eo))throw Error(s(331));var a=Eo;for(Eo|=4,Xi=e.current;null!==Xi;){var l=Xi,i=l.child;if(0!==(16&Xi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Xi=m;else for(;null!==Xi;){var h=(u=Xi).sibling,x=u.return;if(ao(u),u===d){Xi=null;break}if(null!==h){h.return=x,Xi=h;break}Xi=x}}}var p=l.alternate;if(null!==p){var b=p.child;if(null!==b){p.child=null;do{var f=b.sibling;b.sibling=null,b=f}while(null!==b)}}Xi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(l=Xi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var g=l.sibling;if(null!==g){g.return=l.return,Xi=g;break e}Xi=l.return}}var v=e.current;for(Xi=v;null!==Xi;){var y=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Xi=y;else e:for(i=v;null!==Xi;){if(0!==(2048&(o=Xi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(w){_c(o,o.return,w)}if(o===i){Xi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Xi=j;break e}Xi=o.return}}if(Eo=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{vt=n,Co.transition=t}}return!1}function Nc(e,t,n){e=Ms(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(ft(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wo||!Wo.has(r))){t=Ms(t,e=hi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(ft(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(To&n)===n&&(4===Oo||3===Oo&&(130023424&To)===To&&500>Xe()-qo?mc(e,0):zo|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Os(e,t))&&(ft(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Pc(e,t){return Qe(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Dc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,l){var i=2;if(r=e,"function"===typeof e)Ac(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Fc(n.children,a,l,t);case _:i=8,a|=8;break;case S:return(e=Tc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case P:return(e=Tc(13,n,t,a)).elementType=P,e.lanes=l,e;case D:return(e=Tc(19,n,t,a)).elementType=D,e.lanes=l,e;case R:return Lc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:i=10;break e;case C:i=9;break e;case E:i=11;break e;case T:i=14;break e;case A:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Fc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,l,i,o){return e=new Mc(e,t,n,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function qc(e){if(!e)return Ca;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Aa(n))return Fa(e,n,t)}return t}function Bc(e,t,n,r,a,s,l,i,o){return(e=Uc(n,r,!0,e,0,s,0,i,o)).context=qc(null),n=e.current,(s=zs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,a),e.current.lanes=a,ft(e,a,r),rc(e,r),e}function Vc(e,t,n,r){var a=t.current,s=ec(),l=tc(a);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(a,t,l))&&(nc(e,a,l,s),Us(e,a,l)),l}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)gi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),hs();break;case 5:Xs(t);break;case 1:Aa(t.type)&&La(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ka(ws,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ka(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(ka(Zs,1&Zs.current),null!==(e=Vi(e,t,n))?e.sibling:null);ka(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,n)}return Vi(e,t,n)}(e,t,n);gi=0!==(131072&e.flags)}else gi=!1,as&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bi(e,t),e=t.pendingProps;var a=Ta(t,Ea.current);Ps(t,n),a=pl(null,t,r,e,a,n);var l=bl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(l=!0,La(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=ri,t.stateNode=a,a._reactInternals=t,ii(t,r,e,n),t=Ci(null,t,r,!0,l,n)):(t.tag=0,as&&l&&es(t),vi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(r),e=ti(r,e),a){case 0:t=Si(null,t,r,e,n);break e;case 1:t=ki(null,t,r,e,n);break e;case 11:t=yi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,ti(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 1:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 3:e:{if(Ei(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,Is(e,t),Bs(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,r,n,a=oi(Error(s(423)),t));break e}if(r!==a){t=Pi(e,t,r,n,a=oi(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===a){t=Vi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==l&&na(r,l)&&(t.flags|=32),_i(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,yi(e,t,r,a=t.elementType===r?a:ti(r,a),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ka(ws,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===a.children&&!Pa.current){t=Vi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=zs(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Es(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Es(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=Ds(a)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return a=ti(r=t.type,t.pendingProps),ji(e,t,r,a=ti(r.type,a),n);case 15:return wi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ti(r,a),Bi(e,t),t.tag=1,Aa(r)?(e=!0,La(t)):e=!1,Ps(t,n),si(t,r,a),ii(t,r,a,n),Ci(null,t,r,!0,e,n);case 19:return qi(e,t,n);case 22:return Ni(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=$c(l);i.call(e)}}Vc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=$c(l);s.call(e)}}var l=Bc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=l,e[xa]=l.current,Br(8===e.nodeType?e.parentNode:e),dc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=$c(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=o,e[xa]=o.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,o,n,r)})),o}(n,t,e,a,r);return $c(l)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[xa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Eo)&&(Bo=Xe()+500,Ba()))}break;case 13:dc((function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},_t=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(s(90));Q(r),Y(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,ja,ke,Ce,cc]},td={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[xa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,l,i),e[xa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[xa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},654:(e,t,n)=>{var r=n(950),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,b={};function f(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||x}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||x}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=f.prototype;var y=v.prototype=new g;y.constructor=v,p(y,f.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&!_.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:l,ref:i,props:s,_owner:N.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(l,t,a,"",(function(e){return e}))):null!=l&&(k(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},950:(e,t,n)=>{e.exports=n(49)},414:(e,t,n)=>{e.exports=n(654)},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,x=!1,p=!1,b=!1,f="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(b=!1,y(e),!p)if(null!==r(c))p=!0,R(w);else{var t=r(d);null!==t&&O(j,t.startTime-e)}}function w(e,n){p=!1,b&&(b=!1,g(k),k=-1),x=!0;var s=h;try{for(y(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&a(c),y(n)}else a(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&O(j,u.startTime-n),o=!1}return o}finally{m=null,h=s,x=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,S=null,k=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function D(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(_=!1,S=null)}}else _=!1}if("function"===typeof v)N=function(){v(D)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=D,N=function(){A.postMessage(null)}}else N=function(){f(D,0)};function R(e){S=e,_||(_=!0,N())}function O(e,n){k=f((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||x||(p=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(b?(g(k),k=-1):b=!0,O(j,s-l))):(e.sortIndex=i,n(c,e),p||x||(p=!0,R(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},340:(e,t,n)=>{e.exports=n(761)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>he,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>be,navigator:()=>xe,origin:()=>fe});var a=n(950),s=n(352);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:m}=Object.prototype,{getPrototypeOf:h}=Object,x=(p=Object.create(null),e=>{const t=m.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const b=e=>(e=e.toLowerCase(),t=>x(t)===e),f=e=>t=>typeof t===e,{isArray:g}=Array,v=f("undefined");const y=b("ArrayBuffer");const j=f("string"),w=f("function"),N=f("number"),_=e=>null!==e&&"object"===typeof e,S=e=>{if("object"!==x(e))return!1;const t=h(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k=b("Date"),C=b("File"),E=b("Blob"),P=b("FileList"),D=b("URLSearchParams"),[T,A,R,O]=["ReadableStream","Request","Response","Headers"].map(b);function F(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),g(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function L(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const I="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,z=e=>!v(e)&&e!==I;const M=(U="undefined"!==typeof Uint8Array&&h(Uint8Array),e=>U&&e instanceof U);var U;const q=b("HTMLFormElement"),B=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),V=b("RegExp"),$=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};F(n,((n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)})),Object.defineProperties(e,r)};const H=b("AsyncFunction"),W=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],I.addEventListener("message",(e=>{let{source:t,data:a}=e;t===I&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),I.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,w(I.postMessage)),Q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(I):"undefined"!==typeof process&&process.nextTick||W,K={isArray:g,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!v(e)&&null!==e.constructor&&!v(e.constructor)&&w(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||w(e.append)&&("formdata"===(t=x(e))||"object"===t&&w(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer),t},isString:j,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:S,isReadableStream:T,isRequest:A,isResponse:R,isHeaders:O,isUndefined:v,isDate:k,isFile:C,isBlob:E,isRegExp:V,isFunction:w,isStream:e=>_(e)&&w(e.pipe),isURLSearchParams:D,isTypedArray:M,isFileList:P,forEach:F,merge:function e(){const{caseless:t}=z(this)&&this||{},n={},r=(r,a)=>{const s=t&&L(n,a)||a;S(n[s])&&S(r)?n[s]=e(n[s],r):S(r)?n[s]=e({},r):g(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&F(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return F(t,((t,r)=>{n&&w(t)?e[r]=u(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&h(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:b,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(g(e))return e;let t=e.length;if(!N(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:q,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:$,freezeMethods:e=>{$(e,((t,n)=>{if(w(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];w(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return g(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:L,global:I,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&w(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=g(e)?[]:{};return F(e,((e,t)=>{const s=n(e,r+1);!v(s)&&(a[t]=s)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:H,isThenable:e=>e&&(_(e)||w(e))&&w(e.then)&&w(e.catch),setImmediate:W,asap:Q};function J(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}K.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const G=J.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(J,X),Object.defineProperty(G,"isAxiosError",{value:!0}),J.from=(e,t,n,r,a,s)=>{const l=Object.create(G);return K.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),J.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Y=J;function Z(e){return K.isPlainObject(e)||K.isArray(e)}function ee(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,n){return e?e.concat(t).map((function(e,t){return e=ee(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ne=K.toFlatObject(K,{},null,(function(e){return/^is[A-Z]/.test(e)}));const re=function(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!K.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(K.isDate(e))return e.toISOString();if(!i&&K.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(e)||K.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(K.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(K.isArray(e)&&function(e){return K.isArray(e)&&!e.some(Z)}(e)||(K.isFileList(e)||K.endsWith(n,"[]"))&&(i=K.toArray(e)))return n=ee(n),i.forEach((function(e,r){!K.isUndefined(e)&&null!==e&&t.append(!0===l?te([n],r,s):null===l?n:n+"[]",o(e))})),!1;return!!Z(e)||(t.append(te(a,n,s),o(e)),!1)}const d=[],u=Object.assign(ne,{defaultVisitor:c,convertValue:o,isVisitable:Z});if(!K.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!K.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),K.forEach(n,(function(n,s){!0===(!(K.isUndefined(n)||null===n)&&a.call(t,n,K.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),d.pop()}}(e),t};function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function se(e,t){this._pairs=[],e&&re(e,this,t)}const le=se.prototype;le.append=function(e,t){this._pairs.push([e,t])},le.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=se;function oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,t,n){if(!t)return e;const r=n&&n.encode||oe;K.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):K.isURLSearchParams(t)?t.toString():new ie(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},me={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},he="undefined"!==typeof window&&"undefined"!==typeof document,xe="object"===typeof navigator&&navigator||void 0,pe=he&&(!xe||["ReactNative","NativeScript","NS"].indexOf(xe.product)<0),be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fe=he&&window.location.href||"http://localhost",ge=d(d({},r),me);const ve=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&K.isArray(r)?r.length:s,i)return K.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&K.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&K.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,((e,r)=>{t(function(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ye={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=K.isObject(e);a&&K.isHTMLForm(e)&&(e=new FormData(e));if(K.isFormData(e))return r?JSON.stringify(ve(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return re(e,new ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ge.isNode&&K.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=K.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return re(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ye.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],(e=>{ye.headers[e]={}}));const je=ye,we=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ne=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:K.isArray(e)?e.map(Se):String(e)}function ke(e,t,n,r,a){return K.isFunction(r)?r.call(this,t,n):(a&&(t=n),K.isString(t)?K.isString(r)?-1!==t.indexOf(r):K.isRegExp(r)?r.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=_e(t);if(!a)throw new Error("header name must be a non-empty string");const s=K.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Se(e))}const s=(e,t)=>K.forEach(e,((e,n)=>a(e,n,t)));if(K.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(K.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&we[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(K.isHeaders(e))for(const[l,i]of e.entries())a(i,l,n);else null!=e&&a(t,e,n);return this}get(e,t){if(e=_e(e)){const n=K.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(K.isFunction(t))return t.call(this,e,n);if(K.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=K.findKey(this,e);return!(!n||void 0===this[n]||t&&!ke(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=_e(e)){const a=K.findKey(n,e);!a||t&&!ke(0,n[a],a,t)||(delete n[a],r=!0)}}return K.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!ke(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return K.forEach(this,((r,a)=>{const s=K.findKey(n,a);if(s)return t[s]=Se(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();l!==a&&delete t[a],t[l]=Se(r),n[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return K.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&K.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ne]=this[Ne]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return K.isArray(e)?e.forEach(r):r(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),K.freezeMethods(Ce);const Ee=Ce;function Pe(e,t){const n=this||je,r=t||n,a=Ee.from(r.headers);let s=r.data;return K.forEach(e,(function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function De(e){return!(!e||!e.__CANCEL__)}function Te(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(Te,Y,{__CANCEL__:!0});const Ae=Te;function Re(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Oe=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];a||(a=o),n[s]=i,r[s]=o;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Fe=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(n=o,r||(r=setTimeout((()=>{r=null,l(n)}),s-t)))},()=>n&&l(n)]},Le=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Oe(50,250);return Fe((n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,i=s-r,o=a(i);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),n)},Ie=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ze=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K.asap((()=>e(...n)))},Me=ge.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ge.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,Ue=ge.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const l=[e+"="+encodeURIComponent(t)];K.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),K.isString(r)&&l.push("path="+r),K.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Be=e=>e instanceof Ee?d({},e):e;function Ve(e,t){t=t||{};const n={};function r(e,t,n,r){return K.isPlainObject(e)&&K.isPlainObject(t)?K.merge.call({caseless:r},e,t):K.isPlainObject(t)?K.merge({},t):K.isArray(t)?t.slice():t}function a(e,t,n,a){return K.isUndefined(t)?K.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!K.isUndefined(t))return r(void 0,t)}function l(e,t){return K.isUndefined(t)?K.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>a(Be(e),Be(t),0,!0)};return K.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=o[r]||a,l=s(e[r],t[r],r);K.isUndefined(l)&&s!==i||(n[r]=l)})),n}const $e=e=>{const t=Ve({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Ee.from(i),t.url=ce(qe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),K.isFormData(r))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(ge.hasStandardBrowserEnv&&(a&&K.isFunction(a)&&(a=a(t)),a||!1!==a&&Me(t.url))){const e=s&&l&&Ue.read(l);e&&i.set(s,e)}return t},He="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=$e(e);let a=r.data;const s=Ee.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function x(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function b(){if(!p)return;const r=Ee.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Re((function(e){t(e),x()}),(function(e){n(e),x()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(b)},p.onabort=function(){p&&(n(new Y("Request aborted",Y.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Y(t,a.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,p)),p=null},void 0===a&&s.setContentType(null),"setRequestHeader"in p&&K.forEach(s.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),K.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([o,d]=Le(h,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=Le(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{p&&(n(!t||t.type?new Ae(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);f&&-1===ge.protocols.indexOf(f)?n(new Y("Unsupported protocol "+f+":",Y.ERR_BAD_REQUEST,e)):p.send(a||null)}))},We=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Y?t:new Ae(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new Y("timeout ".concat(t," of ms exceeded"),Y.ETIMEDOUT))}),t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:i}=r;return i.unsubscribe=()=>K.asap(l),i}};function Qe(e,t){this.v=e,this.k=t}function Ke(e){return function(){return new Je(e.apply(this,arguments))}}function Je(e){var t,n;function r(t,n){try{var s=e[t](n),l=s.value,i=l instanceof Qe;Promise.resolve(i?l.v:l).then((function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}a(s.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(s,l){var i={key:e,arg:a,resolve:s,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ge(e){return new Qe(e,0)}function Xe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Qe(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ye(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ze(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ze(e)}Je.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Je.prototype.next=function(e){return this._invoke("next",e)},Je.prototype.throw=function(e){return this._invoke("throw",e)},Je.prototype.return=function(e){return this._invoke("return",e)};const et=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},tt=function(){var e=Ke((function*(e,t){var n,r=!1,a=!1;try{for(var s,l=Ye(nt(e));r=!(s=yield Ge(l.next())).done;r=!1){const e=s.value;yield*Xe(Ye(et(e,t)))}}catch(i){a=!0,n=i}finally{try{r&&null!=l.return&&(yield Ge(l.return()))}finally{if(a)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Ke((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe(Ye(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ge(t.read());if(e)break;yield n}}finally{yield Ge(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),rt=(e,t,n,r)=>{const a=tt(e,t);let s,l=0,i=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},at="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,st=at&&"function"===typeof ReadableStream,lt=at&&("function"===typeof TextEncoder?(it=new TextEncoder,e=>it.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var it;const ot=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},ct=st&&ot((()=>{let e=!1;const t=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=st&&ot((()=>K.isReadableStream(new Response("").body))),ut={stream:dt&&(e=>e.body)};var mt;at&&(mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=K.isFunction(mt[e])?t=>t[e]():(t,n)=>{throw new Y("Response type '".concat(e,"' is not supported"),Y.ERR_NOT_SUPPORT,n)})})));const ht=async(e,t)=>{const n=K.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e)){const t=new Request(ge.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return K.isArrayBufferView(e)||K.isArrayBuffer(e)?e.byteLength:(K.isURLSearchParams(e)&&(e+=""),K.isString(e)?(await lt(e)).byteLength:void 0)})(t):n},xt={http:null,xhr:He,fetch:at&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:h}=$e(e);c=c?(c+"").toLowerCase():"text";let x,p=We([a,s&&s.toAbortSignal()],l);const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(o&&ct&&"get"!==n&&"head"!==n&&0!==(f=await ht(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(K.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Ie(f,Le(ze(o)));r=rt(n.body,65536,e,t)}}K.isString(m)||(m=m?"include":"omit");const a="credentials"in Request.prototype;x=new Request(t,d(d({},h),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:a?m:void 0}));let s=await fetch(x);const l=dt&&("stream"===c||"response"===c);if(dt&&(i||l&&b)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=K.toFiniteNumber(s.headers.get("content-length")),[n,r]=i&&Ie(t,Le(ze(i),!0))||[];s=new Response(rt(s.body,65536,n,(()=>{r&&r(),b&&b()})),e)}c=c||"text";let g=await ut[K.findKey(ut,c)||"text"](s,e);return!l&&b&&b(),await new Promise(((t,n)=>{Re(t,n,{data:g,headers:Ee.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:x})}))}catch(g){if(b&&b(),g&&"TypeError"===g.name&&/fetch/i.test(g.message))throw Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,x),{cause:g.cause||g});throw Y.from(g,g&&g.code,e,x)}})};K.forEach(xt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const pt=e=>"- ".concat(e),bt=e=>K.isFunction(e)||null===e||!1===e,ft=e=>{e=K.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!bt(n)&&(r=xt[(t=String(n)).toLowerCase()],void 0===r))throw new Y("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(pt).join("\n"):" "+pt(e[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function gt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function vt(e){gt(e),e.headers=Ee.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ft(e.adapter||je.adapter)(e).then((function(t){return gt(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=Ee.from(t.headers),t}),(function(t){return De(t)||(gt(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=Ee.from(t.response.headers))),Promise.reject(t)}))}const yt="1.8.4",jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const wt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Y(r(a," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!wt[a]&&(wt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Nt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new Y("option "+s+" must be "+n,Y.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Y("Unknown option "+s,Y.ERR_BAD_OPTION)}},validators:jt},_t=Nt.validators;class St{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ve(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Nt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(K.isFunction(r)?t.paramsSerializer={serialize:r}:Nt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Nt.assertOptions(t,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&K.merge(a.common,a[t.method]);a&&K.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Ee.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[vt.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=vt.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ce(qe((e=Ve(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],(function(e){St.prototype[e]=function(t,n){return this.request(Ve(n||{},{method:e,url:t,data:(n||{}).data}))}})),K.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(Ve(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}St.prototype[e]=t(),St.prototype[e+"Form"]=t(!0)}));const kt=St;class Ct{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new Ae(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ct((function(t){e=t})),cancel:e}}}const Et=Ct;const Pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pt).forEach((e=>{let[t,n]=e;Pt[n]=t}));const Dt=Pt;const Tt=function e(t){const n=new kt(t),r=u(kt.prototype.request,n);return K.extend(r,kt.prototype,n,{allOwnKeys:!0}),K.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ve(t,n))},r}(je);Tt.Axios=kt,Tt.CanceledError=Ae,Tt.CancelToken=Et,Tt.isCancel=De,Tt.VERSION=yt,Tt.toFormData=re,Tt.AxiosError=Y,Tt.Cancel=Tt.CanceledError,Tt.all=function(e){return Promise.all(e)},Tt.spread=function(e){return function(t){return e.apply(null,t)}},Tt.isAxiosError=function(e){return K.isObject(e)&&!0===e.isAxiosError},Tt.mergeConfig=Ve,Tt.AxiosHeaders=Ee,Tt.formToJSON=e=>ve(K.isHTMLForm(e)?new FormData(e):e),Tt.getAdapter=ft,Tt.HttpStatusCode=Dt,Tt.default=Tt;const At=Tt;function Rt(e){return e?"string"===typeof e?e:Array.isArray(e)?e.map((e=>(null===e||void 0===e?void 0:e.msg)||(null===e||void 0===e?void 0:e.message)||"Validation error")).join(", "):"object"===typeof e?e.detail?Rt(e.detail):e.msg||e.message||JSON.stringify(e):String(e):"An error occurred"}var Ot=n(414);const Ft="/api",Lt="".concat(Ft,"/api");At.defaults.timeout=1e4,console.log("Environment check:",{REACT_APP_BACKEND_URL:"/api",BACKEND_URL:Ft,API:Lt});const It=(0,a.createContext)(),zt=()=>{const e=(0,a.useContext)(It);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Mt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(localStorage.getItem("token"));(0,a.useEffect)((()=>{i?(At.defaults.headers.common.Authorization="Bearer ".concat(i),c()):l(!1)}),[i]);const c=async()=>{try{const e=await At.get("".concat(Lt,"/auth/me"));r(e.data)}catch(e){console.error("Token validation failed:",e),localStorage.removeItem("token"),o(null)}finally{l(!1)}};return(0,Ot.jsx)(It.Provider,{value:{user:n,login:async(e,t)=>{try{console.log("Making login request to:","".concat(Lt,"/auth/login")),console.log("Request payload:",{username:e,password:t});const n=await At.post("".concat(Lt,"/auth/login"),{username:e,password:t});console.log("Login response:",n.data);const{access_token:a,user:s}=n.data;return localStorage.setItem("token",a),o(a),r(s),At.defaults.headers.common.Authorization="Bearer ".concat(a),{success:!0}}catch(i){var n,a,s,l;return console.error("Login failed:",i),console.error("Error response:",null===(n=i.response)||void 0===n?void 0:n.data),console.error("Error status:",null===(a=i.response)||void 0===a?void 0:a.status),{success:!1,error:(null===(s=i.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail)||i.message||"Login failed. Please try again."}}},logout:async()=>{try{i&&await At.post("".concat(Lt,"/auth/logout"))}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),o(null),r(null),delete At.defaults.headers.common.Authorization}},loading:s},children:t})},Ut=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),{login:c}=zt();return(0,Ot.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md p-8 rounded-xl border border-white/20 shadow-2xl w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"text-center mb-8",children:[(0,Ot.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"ClinicHub"}),(0,Ot.jsx)("p",{className:"text-blue-200",children:"Practice Management System"})]}),(0,Ot.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),l("");const r=await c(e,n);r.success||l(Rt(r.error)),o(!1)},className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Username"}),(0,Ot.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your username",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Password"}),(0,Ot.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your password",required:!0})]}),(0,Ot.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign In"}),s&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:(0,Ot.jsx)("p",{className:"text-red-200 text-sm",children:s})})]}),(0,Ot.jsx)("div",{className:"mt-6 text-center",children:(0,Ot.jsx)("p",{className:"text-blue-300 text-sm",children:"Default: admin / admin123"})})]})})},qt=()=>{const{user:e,logout:t}=zt(),[n,r]=(0,a.useState)("dashboard"),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await At.get("".concat(Lt,"/auth/synology-status"));l(e.data)}catch(e){console.error("Failed to fetch Synology status:",e)}};return(0,Ot.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[(0,Ot.jsx)("div",{className:"bg-white/10 backdrop-blur-md border-b border-white/20 px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ClinicHub Dashboard"}),(0,Ot.jsxs)("p",{className:"text-blue-200",children:["Welcome back, ",(null===e||void 0===e?void 0:e.first_name)||(null===e||void 0===e?void 0:e.username),"!"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[s&&(0,Ot.jsxs)("div",{className:"text-sm text-blue-200",children:["Synology: ",s.enabled?"Enabled":"Disabled"]}),(0,Ot.jsx)("button",{onClick:t,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Logout"})]})]})}),(0,Ot.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,Ot.jsxs)("div",{className:"flex space-x-6",children:[(0,Ot.jsx)("div",{className:"w-64 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ot.jsxs)("nav",{className:"space-y-2",children:[(0,Ot.jsx)("button",{onClick:()=>r("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("dashboard"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Dashboard"}),(0,Ot.jsx)("button",{onClick:()=>r("patients"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("patients"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Patients/EHR"}),(0,Ot.jsx)("button",{onClick:()=>r("system-settings"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("system-settings"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"System Settings"}),(0,Ot.jsx)("button",{onClick:()=>r("medical-databases"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("medical-databases"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Medical Databases"}),(0,Ot.jsx)("button",{onClick:()=>r("communication"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("communication"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Communication"})]})}),(0,Ot.jsx)("div",{className:"flex-1",children:(()=>{switch(n){case"patients":return(0,Ot.jsx)(Ht,{});case"scheduling":return(0,Ot.jsx)(Yt,{setActiveModule:r});case"telehealth":return(0,Ot.jsx)(Zt,{setActiveModule:r});case"patient-portal":return(0,Ot.jsx)(tn,{setActiveModule:r});case"lab-orders":return(0,Ot.jsx)(en,{setActiveModule:r});case"insurance":return(0,Ot.jsx)(nn,{setActiveModule:r});case"clinical-templates":return(0,Ot.jsx)(rn,{setActiveModule:r});case"quality-measures":return(0,Ot.jsx)(an,{setActiveModule:r});case"documents":return(0,Ot.jsx)(sn,{setActiveModule:r});case"invoices":return(0,Ot.jsx)(Qt,{setActiveModule:r});case"system-settings":return(0,Ot.jsx)(Vt,{onStatusUpdate:c});case"employees":return(0,Ot.jsx)(Jt,{setActiveModule:r});case"inventory":return(0,Ot.jsx)(Gt,{setActiveModule:r});case"finance":return(0,Ot.jsx)(Xt,{setActiveModule:r});case"communication":return(0,Ot.jsx)($t,{});case"referrals":return(0,Ot.jsx)(Kt,{setActiveModule:r});default:return(0,Ot.jsx)(Bt,{setActiveModule:r})}})()})]})})]})},Bt=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)({patients:0,dailyRevenue:0,patientCare:0,pendingIssues:0});(0,a.useEffect)((()=>{s({patients:0,dailyRevenue:0,patientCare:0,pendingIssues:0})}),[]);const l=[{id:"patients-ehr",title:"Patients/EHR",description:"Patient records & encounters",icon:"\ud83d\udc65",color:"bg-blue-600/20 border-blue-400/50",onClick:()=>t("patients")},{id:"smart-forms",title:"Smart Forms",description:"FHIR-compliant forms",icon:"\ud83d\udccb",color:"bg-green-600/20 border-green-400/50",onClick:()=>t("forms")},{id:"inventory",title:"Inventory",description:"Medical supplies tracking",icon:"\ud83d\udce6",color:"bg-purple-600/20 border-purple-400/50",onClick:()=>t("inventory")},{id:"invoices",title:"Invoices",description:"Billing & payments",icon:"\ud83d\udcb0",color:"bg-yellow-600/20 border-yellow-400/50",onClick:()=>t("invoices")},{id:"lab-orders",title:"Lab Orders",description:"Laboratory integration",icon:"\ud83e\uddea",color:"bg-red-600/20 border-red-400/50",onClick:()=>t("lab-orders")},{id:"insurance",title:"Insurance",description:"Verification & prior auth",icon:"\ud83d\udee1\ufe0f",color:"bg-indigo-600/20 border-indigo-400/50",onClick:()=>t("insurance")},{id:"employees",title:"Employees",description:"Staff management",icon:"\ud83d\udc68\u200d\u2695\ufe0f",color:"bg-teal-600/20 border-teal-400/50",onClick:()=>t("employees")},{id:"finance",title:"Finance",description:"Financial reporting",icon:"\ud83d\udcca",color:"bg-orange-600/20 border-orange-400/50",onClick:()=>t("finance")},{id:"scheduling",title:"Scheduling",description:"Appointment management",icon:"\ud83d\udcc5",color:"bg-pink-600/20 border-pink-400/50",onClick:()=>t("scheduling")},{id:"communications",title:"Communications",description:"Patient messaging",icon:"\ud83d\udcac",color:"bg-cyan-600/20 border-cyan-400/50",onClick:()=>t("communication")},{id:"referrals",title:"Referrals",description:"Provider network",icon:"\ud83d\udd17",color:"bg-violet-600/20 border-violet-400/50",onClick:()=>t("referrals")},{id:"clinical-templates",title:"Clinical Templates",description:"Clinical protocols",icon:"\ud83d\udcdd",color:"bg-lime-600/20 border-lime-400/50",onClick:()=>t("clinical-templates")},{id:"quality-measures",title:"Quality Measures",description:"Performance analytics",icon:"\ud83d\udcc8",color:"bg-emerald-600/20 border-emerald-400/50",onClick:()=>t("quality-measures")},{id:"patient-portal",title:"Patient Portal",description:"Portal management",icon:"\ud83c\udf10",color:"bg-sky-600/20 border-sky-400/50",onClick:()=>t("patient-portal")},{id:"documents",title:"Documents",description:"Document workflows",icon:"\ud83d\udcc4",color:"bg-amber-600/20 border-amber-400/50",onClick:()=>t("documents")},{id:"telehealth",title:"Telehealth",description:"Virtual consultations",icon:"\ud83d\udcbb",color:"bg-rose-600/20 border-rose-400/50",onClick:()=>t("telehealth")},{id:"system-settings",title:"System Settings",description:"System configuration",icon:"\u2699\ufe0f",color:"bg-slate-600/20 border-slate-400/50",onClick:()=>t("system-settings")}];return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-white",children:r.patients}),(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"Patients"})]}),(0,Ot.jsx)("div",{className:"text-3xl",children:"\ud83d\udc65"})]})}),(0,Ot.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-white",children:["$",r.dailyRevenue]}),(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"Daily Revenue"})]}),(0,Ot.jsx)("div",{className:"text-3xl",children:"\ud83d\udcb0"})]})}),(0,Ot.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-white",children:r.patientCare}),(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"Patient Care"})]}),(0,Ot.jsx)("div",{className:"text-3xl",children:"\u2695\ufe0f"})]})}),(0,Ot.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-white",children:["$",r.pendingIssues]}),(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"Pending Issues"})]}),(0,Ot.jsx)("div",{className:"text-3xl",children:"\u26a0\ufe0f"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Practice Management Modules"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:l.map((e=>(0,Ot.jsx)("div",{onClick:e.onClick,className:"".concat(e.color," backdrop-blur-md rounded-lg border p-4 hover:bg-white/20 transition-all cursor-pointer"),children:(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("div",{className:"text-2xl",children:e.icon}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-white font-semibold text-sm",children:e.title}),(0,Ot.jsx)("p",{className:"text-blue-200 text-xs",children:e.description})]})]})},e.id)))})]}),(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Status"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"Authentication Source"}),(0,Ot.jsx)("p",{className:"text-white font-medium",children:(null===n||void 0===n?void 0:n.auth_source)||"Local"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-blue-200 text-sm",children:"User Role"}),(0,Ot.jsx)("p",{className:"text-white font-medium",children:(null===n||void 0===n?void 0:n.role)||"Admin"})]})]})]})]})},Vt=e=>{let{onStatusUpdate:t}=e;const[n,r]=(0,a.useState)({auth_url:"",session_name:"ClinicHub",verify_ssl:!0}),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("");return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"System Settings"}),(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Synology SSO Configuration"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),o("");try{await At.post("".concat(Lt,"/auth/synology-config"),n);o("Synology configuration updated successfully!"),t()}catch(s){var r,a;o("Error: ".concat((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to update configuration"))}finally{l(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Synology DSM URL"}),(0,Ot.jsx)("input",{type:"url",value:n.auth_url,onChange:e=>r(d(d({},n),{},{auth_url:e.target.value})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"https://your-synology-nas.example.com:5001",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Session Name"}),(0,Ot.jsx)("input",{type:"text",value:n.session_name,onChange:e=>r(d(d({},n),{},{session_name:e.target.value})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"ClinicHub",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:n.verify_ssl,onChange:e=>r(d(d({},n),{},{verify_ssl:e.target.checked})),className:"mr-2"}),(0,Ot.jsx)("label",{className:"text-blue-200 text-sm",children:"Verify SSL Certificate"})]}),(0,Ot.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:s?"Updating...":"Update Configuration"})]}),i&&(0,Ot.jsx)("div",{className:"mt-4 p-3 rounded-lg ".concat(i.includes("Error")?"bg-red-500/20 border border-red-500/50":"bg-green-500/20 border border-green-500/50"),children:(0,Ot.jsx)("p",{className:"text-sm ".concat(i.includes("Error")?"text-red-200":"text-green-200"),children:i})})]})})]})},$t=()=>{const[e,t]=(0,a.useState)("email"),[n,r]=(0,a.useState)({to:"",subject:"",body:""}),[s,l]=(0,a.useState)({to:"",document:null}),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(null);(0,a.useEffect)((()=>{x()}),[]);const x=async()=>{try{const e=await At.get("".concat(Lt,"/communication/status"));h(e.data)}catch(e){console.error("Failed to fetch communication status:",e)}},p=async(e,t)=>{o(!0),u("");try{const n={from_number:e,to_number:t,call_type:"outbound"},r=await At.post("".concat(Lt,"/communication/voip-call"),n);r.data.success?u("\u2705 ".concat(r.data.message)):u("\u274c ".concat(r.data.message))}catch(a){var n,r;u("\u274c Error: ".concat((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to initiate call"))}finally{o(!1)}};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Communication Gateway"}),m&&(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(m.gateway_connected?"bg-green-400":"bg-yellow-400")}),(0,Ot.jsxs)("span",{className:"text-sm text-blue-200",children:["Gateway: ",m.gateway_connected?"Connected":"Simulated"]})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>t("email"),className:"px-4 py-2 rounded-lg transition-colors ".concat("email"===e?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Email"}),(0,Ot.jsx)("button",{onClick:()=>t("fax"),className:"px-4 py-2 rounded-lg transition-colors ".concat("fax"===e?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Fax"}),(0,Ot.jsx)("button",{onClick:()=>t("voip"),className:"px-4 py-2 rounded-lg transition-colors ".concat("voip"===e?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"VoIP"}),(0,Ot.jsx)("button",{onClick:()=>t("status"),className:"px-4 py-2 rounded-lg transition-colors ".concat("status"===e?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"Status"})]}),"email"===e&&(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),u("");try{const e=await At.post("".concat(Lt,"/communication/send-email"),n);e.data.success?(u("\u2705 ".concat(e.data.message)),r({to:"",subject:"",body:""})):u("\u274c ".concat(e.data.message))}catch(s){var t,a;u("\u274c Error: ".concat((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to send email"))}finally{o(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"To"}),(0,Ot.jsx)("input",{type:"email",value:n.to,onChange:e=>r(d(d({},n),{},{to:e.target.value})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"recipient@example.com",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Subject"}),(0,Ot.jsx)("input",{type:"text",value:n.subject,onChange:e=>r(d(d({},n),{},{subject:e.target.value})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Email subject",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Message"}),(0,Ot.jsx)("textarea",{value:n.body,onChange:e=>r(d(d({},n),{},{body:e.target.value})),rows:"4",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Email message",required:!0})]}),(0,Ot.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:i?"Sending...":"Send Email"})]}),"fax"===e&&(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),u("");try{var t;const e={to:s.to,document:(null===(t=s.document)||void 0===t?void 0:t.name)||"uploaded_document.pdf",cover_page:!0},n=await At.post("".concat(Lt,"/communication/send-fax"),e);n.data.success?(u("\u2705 ".concat(n.data.message)),l({to:"",document:null})):u("\u274c ".concat(n.data.message))}catch(a){var n,r;u("\u274c Error: ".concat((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to send fax"))}finally{o(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Fax Number"}),(0,Ot.jsx)("input",{type:"tel",value:s.to,onChange:e=>l(d(d({},s),{},{to:e.target.value})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1234567890",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Document"}),(0,Ot.jsx)("input",{type:"file",onChange:e=>l(d(d({},s),{},{document:e.target.files[0]})),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700",accept:".pdf,.doc,.docx",required:!0})]}),(0,Ot.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:i?"Sending...":"Send Fax"})]}),"voip"===e&&(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("h3",{className:"text-white font-medium mb-4",children:"Quick Dial"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsx)("button",{onClick:()=>p("clinic-main","911"),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",disabled:i,children:"Emergency (911)"}),(0,Ot.jsx)("button",{onClick:()=>p("clinic-main","+1234567890"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",disabled:i,children:"Sample Call"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("h3",{className:"text-white font-medium mb-2",children:"VoIP Features"}),(0,Ot.jsxs)("ul",{className:"text-blue-200 text-sm space-y-1",children:[(0,Ot.jsx)("li",{children:"\u2022 Outbound calling"}),(0,Ot.jsx)("li",{children:"\u2022 Call logging and recording"}),(0,Ot.jsx)("li",{children:"\u2022 Patient communication tracking"}),(0,Ot.jsx)("li",{children:"\u2022 Integration with clinic workflows"})]})]})]}),"status"===e&&m&&(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("h3",{className:"text-white font-medium mb-4",children:"Gateway Status"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Connection:"}),(0,Ot.jsx)("span",{className:"ml-2 ".concat(m.gateway_connected?"text-green-400":"text-yellow-400"),children:m.gateway_connected?"Connected":"Simulated Mode"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Gateway URL:"}),(0,Ot.jsx)("span",{className:"text-white ml-2 text-xs",children:m.gateway_url})]})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("h3",{className:"text-white font-medium mb-4",children:"Services Status"}),(0,Ot.jsx)("div",{className:"space-y-3",children:Object.entries(m.services).map((e=>{let[t,n]=e;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-white capitalize",children:t}),(0,Ot.jsxs)("span",{className:"text-blue-300 text-sm ml-2",children:["(",n.description,")"]})]}),(0,Ot.jsx)("span",{className:"text-sm px-2 py-1 rounded ".concat("available"===n.status?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:n.status})]},t)}))}),!m.gateway_connected&&(0,Ot.jsx)("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:(0,Ot.jsxs)("p",{className:"text-yellow-200 text-sm",children:["\ud83d\udcdd ",m.note]})})]})]}),c&&(0,Ot.jsx)("div",{className:"p-3 rounded-lg ".concat(c.includes("\u2705")?"bg-green-500/20 border border-green-500/50":"bg-red-500/20 border border-red-500/50"),children:(0,Ot.jsx)("p",{className:"text-sm ".concat(c.includes("\u2705")?"text-green-200":"text-red-200"),children:c})})]})]})},Ht=()=>{const{user:e}=zt(),[t,n]=(0,a.useState)("patients"),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[f,g]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[j,w]=(0,a.useState)([]),[N,_]=(0,a.useState)([]),[S,k]=(0,a.useState)([]),[C,E]=(0,a.useState)([]),[P,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!1),[R,O]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[I,z]=(0,a.useState)(!1),[M,U]=(0,a.useState)(!1),[q,B]=(0,a.useState)(null),[V,$]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[Q,K]=(0,a.useState)({subjective:"",objective:"",assessment:"",plan:"",provider:(null===e||void 0===e?void 0:e.username)||"Dr. Provider"}),[J,G]=(0,a.useState)({temperature:"",systolic_bp:"",diastolic_bp:"",heart_rate:"",respiratory_rate:"",oxygen_saturation:"",weight:"",height:"",pain_scale:"",notes:""}),[X,Y]=(0,a.useState)({allergen:"",reaction:"",severity:"mild",onset_date:"",notes:""}),[Z,ee]=(0,a.useState)({name:"",dosage:"",frequency:"",route:"oral",start_date:"",end_date:"",prescribing_physician:(null===e||void 0===e?void 0:e.username)||"Dr. Provider",instructions:""}),[te,ne]=(0,a.useState)({medication_name:"",dosage:"",quantity:"",frequency:"",duration:"",instructions:"",refills:0}),[re,ae]=(0,a.useState)({condition:"",diagnosis_date:"",status:"active",notes:""}),[se,le]=(0,a.useState)({first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",gender:"",address_line1:"",city:"",state:"",zip_code:""});(0,a.useEffect)((()=>{"patients"===t&&ie()}),[t]),(0,a.useEffect)((()=>{l&&"details"===t&&oe(l.id)}),[l,t]);const ie=async()=>{c(!0);try{const e=await At.get("".concat(Lt,"/patients"));s(e.data),x("")}catch(h){console.error("Failed to fetch patients:",h),x("Failed to fetch patients. Please try again."),s([])}finally{c(!1)}},oe=async e=>{try{const[t,n,r,a,s]=await Promise.all([At.get("".concat(Lt,"/soap-notes/patient/").concat(e)).catch((()=>({data:[]}))),At.get("".concat(Lt,"/vital-signs/patient/").concat(e)).catch((()=>({data:[]}))),At.get("".concat(Lt,"/allergies/patient/").concat(e)).catch((()=>({data:[]}))),At.get("".concat(Lt,"/medications/patient/").concat(e)).catch((()=>({data:[]}))),At.get("".concat(Lt,"/patients/").concat(e,"/prescriptions")).catch((()=>({data:[]})))]);g(t.data),y(n.data),w(r.data),_(a.data),k(s.data)}catch(h){console.error("Failed to fetch patient data:",h)}},ce=e=>{const{name:t,value:n}=e.target;le((e=>d(d({},e),{},{[t]:n})))},de=e=>{const{name:t,value:n}=e.target;K((e=>d(d({},e),{},{[t]:n})))},ue=e=>{const{name:t,value:n}=e.target;G((e=>d(d({},e),{},{[t]:n})))},me=async t=>{t.preventDefault(),c(!0),x(""),b("");try{const t={patient_id:l.id,encounter_type:"office_visit",scheduled_date:(new Date).toISOString(),provider:Q.provider,chief_complaint:"SOAP note documentation",reason_for_visit:"Clinical documentation"},n=await At.post("".concat(Lt,"/encounters"),t),r=d({encounter_id:n.data.id,patient_id:l.id},Q);let a;q?(a=await At.put("".concat(Lt,"/soap-notes/").concat(q.id),r),b("SOAP note updated successfully!")):(a=await At.post("".concat(Lt,"/soap-notes"),r),b("SOAP note added successfully!")),K({subjective:"",objective:"",assessment:"",plan:"",provider:(null===e||void 0===e?void 0:e.username)||"Dr. Provider"}),D(!1),B(null),oe(l.id)}catch(h){var n,r;console.error("Failed to save SOAP note:",h),x((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to save SOAP note. Please try again.")}finally{c(!1)}},he=t=>{K({subjective:t.subjective||"",objective:t.objective||"",assessment:t.assessment||"",plan:t.plan||"",provider:t.provider||(null===e||void 0===e?void 0:e.username)||"Dr. Provider"}),B(t),D(!0)},xe=async e=>{c(!0),x(""),b("");try{await At.put("".concat(Lt,"/soap-notes/").concat(e.id),d(d({},e),{},{status:"completed"}));const t={patient_id:l.id,soap_note_id:e.id,provider:e.provider,date:(new Date).toISOString(),services:["Clinical consultation","SOAP note documentation"],total_amount:150};await At.post("".concat(Lt,"/receipts"),t),b("SOAP note completed and receipt generated successfully!"),oe(l.id)}catch(h){var t,n;console.error("Failed to complete SOAP note:",h),x((null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to complete SOAP note. Please try again.")}finally{c(!1)}},pe=async e=>{try{const t=(await At.get("".concat(Lt,"/receipts/soap-note/").concat(e.id))).data;window.open("","_blank").document.write("\n        <html>\n          <head><title>Receipt - ".concat(be(l),'</title></head>\n          <body style="font-family: Arial, sans-serif; padding: 20px;">\n            <h2>Medical Services Receipt</h2>\n            <p><strong>Patient:</strong> ').concat(be(l),"</p>\n            <p><strong>Date:</strong> ").concat(new Date(t.date).toLocaleDateString(),"</p>\n            <p><strong>Provider:</strong> ").concat(t.provider,"</p>\n            <p><strong>Services:</strong> ").concat(t.services.join(", "),"</p>\n            <p><strong>Total:</strong> $").concat(t.total_amount,'</p>\n            <button onclick="window.print()">Print</button>\n          </body>\n        </html>\n      '))}catch(h){console.error("Failed to fetch receipt:",h),x("Failed to fetch receipt. Please try again.")}},be=e=>{if(e.name&&e.name.length>0){const t=e.name[0],n=t.given&&t.given.length>0?t.given[0]:"",r=t.family||"";return"".concat(n," ").concat(r)}return"Unknown Patient"},fe=e=>{if(e.telecom&&e.telecom.length>0){const t=e.telecom.find((e=>"phone"===e.system));return t?t.value:""}return""},ge=e=>{if(e.telecom&&e.telecom.length>0){const t=e.telecom.find((e=>"email"===e.system));return t?t.value:""}return""},ve=e=>{if(e.address&&e.address.length>0){const t=e.address[0],n=t.line&&t.line.length>0?t.line[0]:"",r=t.city||"",a=t.state||"",s=t.postal_code||"";return"".concat(n,", ").concat(r,", ").concat(a," ").concat(s).replace(/^, |, $/,"")}return""};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Comprehensive EHR System"}),(0,Ot.jsx)("button",{onClick:()=>m(!u),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:u?"Cancel":"Add Patient"})]}),p&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3 mb-4",children:(0,Ot.jsx)("p",{className:"text-green-200 text-sm",children:p})}),h&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:(0,Ot.jsx)("p",{className:"text-red-200 text-sm",children:h})}),u&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Add New Patient"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),x(""),b("");try{await At.post("".concat(Lt,"/patients"),se);b("Patient added successfully!"),le({first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",gender:"",address_line1:"",city:"",state:"",zip_code:""}),m(!1),ie()}catch(h){var t,n;console.error("Failed to add patient:",h),x(Rt((null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to add patient. Please try again."))}finally{c(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"First Name *"}),(0,Ot.jsx)("input",{type:"text",name:"first_name",value:se.first_name,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter first name",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Last Name *"}),(0,Ot.jsx)("input",{type:"text",name:"last_name",value:se.last_name,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter last name",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Email"}),(0,Ot.jsx)("input",{type:"email",name:"email",value:se.email,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email address"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Phone"}),(0,Ot.jsx)("input",{type:"tel",name:"phone",value:se.phone,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter phone number"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Date of Birth"}),(0,Ot.jsx)("input",{type:"date",name:"date_of_birth",value:se.date_of_birth,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Gender"}),(0,Ot.jsxs)("select",{name:"gender",value:se.gender,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-400",children:[(0,Ot.jsx)("option",{value:"",children:"Select gender"}),(0,Ot.jsx)("option",{value:"male",children:"Male"}),(0,Ot.jsx)("option",{value:"female",children:"Female"}),(0,Ot.jsx)("option",{value:"other",children:"Other"}),(0,Ot.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Address"}),(0,Ot.jsx)("input",{type:"text",name:"address_line1",value:se.address_line1,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter street address"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"City"}),(0,Ot.jsx)("input",{type:"text",name:"city",value:se.city,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter city"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"State"}),(0,Ot.jsx)("input",{type:"text",name:"state",value:se.state,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter state"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"ZIP Code"}),(0,Ot.jsx)("input",{type:"text",name:"zip_code",value:se.zip_code,onChange:ce,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter ZIP code"})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:o?"Adding...":"Add Patient"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>m(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex space-x-2 flex-wrap",children:[(0,Ot.jsxs)("button",{onClick:()=>n("patients"),className:"px-4 py-2 rounded-lg transition-colors ".concat("patients"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:["Patient List (",r.length,")"]}),(0,Ot.jsx)("button",{onClick:()=>n("details"),className:"px-4 py-2 rounded-lg transition-colors ".concat("details"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),disabled:!l,children:"\ud83c\udfe5 Patient Chart"}),(0,Ot.jsx)("button",{onClick:()=>n("vitals"),className:"px-4 py-2 rounded-lg transition-colors ".concat("vitals"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),disabled:!l,children:"\ud83d\udcca Vital Signs"}),(0,Ot.jsx)("button",{onClick:()=>n("medications"),className:"px-4 py-2 rounded-lg transition-colors ".concat("medications"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),disabled:!l,children:"\ud83d\udc8a Medications"}),(0,Ot.jsx)("button",{onClick:()=>n("allergies"),className:"px-4 py-2 rounded-lg transition-colors ".concat("allergies"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),disabled:!l,children:"\u26a0\ufe0f Allergies"}),(0,Ot.jsx)("button",{onClick:()=>n("prescriptions"),className:"px-4 py-2 rounded-lg transition-colors ".concat("prescriptions"===t?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),disabled:!l,children:"\ud83d\udcdd Prescriptions"})]}),"patients"===t&&(0,Ot.jsx)("div",{className:"space-y-2",children:o?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading patients..."]}):(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"grid grid-cols-1 gap-3",children:r.map((e=>(0,Ot.jsxs)("div",{onClick:()=>(e=>{i(e),n("details")})(e),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors cursor-pointer ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-600/20 border-blue-400/50":""),children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:be(e)}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:["DOB: ",e.birth_date||"Not provided"," | ",e.gender||"Not specified"]})]}),(0,Ot.jsx)("div",{className:"text-blue-300 text-sm",children:fe(e)})]}),(0,Ot.jsx)("div",{className:"text-blue-300 text-sm mt-2",children:ve(e)||"No address provided"})]},e.id)))}),0===r.length&&!o&&(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udc65"}),(0,Ot.jsx)("p",{className:"text-lg",children:"No patients found"}),(0,Ot.jsx)("p",{className:"text-sm mt-2",children:'Click "Add Patient" to get started'})]})]})}),"details"===t&&l&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:be(l)}),(0,Ot.jsxs)("div",{className:"text-sm text-blue-200",children:["Patient ID: ",l.id]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"DOB:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:l.birth_date||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Gender:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:l.gender||"Not specified"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Phone:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:fe(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Email:"}),(0,Ot.jsx)("span",{className:"text-white ml-2 truncate",children:ge(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Address:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:ve(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Status:"}),(0,Ot.jsx)("span",{className:"text-white ml-2 capitalize",children:l.status||"active"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Created:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:new Date(l.created_at).toLocaleDateString()})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-blue-500/20 border border-blue-500/50 rounded-lg p-3",children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"SOAP Notes"}),(0,Ot.jsx)("div",{className:"text-white text-xl font-bold",children:f.length})]}),(0,Ot.jsxs)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3",children:[(0,Ot.jsx)("div",{className:"text-green-200 text-sm",children:"Vital Signs"}),(0,Ot.jsx)("div",{className:"text-white text-xl font-bold",children:v.length})]}),(0,Ot.jsxs)("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-3",children:[(0,Ot.jsx)("div",{className:"text-yellow-200 text-sm",children:"Allergies"}),(0,Ot.jsx)("div",{className:"text-white text-xl font-bold",children:j.length})]}),(0,Ot.jsxs)("div",{className:"bg-purple-500/20 border border-purple-500/50 rounded-lg p-3",children:[(0,Ot.jsx)("div",{className:"text-purple-200 text-sm",children:"Medications"}),(0,Ot.jsx)("div",{className:"text-white text-xl font-bold",children:N.length})]}),(0,Ot.jsxs)("div",{className:"bg-indigo-500/20 border border-indigo-500/50 rounded-lg p-3",children:[(0,Ot.jsx)("div",{className:"text-indigo-200 text-sm",children:"Prescriptions"}),(0,Ot.jsx)("div",{className:"text-white text-xl font-bold",children:S.length})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h4",{className:"text-lg font-medium text-white",children:"\ud83d\udccb SOAP Notes"}),(0,Ot.jsx)("button",{onClick:()=>D(!P),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:P?"Cancel":"Add SOAP Note"})]}),P&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[(0,Ot.jsx)("h5",{className:"text-md font-medium text-white mb-3",children:q?"Edit SOAP Note":"New SOAP Note"}),(0,Ot.jsxs)("form",{onSubmit:me,className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Subjective (Patient's complaints and history)"}),(0,Ot.jsx)("textarea",{name:"subjective",value:Q.subjective,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"What the patient reports, symptoms, history...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Objective (Physical examination findings)"}),(0,Ot.jsx)("textarea",{name:"objective",value:Q.objective,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Vital signs, physical exam findings, lab results...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Assessment (Diagnosis and clinical impression)"}),(0,Ot.jsx)("textarea",{name:"assessment",value:Q.assessment,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Diagnosis, clinical impression, differential diagnosis...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Plan (Treatment plan and follow-up)"}),(0,Ot.jsx)("textarea",{name:"plan",value:Q.plan,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Treatment plan, medications, follow-up instructions...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Provider"}),(0,Ot.jsx)("input",{type:"text",name:"provider",value:Q.provider,onChange:de,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Provider name",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:o?"Saving...":q?"Update SOAP Note":"Save SOAP Note"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{D(!1),B(null),K({subjective:"",objective:"",assessment:"",plan:"",provider:(null===e||void 0===e?void 0:e.username)||"Dr. Provider"})},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:f.length>0?f.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:["SOAP Note - ",new Date(e.created_at).toLocaleDateString()]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-600/20 text-green-300":"draft"===e.status?"bg-yellow-600/20 text-yellow-300":"bg-gray-600/20 text-gray-300"),children:e.status}),(0,Ot.jsxs)("span",{className:"text-blue-300 text-sm",children:["by ",e.provider]}),"completed"!==e.status&&(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("button",{onClick:()=>he(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"Edit"}),(0,Ot.jsx)("button",{onClick:()=>xe(e),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"Complete & Generate Receipt"})]}),"completed"===e.status&&(0,Ot.jsx)("button",{onClick:()=>pe(e),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"View Receipt"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Subjective:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.subjective})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Objective:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.objective})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Assessment:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.assessment})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Plan:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.plan})]})]})]},e.id))):(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-4",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcdd"}),(0,Ot.jsx)("p",{children:"No SOAP notes found for this patient"}),(0,Ot.jsx)("p",{className:"text-sm mt-1",children:'Click "Add SOAP Note" to create the first note'})]})})]})]}),"vitals"===t&&l&&(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h4",{className:"text-lg font-medium text-white",children:"\ud83d\udcca Vital Signs"}),(0,Ot.jsx)("button",{onClick:()=>A(!T),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:T?"Cancel":"Add Vital Signs"})]}),T&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[(0,Ot.jsx)("h5",{className:"text-md font-medium text-white mb-3",children:"New Vital Signs"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l)try{c(!0),x("");const e={patient_id:l.id,temperature:parseFloat(J.temperature)||0,systolic_bp:parseInt(J.systolic_bp)||0,diastolic_bp:parseInt(J.diastolic_bp)||0,heart_rate:parseInt(J.heart_rate)||0,respiratory_rate:parseInt(J.respiratory_rate)||0,oxygen_saturation:parseFloat(J.oxygen_saturation)||0,weight:parseFloat(J.weight)||0,height:parseFloat(J.height)||0,pain_scale:parseInt(J.pain_scale)||0,notes:J.notes||"",bmi:J.weight&&J.height?parseFloat((J.weight/(J.height*J.height)*703).toFixed(1)):0};await At.post("".concat(Lt,"/vital-signs"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),b("Vital signs added successfully!"),G({temperature:"",systolic_bp:"",diastolic_bp:"",heart_rate:"",respiratory_rate:"",oxygen_saturation:"",weight:"",height:"",pain_scale:"",notes:""}),A(!1),oe(l.id)}catch(h){var t,n;console.error("Failed to save vital signs:",h),x((null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save vital signs. Please try again.")}finally{c(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Temperature (\xb0F)"}),(0,Ot.jsx)("input",{type:"number",name:"temperature",value:J.temperature,onChange:ue,step:"0.1",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"98.6"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Heart Rate (BPM)"}),(0,Ot.jsx)("input",{type:"number",name:"heart_rate",value:J.heart_rate,onChange:ue,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"72"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Systolic BP"}),(0,Ot.jsx)("input",{type:"number",name:"systolic_bp",value:J.systolic_bp,onChange:ue,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"120"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Diastolic BP"}),(0,Ot.jsx)("input",{type:"number",name:"diastolic_bp",value:J.diastolic_bp,onChange:ue,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"80"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Respiratory Rate"}),(0,Ot.jsx)("input",{type:"number",name:"respiratory_rate",value:J.respiratory_rate,onChange:ue,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"16"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"O2 Saturation (%)"}),(0,Ot.jsx)("input",{type:"number",name:"oxygen_saturation",value:J.oxygen_saturation,onChange:ue,step:"0.1",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"98.0"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Weight (lbs)"}),(0,Ot.jsx)("input",{type:"number",name:"weight",value:J.weight,onChange:ue,step:"0.1",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"150"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Height (inches)"}),(0,Ot.jsx)("input",{type:"number",name:"height",value:J.height,onChange:ue,step:"0.1",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"68"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Pain Scale (0-10)"}),(0,Ot.jsx)("input",{type:"number",name:"pain_scale",value:J.pain_scale,onChange:ue,min:"0",max:"10",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"0"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Notes"}),(0,Ot.jsx)("textarea",{name:"notes",value:J.notes,onChange:ue,rows:2,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Additional notes about vital signs..."})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:o?"Saving...":"Save Vital Signs"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>A(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:v.length>0?v.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"flex justify-between items-start mb-3",children:(0,Ot.jsxs)("div",{className:"text-white font-medium",children:[new Date(e.recorded_at||e.created_at).toLocaleDateString()," - ",new Date(e.recorded_at||e.created_at).toLocaleTimeString()]})}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Temperature:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.temperature,"\xb0F"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Heart Rate:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.heart_rate," BPM"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Blood Pressure:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.systolic_bp,"/",e.diastolic_bp]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"O2 Sat:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.oxygen_saturation,"%"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Respiratory Rate:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.respiratory_rate})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Weight:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.weight," lbs"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Height:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.height," in"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Pain Scale:"}),(0,Ot.jsxs)("span",{className:"text-white ml-2",children:[e.pain_scale,"/10"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"BMI:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.weight&&e.height?(e.weight/(e.height*e.height)*703).toFixed(1):"N/A"})]})]}),e.notes&&(0,Ot.jsxs)("div",{className:"mt-3 text-sm",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Notes:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.notes})]})]},e.id))):(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-4",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{children:"No vital signs recorded for this patient"}),(0,Ot.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Vital Signs" to record the first measurement'})]})})]})}),("medications"===t||"allergies"===t||"prescriptions"===t)&&l&&(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udea7"}),(0,Ot.jsxs)("p",{className:"text-lg",children:[t.charAt(0).toUpperCase()+t.slice(1)," Module"]}),(0,Ot.jsx)("p",{className:"text-sm mt-2",children:"This tab is being developed with comprehensive functionality"}),(0,Ot.jsx)("p",{className:"text-xs mt-4 text-blue-300",children:"Backend APIs are ready - Frontend interface coming soon"})]}),"details"===t&&l&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:be(l)}),(0,Ot.jsxs)("div",{className:"text-sm text-blue-200",children:["Patient ID: ",l.id]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Date of Birth:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:l.birth_date||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Gender:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:l.gender||"Not specified"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Phone:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:fe(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Email:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:ge(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{className:"col-span-2",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Address:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:ve(l)||"Not provided"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Status:"}),(0,Ot.jsx)("span",{className:"text-white ml-2 capitalize",children:l.status||"active"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Created:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:new Date(l.created_at).toLocaleDateString()})]})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h4",{className:"text-lg font-medium text-white",children:"\ud83d\udccb SOAP Notes"}),(0,Ot.jsx)("button",{onClick:()=>D(!P),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:P?"Cancel":"Add SOAP Note"})]}),P&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[(0,Ot.jsx)("h5",{className:"text-md font-medium text-white mb-3",children:q?"Edit SOAP Note":"New SOAP Note"}),(0,Ot.jsxs)("form",{onSubmit:me,className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Subjective (Patient's complaints and history)"}),(0,Ot.jsx)("textarea",{name:"subjective",value:Q.subjective,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"What the patient reports, symptoms, history...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Objective (Physical examination findings)"}),(0,Ot.jsx)("textarea",{name:"objective",value:Q.objective,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Vital signs, physical exam findings, lab results...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Assessment (Diagnosis and clinical impression)"}),(0,Ot.jsx)("textarea",{name:"assessment",value:Q.assessment,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Diagnosis, clinical impression, differential diagnosis...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Plan (Treatment plan and follow-up)"}),(0,Ot.jsx)("textarea",{name:"plan",value:Q.plan,onChange:de,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Treatment plan, medications, follow-up instructions...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Provider"}),(0,Ot.jsx)("input",{type:"text",name:"provider",value:Q.provider,onChange:de,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Provider name",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:o?"Saving...":q?"Update SOAP Note":"Save SOAP Note"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{D(!1),B(null),K({subjective:"",objective:"",assessment:"",plan:"",provider:(null===e||void 0===e?void 0:e.username)||"Dr. Provider"})},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:f.length>0?f.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:["SOAP Note - ",new Date(e.created_at).toLocaleDateString()]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-600/20 text-green-300":"draft"===e.status?"bg-yellow-600/20 text-yellow-300":"bg-gray-600/20 text-gray-300"),children:e.status}),(0,Ot.jsxs)("span",{className:"text-blue-300 text-sm",children:["by ",e.provider]}),"completed"!==e.status&&(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("button",{onClick:()=>he(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"Edit"}),(0,Ot.jsx)("button",{onClick:()=>xe(e),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"Complete & Generate Receipt"})]}),"completed"===e.status&&(0,Ot.jsx)("button",{onClick:()=>pe(e),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1 rounded text-xs transition-colors",children:"View Receipt"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Subjective:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.subjective})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Objective:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.objective})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Assessment:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.assessment})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 font-medium mb-1",children:"Plan:"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.plan})]})]})]},e.id))):(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-4",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcdd"}),(0,Ot.jsx)("p",{children:"No SOAP notes found for this patient"}),(0,Ot.jsx)("p",{className:"text-sm mt-1",children:'Click "Add SOAP Note" to create the first note'})]})})]})]})]})]})};function Wt(){const{user:e,loading:t}=zt();return t?(0,Ot.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-white text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{children:"Loading ClinicHub..."})]})}):e?(0,Ot.jsx)(qt,{}):(0,Ot.jsx)(Ut,{})}const Qt=e=>{let{setActiveModule:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)("overview"),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),[y,j]=(0,a.useState)({patient_id:"",description:"",items:[{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}],notes:"",due_days:30}),[w,N]=(0,a.useState)({amount:0,payment_method:"cash",notes:""});(0,a.useEffect)((()=>{_(),S(),k()}),[]);const _=async()=>{o(!0);try{const e=await At.get("".concat(Lt,"/invoices"));r(e.data)}catch(e){console.error("Failed to fetch invoices:",e)}finally{o(!1)}},S=async()=>{try{const e=await At.get("".concat(Lt,"/patients"));f(e.data)}catch(e){console.error("Failed to fetch patients:",e)}},k=async()=>{try{const e=await At.get("".concat(Lt,"/inventory"));v(e.data)}catch(e){console.error("Failed to fetch inventory:",e)}},C=e=>e.reduce(((e,t)=>e+t.quantity*t.unit_price),0).toFixed(2),E=async e=>{e.preventDefault();try{const e=d(d({},y),{},{total_amount:C(y.items),status:"pending",issue_date:(new Date).toISOString().split("T")[0],due_date:new Date(Date.now()+24*y.due_days*60*60*1e3).toISOString().split("T")[0]}),t=await At.post("".concat(Lt,"/invoices"),e);r([t.data,...n]),j({patient_id:"",description:"",items:[{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}],notes:"",due_days:30}),h(!1)}catch(t){console.error("Failed to create invoice:",t)}},P=async e=>{if(e.preventDefault(),s)try{await At.post("".concat(Lt,"/invoices/").concat(s.id,"/payment"),w);const e=n.map((e=>e.id===s.id?d(d({},e),{},{status:"paid",paid_date:(new Date).toISOString().split("T")[0]}):e));r(e);const t=s.items.filter((e=>!e.is_service&&e.inventory_item_id)).map((e=>({item_id:e.inventory_item_id,quantity_used:e.quantity})));t.length>0&&await At.post("".concat(Lt,"/inventory/deduct-batch"),{updates:t}),N({amount:0,payment_method:"cash",notes:""}),p(!1),l(null)}catch(t){console.error("Failed to process payment:",t)}},D=()=>{j(d(d({},y),{},{items:[...y.items,{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}]}))},T=(e,t,n)=>{const r=y.items.map(((r,a)=>a===e?d(d({},r),{},{[t]:n}):r));j(d(d({},y),{},{items:r}))};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Invoice Management"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:"\ud83d\udcca"},{id:"detail",name:"Invoice Detail",icon:"\ud83d\udccb",disabled:!s}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>!e.disabled&&u(e.id),disabled:e.disabled,className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(c===e.id?"border-blue-400 text-blue-400":e.disabled?"border-transparent text-gray-500 cursor-not-allowed":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"overview"===c&&(()=>{const e={total:n.length,pending:n.filter((e=>"pending"===e.status)).length,paid:n.filter((e=>"paid"===e.status)).length,overdue:n.filter((e=>{const t=new Date(e.due_date),n=new Date;return"pending"===e.status&&t<n})).length,totalRevenue:n.filter((e=>"paid"===e.status)).reduce(((e,t)=>e+parseFloat(t.total_amount)),0),pendingRevenue:n.filter((e=>"pending"===e.status)).reduce(((e,t)=>e+parseFloat(t.total_amount)),0)};return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.total}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Invoices"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.pending}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Pending"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.paid}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Paid"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:e.overdue}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Overdue"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["$",e.totalRevenue.toFixed(2)]}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Revenue"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-yellow-400",children:["$",e.pendingRevenue.toFixed(2)]}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Pending Revenue"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Recent Invoices"}),(0,Ot.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Create Invoice"})]})}),i?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading invoices..."]}):(0,Ot.jsx)("div",{className:"p-4",children:n.length>0?(0,Ot.jsx)("div",{className:"space-y-4",children:n.slice(0,10).map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"flex items-center space-x-3",children:(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",e.invoice_number]}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:["Patient: ",e.patient_name||"N/A"]})]})}),(0,Ot.jsxs)("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Amount"}),(0,Ot.jsxs)("div",{className:"text-white text-sm font-bold",children:["$",e.total_amount]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Status"}),(0,Ot.jsx)("div",{className:"text-sm capitalize ".concat("paid"===e.status?"text-green-400":"pending"===e.status?"text-yellow-400":"text-red-400"),children:e.status})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Issue Date"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.issue_date})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Due Date"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.due_date||"N/A"})]})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>l(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"View"}),"pending"===e.status&&(0,Ot.jsx)("button",{onClick:()=>{l(e),N(d(d({},w),{},{amount:parseFloat(e.total_amount)})),p(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Pay"})]})]})},e.id)))}):(0,Ot.jsx)("div",{className:"text-center text-blue-200 py-8",children:'No invoices found. Click "Create Invoice" to get started.'})})]})]})})(),"detail"===c&&(s?(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-white",children:["Invoice #",s.invoice_number]}),(0,Ot.jsxs)("div",{className:"text-blue-200",children:["Patient: ",s.patient_name||"N/A"]})]}),(0,Ot.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("paid"===s.status?"bg-green-600 text-white":"pending"===s.status?"bg-yellow-600 text-white":"bg-red-600 text-white"),children:s.status.toUpperCase()})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Issue Date"}),(0,Ot.jsx)("div",{className:"text-white font-medium",children:s.issue_date})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Due Date"}),(0,Ot.jsx)("div",{className:"text-white font-medium",children:s.due_date||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Amount"}),(0,Ot.jsxs)("div",{className:"text-white font-bold text-xl",children:["$",s.total_amount]})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Items & Services"}),(0,Ot.jsx)("div",{className:"space-y-3",children:s.items&&s.items.map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.description}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:[e.is_service?"\ud83d\udd27 Service":"\ud83d\udce6 Product"," \u2022 Qty: ",e.quantity," \xd7 $",e.unit_price]})]}),(0,Ot.jsxs)("div",{className:"text-white font-bold",children:["$",(e.quantity*e.unit_price).toFixed(2)]})]},t)))}),(0,Ot.jsx)("div",{className:"mt-4 pt-4 border-t border-white/20",children:(0,Ot.jsxs)("div",{className:"flex justify-between text-xl font-bold text-white",children:[(0,Ot.jsx)("span",{children:"Total:"}),(0,Ot.jsxs)("span",{children:["$",s.total_amount]})]})})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Ot.jsx)("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"\ud83d\udda8\ufe0f Print Receipt"}),"pending"===s.status&&(0,Ot.jsx)("button",{onClick:()=>{N(d(d({},w),{},{amount:parseFloat(s.total_amount)})),p(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg",children:"\ud83d\udcb3 Process Payment"}),(0,Ot.jsx)("button",{onClick:()=>l(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg",children:"Back to List"})]})]})}):null),m&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-6",children:"Create New Invoice"}),(0,Ot.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{required:!0,value:y.patient_id,onChange:e=>j(d(d({},y),{},{patient_id:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),b.map((e=>{var t;return(0,Ot.jsxs)("option",{value:e.id,children:[e.name?null===(t=e.name.given)||void 0===t?void 0:t[0]:""," ",e.name?e.name.family:""," - ",e.id]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:y.description,onChange:e=>j(d(d({},y),{},{description:e.target.value})),placeholder:"Brief description of services/products",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Items & Services"}),(0,Ot.jsx)("button",{type:"button",onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"+ Add Item"})]}),(0,Ot.jsx)("div",{className:"space-y-4",children:y.items.map(((e,t)=>(0,Ot.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Description"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:e.description,onChange:e=>T(t,"description",e.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Quantity"}),(0,Ot.jsx)("input",{type:"number",min:"1",required:!0,value:e.quantity,onChange:e=>T(t,"quantity",parseInt(e.target.value)),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Unit Price"}),(0,Ot.jsx)("input",{type:"number",step:"0.01",min:"0",required:!0,value:e.unit_price,onChange:e=>T(t,"unit_price",parseFloat(e.target.value)),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm"})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsx)("button",{type:"button",onClick:()=>(e=>{const t=y.items.filter(((t,n)=>n!==e));j(d(d({},y),{},{items:t}))})(t),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm",children:"Remove"})})]}),(0,Ot.jsxs)("div",{className:"mt-3 flex items-center space-x-4",children:[(0,Ot.jsxs)("label",{className:"flex items-center text-gray-300 text-sm",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.is_service,onChange:e=>T(t,"is_service",e.target.checked),className:"mr-2"}),"Service (no inventory deduction)"]}),!e.is_service&&(0,Ot.jsxs)("select",{value:e.inventory_item_id||"",onChange:e=>T(t,"inventory_item_id",e.target.value),className:"px-3 py-1 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[(0,Ot.jsx)("option",{value:"",children:"Select Inventory Item"}),g.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," (Stock: ",e.current_stock,")"]},e.id)))]})]}),(0,Ot.jsx)("div",{className:"mt-2 text-right",children:(0,Ot.jsxs)("span",{className:"text-gray-300 text-sm",children:["Subtotal: $",(e.quantity*e.unit_price).toFixed(2)]})})]},t)))}),(0,Ot.jsx)("div",{className:"mt-4 text-right",children:(0,Ot.jsxs)("div",{className:"text-xl font-bold text-white",children:["Total: $",C(y.items)]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ot.jsx)("textarea",{value:y.notes,onChange:e=>j(d(d({},y),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Due Days"}),(0,Ot.jsxs)("select",{value:y.due_days,onChange:e=>j(d(d({},y),{},{due_days:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:0,children:"Due Immediately"}),(0,Ot.jsx)("option",{value:15,children:"15 Days"}),(0,Ot.jsx)("option",{value:30,children:"30 Days"}),(0,Ot.jsx)("option",{value:60,children:"60 Days"}),(0,Ot.jsx)("option",{value:90,children:"90 Days"})]})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Create Invoice"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-medium",children:"Cancel"})]})]})]})}),x&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-medium text-white mb-6",children:["Process Payment - Invoice #",null===s||void 0===s?void 0:s.invoice_number]}),(0,Ot.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Amount"}),(0,Ot.jsx)("input",{type:"number",step:"0.01",min:"0",required:!0,value:w.amount,onChange:e=>N(d(d({},w),{},{amount:parseFloat(e.target.value)})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Method"}),(0,Ot.jsxs)("select",{value:w.payment_method,onChange:e=>N(d(d({},w),{},{payment_method:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"cash",children:"Cash"}),(0,Ot.jsx)("option",{value:"card",children:"Credit/Debit Card"}),(0,Ot.jsx)("option",{value:"check",children:"Check"}),(0,Ot.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Ot.jsx)("option",{value:"insurance",children:"Insurance"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ot.jsx)("textarea",{value:w.notes,onChange:e=>N(d(d({},w),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg",children:"Process Payment"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})]})]})]})})]})},Kt=e=>{let{setActiveModule:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)("overview"),[x,p]=(0,a.useState)(null),[b,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)({patient_id:"",specialist_id:"",reason:"",urgency:"routine",clinical_notes:"",requested_services:"",insurance_authorization_required:!1,preferred_appointment_date:"",patient_symptoms:"",relevant_history:"",current_medications:"",diagnostic_results:""}),[w,N]=(0,a.useState)({name:"",specialty:"",practice_name:"",phone:"",email:"",address:"",fax:"",accepts_new_patients:!0,insurance_networks:"",notes:""});(0,a.useEffect)((()=>{_(),S(),k()}),[]);const _=async()=>{u(!0);try{const e=await At.get("".concat(Lt,"/referrals"));r(e.data)}catch(e){console.error("Failed to fetch referrals:",e),r([{id:"1",referral_number:"REF-2024-001",patient_name:"John Doe",patient_id:"P001",specialist_name:"Dr. Sarah Johnson",specialist_id:"S001",specialty:"Cardiology",reason:"Chest pain evaluation",status:"pending",urgency:"urgent",date_created:"2024-01-15",appointment_date:"2024-01-25",insurance_status:"approved"},{id:"2",referral_number:"REF-2024-002",patient_name:"Jane Smith",patient_id:"P002",specialist_name:"Dr. Michael Chen",specialist_id:"S002",specialty:"Orthopedics",reason:"Knee pain - possible arthritis",status:"scheduled",urgency:"routine",date_created:"2024-01-10",appointment_date:"2024-02-01",insurance_status:"pending"}])}finally{u(!1)}},S=async()=>{try{const e=await At.get("".concat(Lt,"/specialists"));l(e.data)}catch(e){console.error("Failed to fetch specialists:",e),l([{id:"S001",name:"Dr. Sarah Johnson",specialty:"Cardiology",practice_name:"Heart Care Associates",phone:"(555) 123-4567",email:"sarah@heartcare.com",address:"123 Medical Plaza, Suite 200",accepts_new_patients:!0,rating:4.8,years_experience:15},{id:"S002",name:"Dr. Michael Chen",specialty:"Orthopedics",practice_name:"Bone & Joint Clinic",phone:"(555) 234-5678",email:"mchen@boneclinic.com",address:"456 Healthcare Blvd, Floor 3",accepts_new_patients:!0,rating:4.9,years_experience:12},{id:"S003",name:"Dr. Emily Rodriguez",specialty:"Dermatology",practice_name:"Skin Health Center",phone:"(555) 345-6789",email:"erodriguez@skinhealth.com",address:"789 Wellness Ave, Building A",accepts_new_patients:!1,rating:4.7,years_experience:18}])}},k=async()=>{try{const e=await At.get("".concat(Lt,"/patients"));o(e.data)}catch(e){console.error("Failed to fetch patients:",e)}},C=async e=>{e.preventDefault();try{const e=d(d({},y),{},{referral_number:"REF-".concat((new Date).getFullYear(),"-").concat(String(n.length+1).padStart(3,"0")),date_created:(new Date).toISOString().split("T")[0],status:"pending"}),t=await At.post("".concat(Lt,"/referrals"),e);r([t.data,...n]),j({patient_id:"",specialist_id:"",reason:"",urgency:"routine",clinical_notes:"",requested_services:"",insurance_authorization_required:!1,preferred_appointment_date:"",patient_symptoms:"",relevant_history:"",current_medications:"",diagnostic_results:""}),f(!1)}catch(t){console.error("Failed to create referral:",t)}},E=async e=>{e.preventDefault();try{const e=await At.post("".concat(Lt,"/specialists"),w);l([e.data,...s]),N({name:"",specialty:"",practice_name:"",phone:"",email:"",address:"",fax:"",accepts_new_patients:!0,insurance_networks:"",notes:""}),v(!1)}catch(t){console.error("Failed to create specialist:",t)}},P=async(e,t)=>{try{await At.put("".concat(Lt,"/referrals/").concat(e,"/status"),{status:t}),r(n.map((n=>n.id===e?d(d({},n),{},{status:t}):n)))}catch(a){console.error("Failed to update referral status:",a)}};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Referral Management"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:"\ud83d\udcca"},{id:"specialists",name:"Specialist Network",icon:"\ud83d\udc68\u200d\u2695\ufe0f"},{id:"detail",name:"Referral Detail",icon:"\ud83d\udccb",disabled:!x}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>!e.disabled&&h(e.id),disabled:e.disabled,className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(m===e.id?"border-blue-400 text-blue-400":e.disabled?"border-transparent text-gray-500 cursor-not-allowed":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"overview"===m&&(()=>{const e={total:n.length,pending:n.filter((e=>"pending"===e.status)).length,scheduled:n.filter((e=>"scheduled"===e.status)).length,completed:n.filter((e=>"completed"===e.status)).length,urgent:n.filter((e=>"urgent"===e.urgency)).length,activeSpecialists:s.filter((e=>e.accepts_new_patients)).length};return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.total}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Referrals"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.pending}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Pending"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:e.scheduled}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Scheduled"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.completed}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Completed"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:e.urgent}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Urgent"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:e.activeSpecialists}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Active Specialists"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Recent Referrals"}),(0,Ot.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Create Referral"})]})}),c?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading referrals..."]}):(0,Ot.jsx)("div",{className:"p-4",children:n.length>0?(0,Ot.jsx)("div",{className:"space-y-4",children:n.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"flex items-center space-x-3",children:(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.referral_number}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:[e.patient_name," \u2192 ",e.specialist_name]})]})}),(0,Ot.jsxs)("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Specialty"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.specialty})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Reason"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.reason})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Status"}),(0,Ot.jsx)("div",{className:"text-sm capitalize ".concat("completed"===e.status?"text-green-400":"scheduled"===e.status?"text-blue-400":"pending"===e.status?"text-yellow-400":"text-red-400"),children:e.status})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Urgency"}),(0,Ot.jsx)("div",{className:"text-sm capitalize ".concat("urgent"===e.urgency?"text-red-400":"stat"===e.urgency?"text-red-500":"text-white"),children:e.urgency})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Appointment"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.appointment_date||"Not scheduled"})]})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>p(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"View"}),"pending"===e.status&&(0,Ot.jsx)("button",{onClick:()=>P(e.id,"scheduled"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Schedule"})]})]})},e.id)))}):(0,Ot.jsx)("div",{className:"text-center text-blue-200 py-8",children:'No referrals found. Click "Create Referral" to get started.'})})]})]})})(),"specialists"===m&&(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Specialist Network"}),(0,Ot.jsx)("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Add Specialist"})]})}),(0,Ot.jsx)("div",{className:"p-4",children:(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:e.specialty})]}),(0,Ot.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(e.accepts_new_patients?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.accepts_new_patients?"Accepting":"Full"})]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200",children:"Practice"}),(0,Ot.jsx)("div",{className:"text-white",children:e.practice_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200",children:"Phone"}),(0,Ot.jsx)("div",{className:"text-white",children:e.phone})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200",children:"Email"}),(0,Ot.jsx)("div",{className:"text-white",children:e.email})]}),e.rating&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200",children:"Rating"}),(0,Ot.jsxs)("div",{className:"text-yellow-400",children:["\u2605".repeat(Math.floor(e.rating))," ",e.rating]})]})]}),(0,Ot.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>{j(d(d({},y),{},{specialist_id:e.id})),f(!0)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Refer Patient"}),(0,Ot.jsx)("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm",children:"Contact"})]})]},e.id)))})})]})}),"detail"===m&&(x?(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-white",children:x.referral_number}),(0,Ot.jsxs)("div",{className:"text-blue-200",children:[x.patient_name," \u2192 ",x.specialist_name]})]}),(0,Ot.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("completed"===x.status?"bg-green-600 text-white":"scheduled"===x.status?"bg-blue-600 text-white":"pending"===x.status?"bg-yellow-600 text-white":"bg-red-600 text-white"),children:x.status.toUpperCase()})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Specialty"}),(0,Ot.jsx)("div",{className:"text-white font-medium",children:x.specialty})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Urgency"}),(0,Ot.jsx)("div",{className:"font-medium ".concat("urgent"===x.urgency?"text-red-400":"stat"===x.urgency?"text-red-500":"text-white"),children:x.urgency.toUpperCase()})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Date Created"}),(0,Ot.jsx)("div",{className:"text-white font-medium",children:x.date_created})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-medium text-white mb-3",children:"Referral Details"}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Reason for Referral"}),(0,Ot.jsx)("div",{className:"text-white",children:x.reason})]}),x.appointment_date&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Appointment Date"}),(0,Ot.jsx)("div",{className:"text-white",children:x.appointment_date})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Insurance Status"}),(0,Ot.jsx)("div",{className:"capitalize ".concat("approved"===x.insurance_status?"text-green-400":"pending"===x.insurance_status?"text-yellow-400":"text-red-400"),children:x.insurance_status})]})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"\ud83d\udda8\ufe0f Print Referral Letter"}),(0,Ot.jsx)("button",{onClick:()=>P(x.id,"completed"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg",children:"\u2705 Mark Complete"}),(0,Ot.jsx)("button",{onClick:()=>p(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg",children:"Back to List"})]})]})}):null),b&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-6",children:"Create New Referral"}),(0,Ot.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{required:!0,value:y.patient_id,onChange:e=>j(d(d({},y),{},{patient_id:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),i.map((e=>{var t;return(0,Ot.jsx)("option",{value:e.id,children:e.name?"".concat(null===(t=e.name.given)||void 0===t?void 0:t[0]," ").concat(e.name.family):"Patient ".concat(e.id)},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specialist"}),(0,Ot.jsxs)("select",{required:!0,value:y.specialist_id,onChange:e=>j(d(d({},y),{},{specialist_id:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"",children:"Select Specialist"}),s.filter((e=>e.accepts_new_patients)).map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Urgency"}),(0,Ot.jsxs)("select",{value:y.urgency,onChange:e=>j(d(d({},y),{},{urgency:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"routine",children:"Routine"}),(0,Ot.jsx)("option",{value:"urgent",children:"Urgent"}),(0,Ot.jsx)("option",{value:"stat",children:"STAT"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Appointment Date"}),(0,Ot.jsx)("input",{type:"date",value:y.preferred_appointment_date,onChange:e=>j(d(d({},y),{},{preferred_appointment_date:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason for Referral"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:y.reason,onChange:e=>j(d(d({},y),{},{reason:e.target.value})),placeholder:"Brief description of why patient needs specialist care",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinical Notes"}),(0,Ot.jsx)("textarea",{value:y.clinical_notes,onChange:e=>j(d(d({},y),{},{clinical_notes:e.target.value})),rows:4,placeholder:"Detailed clinical information for the specialist",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient Symptoms"}),(0,Ot.jsx)("textarea",{value:y.patient_symptoms,onChange:e=>j(d(d({},y),{},{patient_symptoms:e.target.value})),rows:3,placeholder:"Current symptoms and duration",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Relevant History"}),(0,Ot.jsx)("textarea",{value:y.relevant_history,onChange:e=>j(d(d({},y),{},{relevant_history:e.target.value})),rows:3,placeholder:"Relevant medical history",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Medications"}),(0,Ot.jsx)("textarea",{value:y.current_medications,onChange:e=>j(d(d({},y),{},{current_medications:e.target.value})),rows:3,placeholder:"List current medications and dosages",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"auth_required",checked:y.insurance_authorization_required,onChange:e=>j(d(d({},y),{},{insurance_authorization_required:e.target.checked})),className:"w-4 h-4"}),(0,Ot.jsx)("label",{htmlFor:"auth_required",className:"text-gray-300",children:"Insurance authorization required"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Create Referral"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-medium",children:"Cancel"})]})]})]})}),g&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-6",children:"Add New Specialist"}),(0,Ot.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:w.name,onChange:e=>N(d(d({},w),{},{name:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Specialty"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:w.specialty,onChange:e=>N(d(d({},w),{},{specialty:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Practice Name"}),(0,Ot.jsx)("input",{type:"text",value:w.practice_name,onChange:e=>N(d(d({},w),{},{practice_name:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Ot.jsx)("input",{type:"tel",required:!0,value:w.phone,onChange:e=>N(d(d({},w),{},{phone:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Ot.jsx)("input",{type:"email",value:w.email,onChange:e=>N(d(d({},w),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),(0,Ot.jsx)("textarea",{value:w.address,onChange:e=>N(d(d({},w),{},{address:e.target.value})),rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"accepts_new",checked:w.accepts_new_patients,onChange:e=>N(d(d({},w),{},{accepts_new_patients:e.target.checked})),className:"w-4 h-4"}),(0,Ot.jsx)("label",{htmlFor:"accepts_new",className:"text-gray-300",children:"Currently accepting new patients"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg",children:"Add Specialist"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>v(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})]})]})]})})]})},Jt=e=>{let{setActiveModule:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("overview"),[c,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)({first_name:"",last_name:"",email:"",phone:"",role:"staff",department:"",hire_date:(new Date).toISOString().split("T")[0],salary:"",employment_type:"full_time",benefits_eligible:!0,vacation_days_allocated:15,sick_days_allocated:10});(0,a.useEffect)((()=>{b()}),[]);const b=async()=>{l(!0);try{const e=await At.get("".concat(Lt,"/employees"));r(e.data)}catch(e){console.error("Failed to fetch employees:",e)}finally{l(!1)}};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Employee Management"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:"\ud83d\udc65"},{id:"timetracking",name:"Time & Attendance",icon:"\u23f0"},{id:"payroll",name:"Payroll",icon:"\ud83d\udcb0"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>o(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(i===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"overview"===i&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:n.length}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Employees"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:n.filter((e=>"doctor"===e.role)).length}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Doctors"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:n.filter((e=>"nurse"===e.role)).length}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Nurses"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:n.filter((e=>"full_time"===e.employment_type)).length}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Full-Time"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Employee Directory"}),(0,Ot.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Add Employee"})]})}),s?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading employees..."]}):(0,Ot.jsx)("div",{className:"p-4",children:n.length>0?(0,Ot.jsx)("div",{className:"space-y-4",children:n.map((e=>{var t,a;return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Ot.jsxs)("span",{className:"text-white font-medium",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(a=e.last_name)||void 0===a?void 0:a[0]]})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:[e.first_name," ",e.last_name]}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:["ID: ",e.employee_id]})]})]}),(0,Ot.jsxs)("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Role"}),(0,Ot.jsx)("div",{className:"text-white text-sm capitalize",children:e.role})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Department"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.department||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Email"}),(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.email})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"Status"}),(0,Ot.jsx)("div",{className:"text-green-400 text-sm",children:"Active"})]})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>u(e),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"View"}),(0,Ot.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this employee?"))try{await At.delete("".concat(Lt,"/employees/").concat(e)),r(n.filter((t=>t.id!==e)))}catch(t){console.error("Failed to delete employee:",t)}})(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})]})},e.id)}))}):(0,Ot.jsx)("div",{className:"text-center text-blue-200 py-8",children:'No employees found. Click "Add Employee" to get started.'})})]})]}),"timetracking"===i&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Time Clock"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsx)("div",{children:(0,Ot.jsx)("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium",children:"\u23f0 Clock In"})}),(0,Ot.jsx)("div",{children:(0,Ot.jsx)("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-medium",children:"\u23f0 Clock Out"})})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Today's Attendance"}),(0,Ot.jsx)("div",{className:"space-y-3",children:n.slice(0,5).map((e=>(0,Ot.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"text-white",children:[e.first_name," ",e.last_name]}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:e.role})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsx)("div",{className:"text-green-400 text-sm",children:"Present"}),(0,Ot.jsx)("div",{className:"text-blue-200 text-xs",children:"8:00 AM - Present"})]})]},e.id)))})]})]}),"payroll"===i&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Payroll Summary"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:"$45,250"}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"This Period"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:"$542,000"}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"YTD Total"})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:"Next Friday"}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Next Payday"})]})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Payroll Actions"}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Process Payroll"}),(0,Ot.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Generate Reports"}),(0,Ot.jsx)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg",children:"Print Checks"})]})]})]}),m&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-screen overflow-y-auto",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Add New Employee"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await At.post("".concat(Lt,"/employees"),x);r([...n,e.data]),p({first_name:"",last_name:"",email:"",phone:"",role:"staff",department:"",hire_date:(new Date).toISOString().split("T")[0],salary:"",employment_type:"full_time",benefits_eligible:!0,vacation_days_allocated:15,sick_days_allocated:10}),h(!1)}catch(t){console.error("Failed to add employee:",t)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:x.first_name,onChange:e=>p(d(d({},x),{},{first_name:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:x.last_name,onChange:e=>p(d(d({},x),{},{last_name:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,Ot.jsx)("input",{type:"email",required:!0,value:x.email,onChange:e=>p(d(d({},x),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),(0,Ot.jsx)("input",{type:"tel",value:x.phone,onChange:e=>p(d(d({},x),{},{phone:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),(0,Ot.jsxs)("select",{value:x.role,onChange:e=>p(d(d({},x),{},{role:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Ot.jsx)("option",{value:"nurse",children:"Nurse"}),(0,Ot.jsx)("option",{value:"technician",children:"Technician"}),(0,Ot.jsx)("option",{value:"admin",children:"Admin"}),(0,Ot.jsx)("option",{value:"staff",children:"Staff"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Department"}),(0,Ot.jsx)("input",{type:"text",value:x.department,onChange:e=>p(d(d({},x),{},{department:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Hire Date"}),(0,Ot.jsx)("input",{type:"date",value:x.hire_date,onChange:e=>p(d(d({},x),{},{hire_date:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Salary"}),(0,Ot.jsx)("input",{type:"number",value:x.salary,onChange:e=>p(d(d({},x),{},{salary:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg",children:"Add Employee"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})]})]})]})}),c&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-medium text-white",children:[c.first_name," ",c.last_name]}),(0,Ot.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Employee ID"}),(0,Ot.jsx)("div",{className:"text-white",children:c.employee_id})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Role"}),(0,Ot.jsx)("div",{className:"text-white capitalize",children:c.role})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Department"}),(0,Ot.jsx)("div",{className:"text-white",children:c.department||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Email"}),(0,Ot.jsx)("div",{className:"text-white",children:c.email})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Phone"}),(0,Ot.jsx)("div",{className:"text-white",children:c.phone||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:"Hire Date"}),(0,Ot.jsx)("div",{className:"text-white",children:c.hire_date||"N/A"})]})]}),(0,Ot.jsx)("div",{className:"pt-4",children:(0,Ot.jsx)("button",{onClick:()=>u(null),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Close"})})]})]})})]})},Gt=e=>{let{setActiveModule:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[m,h]=(0,a.useState)({name:"",category:"",sku:"",current_stock:0,min_stock_level:0,unit_cost:0,supplier:"",expiry_date:"",location:"",notes:""}),[x,p]=(0,a.useState)(""),[b,f]=(0,a.useState)("");(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{l(!0);try{const e=await At.get("".concat(Lt,"/inventory"));r(e.data),p("")}catch(x){console.error("Failed to fetch inventory:",x),p("Failed to fetch inventory items.")}finally{l(!1)}},v=e=>{const{name:t,value:n}=e.target;h((e=>d(d({},e),{},{[t]:t.includes("stock")||"unit_cost"===t?Number(n):n})))},y=()=>{h({name:"",category:"",sku:"",current_stock:0,min_stock_level:0,unit_cost:0,supplier:"",expiry_date:"",location:"",notes:""}),u(null),o(!1),p(""),f("")};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Inventory Management"}),(0,Ot.jsxs)("div",{className:"flex space-x-3",children:[(0,Ot.jsx)("button",{onClick:()=>o(!i),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:i?"Cancel":"Add Item"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Back to Dashboard"})]})]}),b&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3 mb-4",children:(0,Ot.jsx)("p",{className:"text-green-200 text-sm",children:b})}),x&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:(0,Ot.jsx)("p",{className:"text-red-200 text-sm",children:x})}),i&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:c?"Edit Inventory Item":"Add New Inventory Item"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),p(""),f("");try{let e;c?(e=await At.put("".concat(Lt,"/inventory/").concat(c.id),m),f("Inventory item updated successfully!")):(e=await At.post("".concat(Lt,"/inventory"),m),f("Inventory item added successfully!")),y(),g()}catch(x){var t,n;console.error("Failed to save inventory item:",x),p((null===(t=x.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save inventory item. Please try again.")}finally{l(!1)}},className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Item Name *"}),(0,Ot.jsx)("input",{type:"text",name:"name",value:m.name,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter item name",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Category *"}),(0,Ot.jsxs)("select",{name:"category",value:m.category,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select category"}),(0,Ot.jsx)("option",{value:"medications",children:"Medications"}),(0,Ot.jsx)("option",{value:"supplies",children:"Medical Supplies"}),(0,Ot.jsx)("option",{value:"equipment",children:"Equipment"}),(0,Ot.jsx)("option",{value:"disposables",children:"Disposables"}),(0,Ot.jsx)("option",{value:"office",children:"Office Supplies"}),(0,Ot.jsx)("option",{value:"lab",children:"Lab Supplies"}),(0,Ot.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"SKU"}),(0,Ot.jsx)("input",{type:"text",name:"sku",value:m.sku,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter SKU"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Current Stock"}),(0,Ot.jsx)("input",{type:"number",name:"current_stock",value:m.current_stock,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter current stock",min:"0"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Minimum Stock Level"}),(0,Ot.jsx)("input",{type:"number",name:"min_stock_level",value:m.min_stock_level,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter minimum stock level",min:"0"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Unit Cost ($)"}),(0,Ot.jsx)("input",{type:"number",name:"unit_cost",value:m.unit_cost,onChange:v,step:"0.01",className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter unit cost",min:"0"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Supplier"}),(0,Ot.jsx)("input",{type:"text",name:"supplier",value:m.supplier,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter supplier name"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Expiry Date"}),(0,Ot.jsx)("input",{type:"date",name:"expiry_date",value:m.expiry_date,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Location"}),(0,Ot.jsx)("input",{type:"text",name:"location",value:m.location,onChange:v,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter storage location"})]}),(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("label",{className:"block text-blue-200 text-sm font-medium mb-2",children:"Notes"}),(0,Ot.jsx)("textarea",{name:"notes",value:m.notes,onChange:v,rows:3,className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter any additional notes"})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:s?"Saving...":c?"Update Item":"Add Item"}),(0,Ot.jsx)("button",{type:"button",onClick:y,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-medium text-white",children:["Current Inventory (",n.length," items)"]}),s&&!i?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading inventory..."]}):(0,Ot.jsx)("div",{className:"space-y-3",children:n.length>0?n.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("div",{className:"text-white font-medium text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.current_stock<=e.min_stock_level?"bg-red-600/20 text-red-200 border border-red-600/50":"bg-green-600/20 text-green-200 border border-green-600/50"),children:e.current_stock<=e.min_stock_level?"Low Stock":"In Stock"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"SKU:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.sku||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Category:"}),(0,Ot.jsx)("span",{className:"text-white ml-2 capitalize",children:e.category})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Supplier:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.supplier||"N/A"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Location:"}),(0,Ot.jsx)("span",{className:"text-white ml-2",children:e.location||"N/A"})]})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsxs)("div",{className:"text-white font-bold text-lg",children:["Stock: ",e.current_stock]}),(0,Ot.jsxs)("div",{className:"text-blue-300 text-sm",children:["Min: ",e.min_stock_level]}),(0,Ot.jsxs)("div",{className:"text-blue-300 text-sm",children:["Cost: $",e.unit_cost]})]}),(0,Ot.jsx)("button",{onClick:()=>(e=>{h({name:e.name||"",category:e.category||"",sku:e.sku||"",current_stock:e.current_stock||0,min_stock_level:e.min_stock_level||0,unit_cost:e.unit_cost||0,supplier:e.supplier||"",expiry_date:e.expiry_date||"",location:e.location||"",notes:e.notes||""}),u(e),o(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Edit"})]})]}),e.notes&&(0,Ot.jsxs)("div",{className:"mt-2 text-blue-300 text-sm",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Notes:"})," ",e.notes]})]},e.id))):(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udce6"}),(0,Ot.jsx)("p",{className:"text-lg",children:"No inventory items found"}),(0,Ot.jsx)("p",{className:"text-sm mt-2",children:'Click "Add Item" to get started'})]})})]})]})},Xt=e=>{let{setActiveModule:t}=e;const[n,r]=(0,a.useState)("dashboard"),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[m,h]=(0,a.useState)({}),[x,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)("current-month"),[_,S]=(0,a.useState)({description:"",amount:"",transaction_type:"expense",category:"",account_id:"",payment_method:"cash",transaction_date:(new Date).toISOString().split("T")[0],notes:""}),[k,C]=(0,a.useState)({name:"",category:"",period:"monthly",budgeted_amount:"",start_date:(new Date).toISOString().split("T")[0],end_date:"",notes:""});(0,a.useEffect)((()=>{E()}),[w]);const E=async()=>{p(!0);try{var e,t;const n=await At.get("".concat(Lt,"/financial-transactions"));l(n.data||[]),o([{id:"1",name:"Operating Account",type:"checking",balance:125000.5,bank:"Chase Bank",account_number:"****1234",is_primary:!0},{id:"2",name:"Savings Account",type:"savings",balance:75e3,bank:"Wells Fargo",account_number:"****5678",is_primary:!1},{id:"3",name:"Payroll Account",type:"checking",balance:45000.25,bank:"Bank of America",account_number:"****9012",is_primary:!1}]),u([{id:"1",name:"Medical Supplies",category:"supplies",budgeted_amount:15e3,actual_amount:12500,period:"monthly",variance:-2500,percentage:83.3},{id:"2",name:"Staff Salaries",category:"payroll",budgeted_amount:85e3,actual_amount:87200,period:"monthly",variance:2200,percentage:102.6},{id:"3",name:"Office Rent",category:"facilities",budgeted_amount:8e3,actual_amount:8e3,period:"monthly",variance:0,percentage:100},{id:"4",name:"Marketing",category:"marketing",budgeted_amount:5e3,actual_amount:3200,period:"monthly",variance:-1800,percentage:64}]);const r=(null===(e=n.data)||void 0===e?void 0:e.filter((e=>"income"===e.transaction_type)).reduce(((e,t)=>e+parseFloat(t.amount||0)),0))||0,a=(null===(t=n.data)||void 0===t?void 0:t.filter((e=>"expense"===e.transaction_type)).reduce(((e,t)=>e+parseFloat(t.amount||0)),0))||0;h({profitLoss:{revenue:r+145e3,totalRevenue:r+145e3,expenses:a+95e3,totalExpenses:a+95e3,netIncome:r+145e3-(a+95e3),grossMargin:.65,netMargin:.28},balanceSheet:{assets:{cash:245250.75,accountsReceivable:32500,inventory:18750.25,equipment:125e3,total:421500},liabilities:{accountsPayable:15200,payroll:23500,loans:75e3,total:113700},equity:307800},cashFlow:{operatingActivities:42500,investingActivities:-15e3,financingActivities:-8e3,netCashFlow:19500,beginningCash:225750.75,endingCash:245250.75},kpis:{patientVisits:2150,avgRevenuePerVisit:128.5,collectionRate:94.2,operatingMargin:31.5,daysInAR:28,costPerPatient:84.3}})}catch(n){console.error("Failed to fetch financial data:",n)}finally{p(!1)}},P=async e=>{e.preventDefault();try{const e=await At.post("".concat(Lt,"/financial-transactions"),_);l([e.data,...s]),S({description:"",amount:"",transaction_type:"expense",category:"",account_id:"",payment_method:"cash",transaction_date:(new Date).toISOString().split("T")[0],notes:""}),f(!1),E()}catch(t){console.error("Failed to create transaction:",t)}};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Financial Management"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"profitloss",name:"P&L Statement",icon:"\ud83d\udcc8"},{id:"balancesheet",name:"Balance Sheet",icon:"\u2696\ufe0f"},{id:"budgets",name:"Budget Management",icon:"\ud83c\udfaf"},{id:"transactions",name:"Transactions",icon:"\ud83d\udcb3"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>r(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(n===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===n&&(()=>{var e,t,n,r,a,s,l,o,c,d;return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-green-600/20 border border-green-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",(null===(e=m.profitLoss)||void 0===e||null===(t=e.totalRevenue)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,Ot.jsx)("div",{className:"text-green-200 text-sm",children:"Total Revenue"}),(0,Ot.jsx)("div",{className:"text-green-300 text-xs",children:"\u2197 +12.5% vs last month"})]}),(0,Ot.jsxs)("div",{className:"bg-red-600/20 border border-red-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",(null===(n=m.profitLoss)||void 0===n||null===(r=n.totalExpenses)||void 0===r?void 0:r.toLocaleString())||"0"]}),(0,Ot.jsx)("div",{className:"text-red-200 text-sm",children:"Total Expenses"}),(0,Ot.jsx)("div",{className:"text-red-300 text-xs",children:"\u2197 +5.2% vs last month"})]}),(0,Ot.jsxs)("div",{className:"bg-blue-600/20 border border-blue-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",(null===(a=m.profitLoss)||void 0===a||null===(s=a.netIncome)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm",children:"Net Income"}),(0,Ot.jsx)("div",{className:"text-green-300 text-xs",children:"\u2197 +18.7% vs last month"})]}),(0,Ot.jsxs)("div",{className:"bg-purple-600/20 border border-purple-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(l=m.kpis)||void 0===l?void 0:l.operatingMargin)||"0","%"]}),(0,Ot.jsx)("div",{className:"text-purple-200 text-sm",children:"Operating Margin"}),(0,Ot.jsx)("div",{className:"text-green-300 text-xs",children:"\u2197 +2.1% vs last month"})]}),(0,Ot.jsxs)("div",{className:"bg-yellow-600/20 border border-yellow-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(o=m.kpis)||void 0===o?void 0:o.collectionRate)||"0","%"]}),(0,Ot.jsx)("div",{className:"text-yellow-200 text-sm",children:"Collection Rate"}),(0,Ot.jsx)("div",{className:"text-green-300 text-xs",children:"\u2197 +1.8% vs last month"})]}),(0,Ot.jsxs)("div",{className:"bg-teal-600/20 border border-teal-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",(null===(c=m.kpis)||void 0===c||null===(d=c.avgRevenuePerVisit)||void 0===d?void 0:d.toFixed(2))||"0"]}),(0,Ot.jsx)("div",{className:"text-teal-200 text-sm",children:"Avg Revenue/Visit"}),(0,Ot.jsx)("div",{className:"text-green-300 text-xs",children:"\u2197 +3.4% vs last month"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Revenue Trend (Last 6 Months)"}),(0,Ot.jsx)("div",{className:"h-48 flex items-end space-x-2",children:[125e3,132e3,128e3,145e3,142e3,155e3].map(((e,t)=>(0,Ot.jsx)("div",{className:"flex-1 bg-green-500 rounded-t",style:{height:"".concat(e/155e3*100,"%")},children:(0,Ot.jsxs)("div",{className:"text-xs text-center text-white mt-1",children:["$",(e/1e3).toFixed(0),"K"]})},t)))}),(0,Ot.jsxs)("div",{className:"flex justify-between text-xs text-blue-200 mt-2",children:[(0,Ot.jsx)("span",{children:"Jul"}),(0,Ot.jsx)("span",{children:"Aug"}),(0,Ot.jsx)("span",{children:"Sep"}),(0,Ot.jsx)("span",{children:"Oct"}),(0,Ot.jsx)("span",{children:"Nov"}),(0,Ot.jsx)("span",{children:"Dec"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Expense Breakdown"}),(0,Ot.jsx)("div",{className:"space-y-3",children:[{name:"Payroll",amount:87200,percentage:45,color:"bg-red-500"},{name:"Medical Supplies",amount:25e3,percentage:26,color:"bg-orange-500"},{name:"Facilities",amount:15e3,percentage:16,color:"bg-yellow-500"},{name:"Insurance",amount:8e3,percentage:8,color:"bg-purple-500"},{name:"Other",amount:5e3,percentage:5,color:"bg-gray-500"}].map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,Ot.jsx)("span",{className:"text-white",children:e.name})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:["$",e.amount.toLocaleString()]}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:[e.percentage,"%"]})]})]},t)))})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Account Balances"}),(0,Ot.jsx)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Reconcile Accounts"})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:[e.bank," ",e.account_number]})]}),e.is_primary&&(0,Ot.jsx)("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded",children:"Primary"})]}),(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-white",children:["$",e.balance.toLocaleString()]}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm capitalize",children:[e.type," Account"]})]},e.id)))})]})]})})(),"profitloss"===n&&(()=>{var e,t,n,r,a,s,l,i,o,c;return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Profit & Loss Statement"}),(0,Ot.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"current-month",children:"Current Month"}),(0,Ot.jsx)("option",{value:"last-month",children:"Last Month"}),(0,Ot.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,Ot.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-white font-medium mb-3",children:"Revenue"}),(0,Ot.jsxs)("div",{className:"space-y-2 pl-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Patient Services"}),(0,Ot.jsx)("span",{className:"text-white",children:"$125,000.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Insurance Reimbursements"}),(0,Ot.jsx)("span",{className:"text-white",children:"$85,500.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Cash Payments"}),(0,Ot.jsx)("span",{className:"text-white",children:"$28,750.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t border-white/20 pt-2",children:[(0,Ot.jsx)("span",{className:"text-white font-medium",children:"Total Revenue"}),(0,Ot.jsxs)("span",{className:"text-white font-bold",children:["$",null===(e=m.profitLoss)||void 0===e||null===(t=e.totalRevenue)||void 0===t?void 0:t.toLocaleString()]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-white font-medium mb-3",children:"Expenses"}),(0,Ot.jsxs)("div",{className:"space-y-2 pl-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Salaries & Benefits"}),(0,Ot.jsx)("span",{className:"text-white",children:"$87,200.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Medical Supplies"}),(0,Ot.jsx)("span",{className:"text-white",children:"$25,000.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Rent & Utilities"}),(0,Ot.jsx)("span",{className:"text-white",children:"$15,000.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Insurance"}),(0,Ot.jsx)("span",{className:"text-white",children:"$8,000.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Equipment Depreciation"}),(0,Ot.jsx)("span",{className:"text-white",children:"$5,500.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-blue-200",children:"Other Operating Expenses"}),(0,Ot.jsx)("span",{className:"text-white",children:"$12,300.00"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t border-white/20 pt-2",children:[(0,Ot.jsx)("span",{className:"text-white font-medium",children:"Total Expenses"}),(0,Ot.jsxs)("span",{className:"text-white font-bold",children:["$",null===(n=m.profitLoss)||void 0===n||null===(r=n.totalExpenses)||void 0===r?void 0:r.toLocaleString()]})]})]})]}),(0,Ot.jsxs)("div",{className:"bg-green-600/20 border border-green-400/50 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"text-white font-medium text-lg",children:"Net Income"}),(0,Ot.jsxs)("span",{className:"text-green-400 font-bold text-xl",children:["$",null===(a=m.profitLoss)||void 0===a||null===(s=a.netIncome)||void 0===s?void 0:s.toLocaleString()]})]}),(0,Ot.jsx)("div",{className:"mt-2 text-sm",children:(0,Ot.jsxs)("div",{className:"flex justify-between text-green-200",children:[(0,Ot.jsxs)("span",{children:["Gross Margin: ",null===(l=100*(null===(i=m.profitLoss)||void 0===i?void 0:i.grossMargin))||void 0===l?void 0:l.toFixed(1),"%"]}),(0,Ot.jsxs)("span",{children:["Net Margin: ",null===(o=100*(null===(c=m.profitLoss)||void 0===c?void 0:c.netMargin))||void 0===o?void 0:o.toFixed(1),"%"]})]})})]})]})]})})})(),"balancesheet"===n&&(()=>{var e,t,n,r,a,s,l,i,o,c,d,u,h,x,p,b,f,g,v,y,j,w,N,_,S,k,C,E,P,D,T,A,R;return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-6",children:"Balance Sheet"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-white font-medium mb-4",children:"Assets"}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm mb-1",children:"Current Assets"}),(0,Ot.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Cash & Cash Equivalents"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(e=m.balanceSheet)||void 0===e||null===(t=e.assets)||void 0===t||null===(n=t.cash)||void 0===n?void 0:n.toLocaleString()]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Accounts Receivable"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(r=m.balanceSheet)||void 0===r||null===(a=r.assets)||void 0===a||null===(s=a.accountsReceivable)||void 0===s?void 0:s.toLocaleString()]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Inventory"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(l=m.balanceSheet)||void 0===l||null===(i=l.assets)||void 0===i||null===(o=i.inventory)||void 0===o?void 0:o.toLocaleString()]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm mb-1",children:"Fixed Assets"}),(0,Ot.jsx)("div",{className:"pl-4 space-y-1",children:(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Equipment (Net)"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(c=m.balanceSheet)||void 0===c||null===(d=c.assets)||void 0===d||null===(u=d.equipment)||void 0===u?void 0:u.toLocaleString()]})]})})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t border-white/20 pt-2 font-medium",children:[(0,Ot.jsx)("span",{className:"text-white",children:"Total Assets"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(h=m.balanceSheet)||void 0===h||null===(x=h.assets)||void 0===x||null===(p=x.total)||void 0===p?void 0:p.toLocaleString()]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-white font-medium mb-4",children:"Liabilities & Equity"}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm mb-1",children:"Current Liabilities"}),(0,Ot.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Accounts Payable"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(b=m.balanceSheet)||void 0===b||null===(f=b.liabilities)||void 0===f||null===(g=f.accountsPayable)||void 0===g?void 0:g.toLocaleString()]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Accrued Payroll"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(v=m.balanceSheet)||void 0===v||null===(y=v.liabilities)||void 0===y||null===(j=y.payroll)||void 0===j?void 0:j.toLocaleString()]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm mb-1",children:"Long-term Liabilities"}),(0,Ot.jsx)("div",{className:"pl-4 space-y-1",children:(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Equipment Loans"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(w=m.balanceSheet)||void 0===w||null===(N=w.liabilities)||void 0===N||null===(_=N.loans)||void 0===_?void 0:_.toLocaleString()]})]})})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t border-white/20 pt-2",children:[(0,Ot.jsx)("span",{className:"text-white font-medium",children:"Total Liabilities"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(S=m.balanceSheet)||void 0===S||null===(k=S.liabilities)||void 0===k||null===(C=k.total)||void 0===C?void 0:C.toLocaleString()]})]}),(0,Ot.jsxs)("div",{className:"mt-4",children:[(0,Ot.jsx)("div",{className:"text-blue-200 text-sm mb-1",children:"Equity"}),(0,Ot.jsx)("div",{className:"pl-4",children:(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-300",children:"Owner's Equity"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(E=m.balanceSheet)||void 0===E||null===(P=E.equity)||void 0===P?void 0:P.toLocaleString()]})]})})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t border-white/20 pt-2 font-medium",children:[(0,Ot.jsx)("span",{className:"text-white",children:"Total Liabilities & Equity"}),(0,Ot.jsxs)("span",{className:"text-white",children:["$",null===(D=(null===(T=m.balanceSheet)||void 0===T||null===(A=T.liabilities)||void 0===A?void 0:A.total)+(null===(R=m.balanceSheet)||void 0===R?void 0:R.equity))||void 0===D?void 0:D.toLocaleString()]})]})]})]})]})]})})})(),"budgets"===n&&(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Budget Management"}),(0,Ot.jsx)("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Create Budget"})]})}),(0,Ot.jsx)("div",{className:"p-4",children:(0,Ot.jsx)("div",{className:"space-y-4",children:c.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm capitalize",children:[e.category," \u2022 ",e.period]})]}),(0,Ot.jsxs)("div",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.percentage<=100?"bg-green-600 text-white":"bg-red-600 text-white"),children:[e.percentage,"%"]})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{className:"text-gray-300",children:["Budget: $",e.budgeted_amount.toLocaleString()]}),(0,Ot.jsxs)("span",{className:"text-gray-300",children:["Actual: $",e.actual_amount.toLocaleString()]})]}),(0,Ot.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Ot.jsx)("div",{className:"h-2 rounded-full ".concat(e.percentage<=100?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.percentage,100),"%")}})}),(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{className:"".concat(e.variance<0?"text-green-400":"text-red-400"),children:["Variance: $",Math.abs(e.variance).toLocaleString()," ",e.variance<0?"Under":"Over"]}),(0,Ot.jsxs)("span",{className:"text-blue-200",children:[e.percentage.toFixed(1),"% of budget used"]})]})]})]},e.id)))})})]})}),"transactions"===n&&(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white",children:"Transaction History"}),(0,Ot.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Add Transaction"})]})}),(0,Ot.jsx)("div",{className:"p-4",children:x?(0,Ot.jsxs)("div",{className:"text-center text-blue-200 py-8",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),"Loading transactions..."]}):(0,Ot.jsx)("div",{className:"space-y-3",children:s.length>0?s.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.description}),(0,Ot.jsxs)("div",{className:"text-blue-200 text-sm",children:["#",e.transaction_number," \u2022 ",e.transaction_date]}),(0,Ot.jsxs)("div",{className:"text-blue-300 text-sm",children:[e.payment_method," \u2022 ",e.category||"Uncategorized"]}),e.notes&&(0,Ot.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:e.notes})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsxs)("div",{className:"text-lg font-bold ".concat("income"===e.transaction_type?"text-green-400":"text-red-400"),children:["income"===e.transaction_type?"+":"-","$",parseFloat(e.amount||0).toFixed(2)]}),(0,Ot.jsx)("div",{className:"text-blue-200 text-sm capitalize",children:e.transaction_type})]})]})},e.id))):(0,Ot.jsx)("div",{className:"text-center text-blue-200 py-8",children:'No transactions found. Click "Add Transaction" to get started.'})})})]})}),b&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,Ot.jsx)("h3",{className:"text-lg font-medium text-white mb-6",children:"Add New Transaction"}),(0,Ot.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,Ot.jsx)("input",{type:"text",required:!0,value:_.description,onChange:e=>S(d(d({},_),{},{description:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Amount"}),(0,Ot.jsx)("input",{type:"number",step:"0.01",required:!0,value:_.amount,onChange:e=>S(d(d({},_),{},{amount:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),(0,Ot.jsxs)("select",{value:_.transaction_type,onChange:e=>S(d(d({},_),{},{transaction_type:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"income",children:"Income"}),(0,Ot.jsx)("option",{value:"expense",children:"Expense"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),(0,Ot.jsxs)("select",{value:_.category,onChange:e=>S(d(d({},_),{},{category:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"",children:"Select Category"}),(0,Ot.jsx)("option",{value:"patient_services",children:"Patient Services"}),(0,Ot.jsx)("option",{value:"insurance",children:"Insurance Reimbursement"}),(0,Ot.jsx)("option",{value:"supplies",children:"Medical Supplies"}),(0,Ot.jsx)("option",{value:"payroll",children:"Payroll"}),(0,Ot.jsx)("option",{value:"rent",children:"Rent & Utilities"}),(0,Ot.jsx)("option",{value:"equipment",children:"Equipment"}),(0,Ot.jsx)("option",{value:"marketing",children:"Marketing"}),(0,Ot.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Payment Method"}),(0,Ot.jsxs)("select",{value:_.payment_method,onChange:e=>S(d(d({},_),{},{payment_method:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"cash",children:"Cash"}),(0,Ot.jsx)("option",{value:"check",children:"Check"}),(0,Ot.jsx)("option",{value:"credit_card",children:"Credit Card"}),(0,Ot.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Ot.jsx)("option",{value:"ach",children:"ACH"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),(0,Ot.jsx)("input",{type:"date",value:_.transaction_date,onChange:e=>S(d(d({},_),{},{transaction_date:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Account"}),(0,Ot.jsxs)("select",{value:_.account_id,onChange:e=>S(d(d({},_),{},{account_id:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,Ot.jsx)("option",{value:"",children:"Select Account"}),i.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," (",e.bank,")"]},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),(0,Ot.jsx)("textarea",{value:_.notes,onChange:e=>S(d(d({},_),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg",children:"Add Transaction"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})]})]})]})})]})},Yt=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[v,y]=(0,a.useState)("calendar"),[j,w]=(0,a.useState)("week"),[N,_]=(0,a.useState)(new Date),[S,k]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!1),[R,O]=(0,a.useState)(null),[F,L]=(0,a.useState)({patient_id:"",provider_id:"",appointment_date:(new Date).toISOString().split("T")[0],start_time:"09:00",duration_minutes:30,appointment_type:"consultation",title:"",description:"",notes:""}),[I,z]=(0,a.useState)({recurrence_type:"weekly",recurrence_interval:1,recurrence_end_date:"",max_occurrences:12}),[M,U]=(0,a.useState)({patient_id:"",provider_id:"",preferred_date:(new Date).toISOString().split("T")[0],preferred_time_start:"09:00",preferred_time_end:"17:00",appointment_type:"consultation",priority:1,duration_minutes:30,reason:"",notes:""}),[q,B]=(0,a.useState)([]),[V,$]=(0,a.useState)(null);(0,a.useEffect)((()=>{H(),W(),Q(),K()}),[]);const H=async()=>{try{x(!0);const e=await At.get("".concat(Lt,"/appointments"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(p){console.error("Failed to fetch appointments:",p),b("Failed to fetch appointments")}finally{x(!1)}},W=async()=>{try{const e=await At.get("".concat(Lt,"/providers"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});i(e.data)}catch(p){console.error("Failed to fetch providers:",p)}},Q=async()=>{try{const e=await At.get("".concat(Lt,"/patients"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data)}catch(p){console.error("Failed to fetch patients:",p)}},K=async()=>{try{const e=await At.get("".concat(Lt,"/waiting-list"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});m(e.data)}catch(p){console.error("Failed to fetch waiting list:",p)}},J=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;try{const r=await At.get("".concat(Lt,"/appointments/available-slots"),{params:{provider_id:e,date:t,duration_minutes:n},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});B(r.data.available_slots||[])}catch(p){console.error("Failed to fetch available slots:",p),B([])}},G=async e=>{e.preventDefault();try{var t,a,i,c,u;x(!0),b("");const e=o.find((e=>e.id===F.patient_id)),m=l.find((e=>e.id===F.provider_id)),h=d(d({},F),{},{patient_name:"".concat((null===e||void 0===e||null===(t=e.name)||void 0===t||null===(a=t[0])||void 0===a||null===(i=a.given)||void 0===i?void 0:i[0])||""," ").concat((null===e||void 0===e||null===(c=e.name)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.family)||"").trim(),provider_name:(null===m||void 0===m?void 0:m.name)||"",scheduled_by:n.username}),p=await At.post("".concat(Lt,"/appointments"),h,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s([...r,p.data]),g("Appointment created successfully!"),E(!1),Y(),H()}catch(p){var m,h;console.error("Failed to create appointment:",p),b((null===(m=p.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.detail)||"Failed to create appointment")}finally{x(!1)}},X=async(e,t)=>{try{await At.put("".concat(Lt,"/appointments/").concat(e,"/status"),{status:t},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),g("Appointment status updated successfully!")}catch(p){console.error("Failed to update appointment status:",p),b("Failed to update appointment status")}},Y=()=>{L({patient_id:"",provider_id:"",appointment_date:(new Date).toISOString().split("T")[0],start_time:"09:00",duration_minutes:30,appointment_type:"consultation",title:"",description:"",notes:""}),B([]),$(null)},Z=e=>{const t=e.toISOString().split("T")[0];return r.filter((e=>e.appointment_date===t))},ee=e=>new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),te=e=>({scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",checked_in:"bg-yellow-100 text-yellow-800",in_progress:"bg-purple-100 text-purple-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc5 Appointment Scheduling"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>A(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg",children:"Add to Waiting List"}),(0,Ot.jsx)("button",{onClick:()=>E(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"New Appointment"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),f&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",f]})}),p&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof p?JSON.stringify(p):p]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"calendar",name:"Calendar View",icon:"\ud83d\udcc5"},{id:"appointments",name:"Appointments",icon:"\ud83d\udccb"},{id:"waiting-list",name:"Waiting List",icon:"\u23f0"},{id:"providers",name:"Providers",icon:"\ud83d\udc68\u200d\u2695\ufe0f"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>y(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(v===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"calendar"===v&&(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("button",{onClick:()=>_(new Date(N.getTime()-6048e5)),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded",children:"\u2190 Previous Week"}),(0,Ot.jsx)("div",{className:"text-white font-medium",children:N.toLocaleDateString("en-US",{month:"long",year:"numeric",day:"numeric"})}),(0,Ot.jsx)("button",{onClick:()=>_(new Date(N.getTime()+6048e5)),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded",children:"Next Week \u2192"}),(0,Ot.jsx)("button",{onClick:()=>_(new Date),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded",children:"Today"})]}),(0,Ot.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ot.jsxs)("select",{value:S,onChange:e=>k(e.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-1 text-white text-sm",children:[(0,Ot.jsx)("option",{value:"",children:"All Providers"}),l.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]}),"calendar"===v&&(()=>{if("week"===j){const e=(e=>{const t=[],n=new Date(e),r=n.getDay(),a=n.getDate()-r+(0===r?-6:1);n.setDate(a);for(let s=0;s<7;s++){const e=new Date(n);e.setDate(n.getDate()+s),t.push(e)}return t})(N);return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"grid grid-cols-8 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-sm font-medium text-gray-300",children:[(0,Ot.jsx)("div",{className:"h-12"})," ",Array.from({length:12},((e,t)=>(0,Ot.jsx)("div",{className:"h-16 border-b border-white/10 flex items-center",children:ee("".concat(8+t,":00"))},t)))]}),e.map(((e,t)=>(0,Ot.jsxs)("div",{className:"min-h-0",children:[(0,Ot.jsxs)("div",{className:"h-12 flex flex-col items-center justify-center border-b border-white/10",children:[(0,Ot.jsx)("div",{className:"text-sm font-medium text-white",children:e.toLocaleDateString("en-US",{weekday:"short"})}),(0,Ot.jsx)("div",{className:"text-lg text-gray-300",children:e.getDate()})]}),(0,Ot.jsx)("div",{className:"relative",children:Array.from({length:12},((t,n)=>(0,Ot.jsx)("div",{className:"h-16 border-b border-white/10 relative",children:Z(e).filter((e=>parseInt(e.start_time.split(":")[0])===8+n)).map((e=>(0,Ot.jsxs)("div",{className:"absolute inset-x-1 bg-blue-500/20 border border-blue-400/50 rounded p-1 cursor-pointer hover:bg-blue-500/30 transition-colors",style:{height:"".concat(e.duration_minutes/60*64,"px"),top:"".concat(parseInt(e.start_time.split(":")[1])/60*64,"px")},onClick:()=>O(e),children:[(0,Ot.jsx)("div",{className:"text-xs text-white font-medium truncate",children:e.patient_name}),(0,Ot.jsx)("div",{className:"text-xs text-blue-200 truncate",children:ee(e.start_time)}),(0,Ot.jsx)("div",{className:"text-xs text-blue-200 truncate",children:e.title||e.appointment_type})]},e.id)))},n)))})]},t)))]})})}return(0,Ot.jsx)("div",{className:"text-white",children:"Other calendar views coming soon..."})})(),"appointments"===v&&(()=>{const e=(new Date).toISOString().split("T")[0],t=r.filter((t=>t.appointment_date===e)),n=r.filter((t=>t.appointment_date>e)).slice(0,10);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Today's Appointments"}),0===t.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No appointments scheduled for today."}):(0,Ot.jsx)("div",{className:"space-y-3",children:t.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(te(e.status)),children:e.status.replace("_"," ")})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[ee(e.start_time)," - ",e.provider_name," - ",e.appointment_type]}),e.notes&&(0,Ot.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.notes})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:["scheduled"===e.status&&(0,Ot.jsx)("button",{onClick:()=>X(e.id,"confirmed"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Confirm"}),"confirmed"===e.status&&(0,Ot.jsx)("button",{onClick:()=>X(e.id,"checked_in"),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-sm",children:"Check In"}),"checked_in"===e.status&&(0,Ot.jsx)("button",{onClick:()=>X(e.id,"completed"),className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm",children:"Complete"})]})]})},e.id)))})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upcoming Appointments"}),0===n.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No upcoming appointments."}):(0,Ot.jsx)("div",{className:"space-y-3",children:n.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4 flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300",children:[new Date(e.appointment_date).toLocaleDateString()," at ",ee(e.start_time)," - ",e.provider_name]})]}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(te(e.status)),children:e.status.replace("_"," ")})]},e.id)))})]})]})})(),"waiting-list"===v&&(()=>{const e=u.filter((e=>e.is_active));return(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Waiting List"}),0===e.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No patients on waiting list."}):(0,Ot.jsx)("div",{className:"space-y-3",children:e.sort(((e,t)=>t.priority-e.priority||new Date(e.created_at)-new Date(t.created_at))).map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsxs)("span",{className:"px-2 py-1 rounded text-xs ".concat(4===e.priority?"bg-red-100 text-red-800":3===e.priority?"bg-orange-100 text-orange-800":2===e.priority?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:["Priority ",e.priority]})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[e.provider_name," - ",e.appointment_type," - ",new Date(e.preferred_date).toLocaleDateString()]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.reason})]}),(0,Ot.jsx)("button",{onClick:()=>{L(d(d({},F),{},{patient_id:e.patient_id,provider_id:e.provider_id,appointment_type:e.appointment_type,duration_minutes:e.duration_minutes,title:e.reason})),E(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Schedule"})]})},e.id)))})]})})(),"providers"===v&&(0,Ot.jsx)("div",{className:"text-white",children:"Provider management coming soon..."}),C&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:R?"Edit Appointment":"New Appointment"}),(0,Ot.jsx)("button",{onClick:()=>{E(!1),O(null),Y()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{value:F.patient_id,onChange:e=>L(d(d({},F),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),o.map((e=>{var t,n,r,a,s;return(0,Ot.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider"}),(0,Ot.jsxs)("select",{value:F.provider_id,onChange:e=>{L(d(d({},F),{},{provider_id:e.target.value})),e.target.value&&F.appointment_date&&J(e.target.value,F.appointment_date,F.duration_minutes)},className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Provider"}),l.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),(0,Ot.jsx)("input",{type:"date",value:F.appointment_date,onChange:e=>{L(d(d({},F),{},{appointment_date:e.target.value})),F.provider_id&&e.target.value&&J(F.provider_id,e.target.value,F.duration_minutes)},className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time"}),(0,Ot.jsx)("input",{type:"time",value:F.start_time,onChange:e=>L(d(d({},F),{},{start_time:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (min)"}),(0,Ot.jsxs)("select",{value:F.duration_minutes,onChange:e=>L(d(d({},F),{},{duration_minutes:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:15,children:"15 minutes"}),(0,Ot.jsx)("option",{value:30,children:"30 minutes"}),(0,Ot.jsx)("option",{value:45,children:"45 minutes"}),(0,Ot.jsx)("option",{value:60,children:"1 hour"}),(0,Ot.jsx)("option",{value:90,children:"1.5 hours"}),(0,Ot.jsx)("option",{value:120,children:"2 hours"})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Appointment Type"}),(0,Ot.jsxs)("select",{value:F.appointment_type,onChange:e=>L(d(d({},F),{},{appointment_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"consultation",children:"Consultation"}),(0,Ot.jsx)("option",{value:"follow_up",children:"Follow Up"}),(0,Ot.jsx)("option",{value:"annual_physical",children:"Annual Physical"}),(0,Ot.jsx)("option",{value:"vaccination",children:"Vaccination"}),(0,Ot.jsx)("option",{value:"procedure",children:"Procedure"}),(0,Ot.jsx)("option",{value:"therapy",children:"Therapy"}),(0,Ot.jsx)("option",{value:"emergency",children:"Emergency"}),(0,Ot.jsx)("option",{value:"telemedicine",children:"Telemedicine"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),(0,Ot.jsx)("input",{type:"text",value:F.title,onChange:e=>L(d(d({},F),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Appointment title",required:!0})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("textarea",{value:F.description,onChange:e=>L(d(d({},F),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:3,placeholder:"Appointment description"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ot.jsx)("textarea",{value:F.notes,onChange:e=>L(d(d({},F),{},{notes:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:2,placeholder:"Additional notes"})]}),q.length>0&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Time Slots"}),(0,Ot.jsx)("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto",children:q.map(((e,t)=>(0,Ot.jsx)("button",{type:"button",onClick:()=>{L(d(d({},F),{},{start_time:e.start_time})),$(e)},className:"p-2 rounded text-sm ".concat(e.is_available?(null===V||void 0===V?void 0:V.start_time)===e.start_time?"bg-blue-600 text-white":"bg-gray-600 hover:bg-gray-500 text-white":"bg-red-600/20 text-red-400 cursor-not-allowed"),disabled:!e.is_available,children:ee(e.start_time)},t)))})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:h?"Creating...":R?"Update Appointment":"Create Appointment"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>D(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded",children:"Create Recurring"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{E(!1),O(null),Y()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),h&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Zt=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[v,y]=(0,a.useState)("dashboard"),[j,w]=(0,a.useState)(null),[N,_]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(null),[T,A]=(0,a.useState)(null),[R,O]=(0,a.useState)(!0),[F,L]=(0,a.useState)(!0),[I,z]=(0,a.useState)(!1),[M,U]=(0,a.useState)("disconnected"),[q,B]=(0,a.useState)([]),[V,$]=(0,a.useState)(""),[H,W]=(0,a.useState)({patient_id:"",provider_id:"",session_type:"video_consultation",title:"",description:"",scheduled_start:(new Date).toISOString().slice(0,16),duration_minutes:30,recording_enabled:!1,access_code:""});(0,a.useEffect)((()=>{Q(),K(),J(),G()}),[]);const Q=async()=>{try{x(!0);const e=await At.get("".concat(Lt,"/telehealth/sessions"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(p){console.error("Failed to fetch telehealth sessions:",p),b("Failed to fetch telehealth sessions")}finally{x(!1)}},K=async()=>{try{const e=await At.get("".concat(Lt,"/patients"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});i(e.data)}catch(p){console.error("Failed to fetch patients:",p)}},J=async()=>{try{const e=await At.get("".concat(Lt,"/providers"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data)}catch(p){console.error("Failed to fetch providers:",p)}},G=async()=>{try{const e=await At.get("".concat(Lt,"/telehealth/waiting-room"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});m(e.data)}catch(p){console.error("Failed to fetch waiting room:",p)}},X=async e=>{e.preventDefault();try{x(!0),b("");const e=await At.post("".concat(Lt,"/telehealth/sessions"),H,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s([...r,e.data]),g("Telehealth session created successfully!"),k(!1),ae(),Q()}catch(p){var t,n;console.error("Failed to create telehealth session:",p),b((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create telehealth session")}finally{x(!1)}},Y=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});D(e),_(!0),U("connected")}catch(p){console.error("Failed to initialize video call:",p),b("Failed to access camera/microphone. Please check permissions.")}},Z=async()=>{P&&(P.getTracks().forEach((e=>e.stop())),D(null)),T&&(T.getTracks().forEach((e=>e.stop())),A(null)),_(!1),U("disconnected")},ee=()=>{if(P){const e=P.getVideoTracks()[0];e&&(e.enabled=!e.enabled,O(e.enabled))}},te=()=>{if(P){const e=P.getAudioTracks()[0];e&&(e.enabled=!e.enabled,L(e.enabled))}},ne=async()=>{try{if(I)z(!1),await Y();else{await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});z(!0)}}catch(p){console.error("Screen sharing failed:",p),b("Screen sharing failed")}},re=async()=>{if(V.trim()&&j)try{const e={message:V.trim(),sender_type:"provider",message_type:"text"};await At.post("".concat(Lt,"/telehealth/sessions/").concat(j.id,"/chat"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),B([...q,{id:Date.now(),sender_name:n.username,message:V.trim(),timestamp:new Date,sender_type:"provider"}]),$("")}catch(p){console.error("Failed to send chat message:",p)}},ae=()=>{W({patient_id:"",provider_id:"",session_type:"video_consultation",title:"",description:"",scheduled_start:(new Date).toISOString().slice(0,16),duration_minutes:30,recording_enabled:!1,access_code:""})},se=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),le=e=>({scheduled:"bg-blue-100 text-blue-800",waiting:"bg-yellow-100 text-yellow-800",in_progress:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-orange-100 text-orange-800",technical_issues:"bg-purple-100 text-purple-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcbb Telehealth System"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83c\udfa5 New Session"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),f&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",f]})}),p&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof p?JSON.stringify(p):p]})}),"video-call"!==v&&(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"sessions",name:"All Sessions",icon:"\ud83d\udccb"},{id:"waiting-room",name:"Waiting Room",icon:"\u23f0"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>y(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(v===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===v&&(()=>{const e=r.filter((e=>new Date(e.scheduled_start).toDateString()===(new Date).toDateString())),t=r.filter((e=>new Date(e.scheduled_start)>new Date)).slice(0,5);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc5 Today's Telehealth Sessions"}),0===e.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No telehealth sessions scheduled for today."}):(0,Ot.jsx)("div",{className:"space-y-3",children:e.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(le(e.status)),children:e.status.replace("_"," ")})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[se(e.scheduled_start)," - ",e.provider_name]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.title})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:["scheduled"===e.status&&(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{x(!0),await At.post("".concat(Lt,"/telehealth/sessions/").concat(e,"/start"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),g("Telehealth session started successfully!"),w(r.find((t=>t.id===e))),y("video-call"),await Y(),Q()}catch(p){var t,n;console.error("Failed to start telehealth session:",p),b((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to start telehealth session")}finally{x(!1)}})(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"\ud83c\udfa5 Start Session"}),"in_progress"===e.status&&(0,Ot.jsx)("button",{onClick:()=>{w(e),y("video-call")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"\ud83d\udcbb Join Session"})]})]})},e.id)))})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Today's Sessions"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc5"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.filter((e=>"in_progress"===e.status)).length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Active Sessions"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udd34"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:u.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Waiting Room"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u23f0"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.filter((e=>"completed"===e.status&&new Date(e.actual_end).toDateString()===(new Date).toDateString())).length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Completed Today"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u2705"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udd2e Upcoming Sessions"}),0===t.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No upcoming telehealth sessions."}):(0,Ot.jsx)("div",{className:"space-y-3",children:t.map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4 flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300",children:[se(e.scheduled_start)," - ",e.session_type]})]}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(le(e.status)),children:e.status.replace("_"," ")})]},e.id)))})]})]})})(),"sessions"===v&&(0,Ot.jsx)("div",{className:"text-white",children:"Sessions list view coming soon..."}),"waiting-room"===v&&(0,Ot.jsx)("div",{className:"text-white",children:"Waiting room management coming soon..."}),"video-call"===v&&(j?(0,Ot.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 h-screen",children:(0,Ot.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsxs)("div",{className:"text-white",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold",children:j.title}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-300",children:[j.patient_name," - ",j.provider_name]})]}),(0,Ot.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ot.jsx)("span",{className:"px-3 py-1 rounded text-sm ".concat("connected"===M?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"),children:"connected"===M?"\ud83d\udfe2 Connected":"\ud83d\udd34 Disconnected"})})]}),(0,Ot.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"lg:col-span-2 bg-gray-800 rounded-lg relative",children:[(0,Ot.jsx)("div",{className:"aspect-video bg-gray-700 rounded-lg flex items-center justify-center",children:P?(0,Ot.jsx)("video",{ref:e=>{e&&P&&(e.srcObject=P)},autoPlay:!0,muted:!0,className:"w-full h-full object-cover rounded-lg"}):(0,Ot.jsxs)("div",{className:"text-center text-gray-400",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf9"}),(0,Ot.jsx)("p",{children:"Camera not available"})]})}),(0,Ot.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4",children:[(0,Ot.jsx)("button",{onClick:te,className:"p-3 rounded-full ".concat(F?"bg-gray-600 hover:bg-gray-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:F?"\ud83c\udfa4":"\ud83d\udd07"}),(0,Ot.jsx)("button",{onClick:ee,className:"p-3 rounded-full ".concat(R?"bg-gray-600 hover:bg-gray-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:R?"\ud83d\udcf9":"\ud83d\udcf7"}),(0,Ot.jsx)("button",{onClick:ne,className:"p-3 rounded-full ".concat(I?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"),children:"\ud83d\udda5\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{x(!0);const r={session_notes:t,provider_notes:"Session completed by ".concat(n.username),technical_issues:[]};await At.post("".concat(Lt,"/telehealth/sessions/").concat(e,"/end"),r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),g("Telehealth session ended successfully!"),_(!1),y("dashboard"),await Z(),Q()}catch(p){var r,a;console.error("Failed to end telehealth session:",p),b((null===(r=p.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to end telehealth session")}finally{x(!1)}}(j.id),className:"p-3 rounded-full bg-red-600 hover:bg-red-700 text-white",children:"\ud83d\udcde"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg flex flex-col",children:[(0,Ot.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,Ot.jsx)("h4",{className:"text-white font-medium",children:"\ud83d\udcac Session Chat"})}),(0,Ot.jsx)("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:q.map((e=>(0,Ot.jsxs)("div",{className:"text-sm",children:[(0,Ot.jsx)("div",{className:"text-gray-300 font-medium",children:e.sender_name}),(0,Ot.jsx)("div",{className:"text-white",children:e.message}),(0,Ot.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id)))}),(0,Ot.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("input",{type:"text",value:V,onChange:e=>$(e.target.value),onKeyPress:e=>"Enter"===e.key&&re(),placeholder:"Type a message...",className:"flex-1 bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm"}),(0,Ot.jsx)("button",{onClick:re,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm",children:"Send"})]})})]})]})]})}):null),S&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83c\udfa5 New Telehealth Session"}),(0,Ot.jsx)("button",{onClick:()=>{k(!1),ae()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:X,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{value:H.patient_id,onChange:e=>W(d(d({},H),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),l.map((e=>{var t,n,r,a,s;return(0,Ot.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider"}),(0,Ot.jsxs)("select",{value:H.provider_id,onChange:e=>W(d(d({},H),{},{provider_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Provider"}),o.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Type"}),(0,Ot.jsxs)("select",{value:H.session_type,onChange:e=>W(d(d({},H),{},{session_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"video_consultation",children:"Video Consultation"}),(0,Ot.jsx)("option",{value:"audio_only",children:"Audio Only"}),(0,Ot.jsx)("option",{value:"follow_up",children:"Follow Up"}),(0,Ot.jsx)("option",{value:"therapy_session",children:"Therapy Session"}),(0,Ot.jsx)("option",{value:"group_session",children:"Group Session"}),(0,Ot.jsx)("option",{value:"emergency_consult",children:"Emergency Consult"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (minutes)"}),(0,Ot.jsxs)("select",{value:H.duration_minutes,onChange:e=>W(d(d({},H),{},{duration_minutes:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:15,children:"15 minutes"}),(0,Ot.jsx)("option",{value:30,children:"30 minutes"}),(0,Ot.jsx)("option",{value:45,children:"45 minutes"}),(0,Ot.jsx)("option",{value:60,children:"1 hour"}),(0,Ot.jsx)("option",{value:90,children:"1.5 hours"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scheduled Start"}),(0,Ot.jsx)("input",{type:"datetime-local",value:H.scheduled_start,onChange:e=>W(d(d({},H),{},{scheduled_start:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),(0,Ot.jsx)("input",{type:"text",value:H.title,onChange:e=>W(d(d({},H),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Session title",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("textarea",{value:H.description,onChange:e=>W(d(d({},H),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:3,placeholder:"Session description"})]}),(0,Ot.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ot.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:H.recording_enabled,onChange:e=>W(d(d({},H),{},{recording_enabled:e.target.checked})),className:"rounded"}),(0,Ot.jsx)("span",{className:"text-gray-300",children:"Enable Recording"})]})}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:h?"Creating...":"Create Session"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{k(!1),ae()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),h&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},en=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[p,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[j,w]=(0,a.useState)("dashboard"),[N,_]=(0,a.useState)(null),[S,k]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)({patient_id:"",provider_id:"",tests:[],priority:"routine",clinical_info:"",diagnosis_codes:[],lab_provider:"internal",encounter_id:""}),[T,A]=(0,a.useState)({totalOrders:0,pendingOrders:0,completedToday:0,criticalResults:0});(0,a.useEffect)((()=>{R()}),[]);const R=async()=>{try{b(!0),await Promise.all([O(),F(),L(),I(),z()])}catch(f){console.error("Failed to fetch lab data:",f),g("Failed to fetch lab data")}finally{b(!1)}},O=async()=>{try{const e=await At.get("".concat(Lt,"/lab-orders"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data);const t=(new Date).toDateString();A((n=>d(d({},n),{},{totalOrders:e.data.length,pendingOrders:e.data.filter((e=>["draft","ordered","collected","processing"].includes(e.status))).length,completedToday:e.data.filter((e=>e.completed_date&&new Date(e.completed_date).toDateString()===t)).length})))}catch(f){console.error("Failed to fetch lab orders:",f)}},F=async()=>{try{const e=await At.get("".concat(Lt,"/lab-tests"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});i(e.data)}catch(f){console.error("Failed to fetch lab tests:",f)}},L=async()=>{try{const e=await At.get("".concat(Lt,"/patients"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});m(e.data)}catch(f){console.error("Failed to fetch patients:",f)}},I=async()=>{try{const e=await At.get("".concat(Lt,"/providers"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});x(e.data)}catch(f){console.error("Failed to fetch providers:",f)}},z=async()=>{try{const e=await At.get("".concat(Lt,"/lab-results"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data);const t=e.data.filter((e=>e.critical_value)).length;A((e=>d(d({},e),{},{criticalResults:t})))}catch(f){console.error("Failed to fetch lab results:",f)}},M=async e=>{e.preventDefault();try{b(!0),g("");const e=await At.post("".concat(Lt,"/lab-orders"),P,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s([...r,e.data]),y("Lab order created successfully!"),k(!1),U(),O()}catch(f){var t,n;console.error("Failed to create lab order:",f),g((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create lab order")}finally{b(!1)}},U=()=>{D({patient_id:"",provider_id:"",tests:[],priority:"routine",clinical_info:"",diagnosis_codes:[],lab_provider:"internal",encounter_id:""})};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83e\uddea Lab Orders Management"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83e\uddea New Lab Order"}),(0,Ot.jsx)("button",{onClick:()=>R(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),v&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",v]})}),f&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof f?JSON.stringify(f):f]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"orders",name:"All Orders",icon:"\ud83d\udccb"},{id:"tests",name:"Lab Tests",icon:"\ud83d\udd2c"},{id:"results",name:"Results",icon:"\ud83d\udcc4"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>w(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(j===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===j&&(()=>{const e=r.filter((e=>new Date(e.created_at).toDateString()===(new Date).toDateString()));return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:T.totalOrders}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Total Orders"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83e\uddea"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:T.pendingOrders}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Orders"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:T.completedToday}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Completed Today"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u2705"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:T.criticalResults}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Critical Results"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udea8"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udccb Today's Lab Orders"}),0===e.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No lab orders created today."}):(0,Ot.jsx)("div",{className:"space-y-3",children:e.map((e=>{return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.order_number}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((n=e.status,{draft:"bg-gray-100 text-gray-800",ordered:"bg-blue-100 text-blue-800",collected:"bg-yellow-100 text-yellow-800",processing:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",resulted:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((t=e.priority,{routine:"bg-blue-100 text-blue-800",urgent:"bg-orange-100 text-orange-800",stat:"bg-red-100 text-red-800",asap:"bg-red-100 text-red-800"}[t]||"bg-blue-100 text-blue-800")),children:e.priority})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[e.patient_name," - ",e.tests.length," test(s)"]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Provider: ",e.provider_name]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:["draft"===e.status&&(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{b(!0),await At.post("".concat(Lt,"/lab-orders/").concat(e,"/submit"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),y("Lab order submitted to external lab successfully!"),O()}catch(f){var t,n;console.error("Failed to submit lab order:",f),g((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to submit lab order")}finally{b(!1)}})(e.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Submit Order"}),"ordered"===e.status&&(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{b(!0),await At.post("".concat(Lt,"/lab-orders/").concat(e,"/results"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),y("Lab results retrieved successfully!"),O(),z()}catch(f){var t,n;console.error("Failed to retrieve lab results:",f),g((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to retrieve lab results")}finally{b(!1)}})(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Check Results"}),(0,Ot.jsx)("button",{onClick:()=>_(e),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm",children:"View Details"})]})]})},e.id);var t,n}))})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udd2c Available Lab Tests"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.slice(0,6).map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.test_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Code: ",e.test_code]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Turnaround: ",e.turnaround_time_hours,"h"]}),e.fasting_required&&(0,Ot.jsx)("div",{className:"text-xs text-yellow-400 mt-1",children:"\u26a0\ufe0f Fasting Required"})]},e.id)))})]})]})})(),"orders"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"All orders list view coming soon..."}),"tests"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Lab tests catalog view coming soon..."}),"results"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Lab results view coming soon..."}),S&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83e\uddea New Lab Order"}),(0,Ot.jsx)("button",{onClick:()=>{k(!1),U()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{value:P.patient_id,onChange:e=>D(d(d({},P),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),u.map((e=>{var t,n,r,a,s;return(0,Ot.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider"}),(0,Ot.jsxs)("select",{value:P.provider_id,onChange:e=>D(d(d({},P),{},{provider_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Provider"}),h.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),(0,Ot.jsxs)("select",{value:P.priority,onChange:e=>D(d(d({},P),{},{priority:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ot.jsx)("option",{value:"routine",children:"Routine"}),(0,Ot.jsx)("option",{value:"urgent",children:"Urgent"}),(0,Ot.jsx)("option",{value:"stat",children:"STAT"}),(0,Ot.jsx)("option",{value:"asap",children:"ASAP"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Lab Provider"}),(0,Ot.jsxs)("select",{value:P.lab_provider,onChange:e=>D(d(d({},P),{},{lab_provider:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ot.jsx)("option",{value:"internal",children:"Internal Lab"}),(0,Ot.jsx)("option",{value:"labcorp",children:"LabCorp"}),(0,Ot.jsx)("option",{value:"quest",children:"Quest Diagnostics"}),(0,Ot.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Selected Tests"}),0===P.tests.length?(0,Ot.jsx)("p",{className:"text-gray-400 text-sm",children:"No tests selected"}):(0,Ot.jsx)("div",{className:"space-y-2 mb-4",children:P.tests.map(((e,t)=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-3 flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.test_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300",children:["Code: ",e.test_code," | Specimen: ",e.specimen_type]})]}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{return e=t,void D(d(d({},P),{},{tests:P.tests.filter(((t,n)=>n!==e))}));var e},className:"text-red-400 hover:text-red-300",children:"Remove"})]},t)))})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Add Tests"}),(0,Ot.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:l.map((e=>(0,Ot.jsxs)("button",{type:"button",onClick:()=>(e=>{const t={test_id:e.id,test_code:e.test_code,test_name:e.test_name,quantity:1,specimen_type:e.specimen_type,fasting_required:e.fasting_required,priority:P.priority};D(d(d({},P),{},{tests:[...P.tests,t]}))})(e),disabled:P.tests.some((t=>t.test_id===e.id)),className:"bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:opacity-50 text-white p-2 rounded text-sm text-left",children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.test_name}),(0,Ot.jsx)("div",{className:"text-xs text-gray-300",children:e.test_code})]},e.id)))})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinical Information"}),(0,Ot.jsx)("textarea",{value:P.clinical_info,onChange:e=>D(d(d({},P),{},{clinical_info:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:3,placeholder:"Clinical notes, symptoms, diagnosis..."})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:p||0===P.tests.length,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Creating...":"Create Lab Order"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{k(!1),U()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),p&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},tn=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[p,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[j,w]=(0,a.useState)("dashboard"),[N,_]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[C,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)(""),[R,O]=(0,a.useState)({totalUsers:0,activeUsers:0,newRegistrations:0,pendingRequests:0,messagesUnread:0});(0,a.useEffect)((()=>{F()}),[]);const F=async()=>{try{b(!0),await Promise.all([L(),I(),z(),M(),U()])}catch(f){console.error("Failed to fetch portal data:",f),g("Failed to fetch portal data")}finally{b(!1)}},L=async()=>{try{const e=(await At.get("".concat(Lt,"/patients"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.slice(0,10).map((e=>{var t,n,r,a,s,l,i;return{id:"portal_".concat(e.id),patient_id:e.id,patient_name:"".concat((null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0])||""," ").concat((null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family)||"").trim(),email:(null===(l=e.telecom)||void 0===l||null===(i=l.find((e=>"email"===e.system)))||void 0===i?void 0:i.value)||"Not provided",username:"patient_".concat(e.id.slice(-4)),is_active:!0,is_verified:Math.random()>.2,last_login:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),created_at:e.created_at}}));s(e),O((t=>d(d({},t),{},{totalUsers:e.length,activeUsers:e.filter((e=>e.is_active)).length,newRegistrations:e.filter((e=>new Date(e.created_at)>new Date(Date.now()-2592e6))).length})))}catch(f){console.error("Failed to fetch portal users:",f)}},I=async()=>{try{const e=[{id:"req_001",patient_name:"Sarah Johnson",appointment_type:"Annual Physical",preferred_date:"2024-01-20",preferred_time:"10:00",reason:"Annual checkup and preventive care",urgency:"routine",status:"pending",created_at:(new Date).toISOString()},{id:"req_002",patient_name:"Michael Chen",appointment_type:"Follow-up",preferred_date:"2024-01-22",preferred_time:"14:30",reason:"Follow-up for blood pressure monitoring",urgency:"routine",status:"approved",created_at:new Date(Date.now()-1728e5).toISOString()}];i(e),O((t=>d(d({},t),{},{pendingRequests:e.filter((e=>"pending"===e.status)).length})))}catch(f){console.error("Failed to fetch appointment requests:",f)}},z=async()=>{try{const e=[{id:"msg_001",patient_name:"Emma Wilson",subject:"Question about lab results",message:"I received my lab results but have some questions about the cholesterol levels.",message_type:"general",priority:"normal",status:"unread",created_at:(new Date).toISOString()},{id:"msg_002",patient_name:"David Brown",subject:"Prescription refill needed",message:"My blood pressure medication is running low, can I get a refill?",message_type:"prescription",priority:"normal",status:"read",created_at:new Date(Date.now()-216e5).toISOString()},{id:"msg_003",patient_name:"Lisa Garcia",subject:"Urgent: Side effects from medication",message:"I'm experiencing some concerning side effects from the new medication.",message_type:"urgent",priority:"high",status:"unread",created_at:new Date(Date.now()-72e5).toISOString()}];c(e),O((t=>d(d({},t),{},{messagesUnread:e.filter((e=>"unread"===e.status)).length})))}catch(f){console.error("Failed to fetch patient messages:",f)}},M=async()=>{try{const e=[{id:"refill_001",patient_name:"Robert Taylor",medication_name:"Lisinopril 10mg",quantity_requested:90,pharmacy_name:"CVS Pharmacy",status:"pending",urgency:"routine",created_at:(new Date).toISOString()}];m(e)}catch(f){console.error("Failed to fetch refill requests:",f)}},U=async()=>{try{const e=[{id:"act_001",patient_name:"Various Patients",activity_type:"login",description:"15 patient logins in the last hour",created_at:(new Date).toISOString()},{id:"act_002",patient_name:"Sarah Johnson",activity_type:"appointment_request",description:"New appointment request submitted",created_at:new Date(Date.now()-18e5).toISOString()}];x(e)}catch(f){console.error("Failed to fetch portal activities:",f)}};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83c\udf10 Patient Portal Management"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>F(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),v&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",v]})}),f&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof f?JSON.stringify(f):f]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"users",name:"Portal Users",icon:"\ud83d\udc65"},{id:"requests",name:"Requests",icon:"\ud83d\udccb"},{id:"messages",name:"Messages",icon:"\ud83d\udce7"},{id:"analytics",name:"Analytics",icon:"\ud83d\udcc8"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>w(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(j===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===j&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:R.totalUsers}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Total Users"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udc65"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:R.activeUsers}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Active Users"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udfe2"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:R.pendingRequests}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Requests"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:R.messagesUnread}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Unread Messages"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udce7"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:R.newRegistrations}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"New This Month"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83c\udd95"})]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udccb Pending Appointment Requests"}),0===l.filter((e=>"pending"===e.status)).length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No pending appointment requests."}):(0,Ot.jsx)("div",{className:"space-y-3",children:l.filter((e=>"pending"===e.status)).map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300",children:[e.appointment_type," - ",e.preferred_date," at ",e.preferred_time]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.reason})]}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{b(!0),i((t=>t.map((t=>t.id===e?d(d({},t),{},{status:"approved",processed_at:(new Date).toISOString()}):t)))),y("Appointment request approved successfully!")}catch(f){console.error("Failed to approve request:",f),g("Failed to approve appointment request")}finally{b(!1)}})(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Approve"}),(0,Ot.jsx)("button",{onClick:()=>k(e),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm",children:"View"})]})]})},e.id)))})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udce7 Unread Messages"}),0===o.filter((e=>"unread"===e.status)).length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No unread messages."}):(0,Ot.jsx)("div",{className:"space-y-3",children:o.filter((e=>"unread"===e.status)).map((e=>{return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.patient_name}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((t=e.priority,{low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800")),children:e.priority})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.subject}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400 mt-1 truncate",children:e.message})]}),(0,Ot.jsx)("button",{onClick:()=>{_(e),D(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Reply"})]})},e.id);var t}))})]})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcca Recent Portal Activity"}),(0,Ot.jsx)("div",{className:"space-y-3",children:h.slice(0,5).map((e=>(0,Ot.jsx)("div",{className:"flex items-center justify-between py-2 border-b border-white/10 last:border-b-0",children:(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("div",{className:"text-xl",children:"login"===e.activity_type?"\ud83d\udd10":"appointment_request"===e.activity_type?"\ud83d\udcc5":"message_sent"===e.activity_type?"\ud83d\udce7":"\ud83d\udccb"}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-white text-sm",children:e.description}),(0,Ot.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]})]})},e.id)))})]})]}),"users"===j&&(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udc65 Portal Users"}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b border-white/20",children:[(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Patient Name"}),(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Username"}),(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Email"}),(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Status"}),(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Last Login"}),(0,Ot.jsx)("th",{className:"text-left text-white font-medium pb-3",children:"Actions"})]})}),(0,Ot.jsx)("tbody",{children:r.map((e=>(0,Ot.jsxs)("tr",{className:"border-b border-white/10",children:[(0,Ot.jsx)("td",{className:"text-white py-3",children:e.patient_name}),(0,Ot.jsx)("td",{className:"text-gray-300 py-3",children:e.username}),(0,Ot.jsx)("td",{className:"text-gray-300 py-3",children:e.email}),(0,Ot.jsx)("td",{className:"py-3",children:(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),e.is_verified&&(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Verified"})]})}),(0,Ot.jsx)("td",{className:"text-gray-300 py-3 text-sm",children:e.last_login?new Date(e.last_login).toLocaleDateString():"Never"}),(0,Ot.jsx)("td",{className:"py-3",children:(0,Ot.jsx)("button",{onClick:()=>_(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"View Details"})})]},e.id)))})]})})]})}),"requests"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Appointment requests management view coming soon..."}),"messages"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Message management view coming soon..."}),"analytics"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Portal analytics view coming soon..."}),P&&N?(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Reply to Message"}),(0,Ot.jsx)("button",{onClick:()=>{D(!1),A(""),_(null)},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsx)("div",{className:"mb-4",children:(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ot.jsxs)("div",{className:"text-white font-medium mb-2",children:["Original Message from ",N.patient_name||"Patient"]}),(0,Ot.jsx)("div",{className:"text-gray-300 text-sm",children:N.subject}),(0,Ot.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:N.message})]})}),(0,Ot.jsxs)("div",{className:"mb-6",children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Reply"}),(0,Ot.jsx)("textarea",{value:T,onChange:e=>A(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:6,placeholder:"Type your reply...",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{b(!0),c((t=>t.map((t=>t.id===e?d(d({},t),{},{status:"replied",replied_at:(new Date).toISOString()}):t)))),y("Reply sent successfully!"),D(!1),A("")}catch(f){console.error("Failed to send reply:",f),g("Failed to send reply")}finally{b(!1)}})(N.id),disabled:p||!T.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Sending...":"Send Reply"}),(0,Ot.jsx)("button",{onClick:()=>{D(!1),A(""),_(null)},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})}):null,p&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},nn=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[p,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[j,w]=(0,a.useState)("dashboard"),[N,_]=(0,a.useState)(null),[S,k]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)({patient_id:"",insurance_plan_id:"",policy_number:"",group_number:"",subscriber_id:"",subscriber_name:"",relationship_to_subscriber:"self",effective_date:(new Date).toISOString().split("T")[0],is_primary:!0,copay_amount:"",deductible_amount:""}),[R,O]=(0,a.useState)({patient_id:"",insurance_policy_id:"",service_codes:["99213"],provider_npi:""}),[F,L]=(0,a.useState)({totalPolicies:0,verifiedToday:0,pendingVerifications:0,activeAuthorizations:0});(0,a.useEffect)((()=>{I()}),[]);const I=async()=>{try{b(!0),await Promise.all([z(),M(),U()])}catch(f){console.error("Failed to fetch insurance data:",f),g("Failed to fetch insurance data")}finally{b(!1)}},z=async()=>{try{const e=await At.get("".concat(Lt,"/insurance-plans"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(f){console.error("Failed to fetch insurance plans:",f)}},M=async()=>{try{const e=await At.get("".concat(Lt,"/patients"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});x(e.data)}catch(f){console.error("Failed to fetch patients:",f)}},U=async()=>{try{const e=await At.get("".concat(Lt,"/insurance-verifications"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data);const t=(new Date).toDateString();L((n=>d(d({},n),{},{verifiedToday:e.data.filter((e=>new Date(e.verification_date).toDateString()===t)).length,pendingVerifications:e.data.filter((e=>"pending"===e.status)).length})))}catch(f){console.error("Failed to fetch verifications:",f)}},q=async e=>{e.preventDefault();try{b(!0),g("");const e=await At.post("".concat(Lt,"/insurance-policies"),T,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});i([...l,e.data]),y("Insurance policy created successfully!"),k(!1),V()}catch(f){var t,n;console.error("Failed to create insurance policy:",f),g((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create insurance policy")}finally{b(!1)}},B=async e=>{e.preventDefault();try{b(!0),g("");await At.post("".concat(Lt,"/insurance-verification"),R,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});y("Insurance verification completed successfully!"),E(!1),$(),U()}catch(f){var t,n;console.error("Failed to verify insurance:",f),g((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to verify insurance")}finally{b(!1)}},V=()=>{A({patient_id:"",insurance_plan_id:"",policy_number:"",group_number:"",subscriber_id:"",subscriber_name:"",relationship_to_subscriber:"self",effective_date:(new Date).toISOString().split("T")[0],is_primary:!0,copay_amount:"",deductible_amount:""})},$=()=>{O({patient_id:"",insurance_policy_id:"",service_codes:["99213"],provider_npi:""})};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcb3 Insurance Verification"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83c\udfe5 New Policy"}),(0,Ot.jsx)("button",{onClick:()=>E(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd0d Verify Insurance"}),(0,Ot.jsx)("button",{onClick:()=>I(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),v&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",v]})}),f&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof f?JSON.stringify(f):f]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"plans",name:"Insurance Plans",icon:"\ud83c\udfe5"},{id:"policies",name:"Patient Policies",icon:"\ud83d\udccb"},{id:"verifications",name:"Verifications",icon:"\ud83d\udd0d"},{id:"prior-auth",name:"Prior Authorization",icon:"\ud83d\udcc4"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>w(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(j===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===j&&(()=>{const e=o.slice(0,5);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Insurance Plans"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83c\udfe5"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:F.verifiedToday}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Verified Today"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u2705"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:F.pendingVerifications}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Verifications"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:F.activeAuthorizations}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Active Prior Auths"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udd0d Recent Insurance Verifications"}),0===e.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No recent insurance verifications."}):(0,Ot.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n;return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsxs)("div",{className:"text-white font-medium",children:["Patient ID: ",e.patient_id]}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((n=e.status,{pending:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",denied:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800",requires_auth:"bg-orange-100 text-orange-800",error:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Service Codes: ",(null===(t=e.service_codes)||void 0===t?void 0:t.join(", "))||"N/A"]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[null!==e.is_covered&&(0,Ot.jsx)("span",{className:e.is_covered?"text-green-400":"text-red-400",children:e.is_covered?"\u2705 Covered":"\u274c Not Covered"}),e.copay_amount&&(0,Ot.jsxs)("span",{className:"ml-4",children:["Copay: $",e.copay_amount]})]})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.verification_date).toLocaleDateString()})]})},e.id)}))})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83c\udfe5 Insurance Plans"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.slice(0,6).map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.insurance_company}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.plan_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Type: ",e.plan_type]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Network: ",e.network_type]}),e.requires_referrals&&(0,Ot.jsx)("div",{className:"text-xs text-yellow-400 mt-1",children:"\u26a0\ufe0f Requires Referrals"}),e.requires_prior_auth&&(0,Ot.jsx)("div",{className:"text-xs text-orange-400 mt-1",children:"\ud83d\udccb Prior Auth Required"})]},e.id)))})]})]})})(),"plans"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Insurance plans management view coming soon..."}),"policies"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Patient policies management view coming soon..."}),"verifications"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Verifications history view coming soon..."}),"prior-auth"===j&&(0,Ot.jsx)("div",{className:"text-white",children:"Prior authorization management view coming soon..."}),S&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83c\udfe5 New Insurance Policy"}),(0,Ot.jsx)("button",{onClick:()=>{k(!1),V()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{value:T.patient_id,onChange:e=>A(d(d({},T),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),h.map((e=>{var t,n,r,a,s;return(0,Ot.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Insurance Plan"}),(0,Ot.jsxs)("select",{value:T.insurance_plan_id,onChange:e=>A(d(d({},T),{},{insurance_plan_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Insurance Plan"}),r.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.insurance_company," - ",e.plan_name]},e.id)))]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Policy Number"}),(0,Ot.jsx)("input",{type:"text",value:T.policy_number,onChange:e=>A(d(d({},T),{},{policy_number:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Group Number"}),(0,Ot.jsx)("input",{type:"text",value:T.group_number,onChange:e=>A(d(d({},T),{},{group_number:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscriber ID"}),(0,Ot.jsx)("input",{type:"text",value:T.subscriber_id,onChange:e=>A(d(d({},T),{},{subscriber_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscriber Name"}),(0,Ot.jsx)("input",{type:"text",value:T.subscriber_name,onChange:e=>A(d(d({},T),{},{subscriber_name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Relationship to Subscriber"}),(0,Ot.jsxs)("select",{value:T.relationship_to_subscriber,onChange:e=>A(d(d({},T),{},{relationship_to_subscriber:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ot.jsx)("option",{value:"self",children:"Self"}),(0,Ot.jsx)("option",{value:"spouse",children:"Spouse"}),(0,Ot.jsx)("option",{value:"child",children:"Child"}),(0,Ot.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Effective Date"}),(0,Ot.jsx)("input",{type:"date",value:T.effective_date,onChange:e=>A(d(d({},T),{},{effective_date:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Copay Amount ($)"}),(0,Ot.jsx)("input",{type:"number",step:"0.01",value:T.copay_amount,onChange:e=>A(d(d({},T),{},{copay_amount:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deductible Amount ($)"}),(0,Ot.jsx)("input",{type:"number",step:"0.01",value:T.deductible_amount,onChange:e=>A(d(d({},T),{},{deductible_amount:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"is_primary",checked:T.is_primary,onChange:e=>A(d(d({},T),{},{is_primary:e.target.checked})),className:"rounded"}),(0,Ot.jsx)("label",{htmlFor:"is_primary",className:"text-gray-300",children:"Primary Insurance"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Creating...":"Create Policy"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{k(!1),V()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),C&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udd0d Insurance Verification"}),(0,Ot.jsx)("button",{onClick:()=>{E(!1),$()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ot.jsxs)("select",{value:R.patient_id,onChange:e=>O(d(d({},R),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"Select Patient"}),h.map((e=>{var t,n,r,a,s;return(0,Ot.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(a=e.name)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.family]},e.id)}))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Codes (CPT)"}),(0,Ot.jsx)("input",{type:"text",value:R.service_codes.join(", "),onChange:e=>O(d(d({},R),{},{service_codes:e.target.value.split(",").map((e=>e.trim()))})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"99213, 99214, 80048",required:!0}),(0,Ot.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Enter CPT codes separated by commas"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider NPI (Optional)"}),(0,Ot.jsx)("input",{type:"text",value:R.provider_npi,onChange:e=>O(d(d({},R),{},{provider_npi:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"1234567890"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Verifying...":"Verify Insurance"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{E(!1),$()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),p&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},rn=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[h,x]=(0,a.useState)("dashboard"),[p,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[v,y]=(0,a.useState)({name:"",description:"",category:"",specialty:"",template_type:"assessment",content:"",is_active:!0});(0,a.useEffect)((()=>{j()}),[]);const j=async()=>{try{i(!0);const e=await At.get("".concat(Lt,"/clinical-templates"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(o){console.error("Failed to fetch clinical templates:",o),c("Failed to fetch clinical templates")}finally{i(!1)}},w=async e=>{e.preventDefault();try{i(!0),c("");const e=f?"".concat(Lt,"/clinical-templates/").concat(f.id):"".concat(Lt,"/clinical-templates"),t=f?"put":"post",n=await At[t](e,v,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});f?(s(r.map((e=>e.id===f.id?n.data:e))),m("Clinical template updated successfully!")):(s([...r,n.data]),m("Clinical template created successfully!")),b(!1),g(null),_()}catch(o){var t,n;console.error("Failed to save clinical template:",o),c((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save clinical template")}finally{i(!1)}},N=e=>{g(e),y({name:e.name,description:e.description,category:e.category,specialty:e.specialty,template_type:e.template_type,content:e.content,is_active:e.is_active}),b(!0)},_=()=>{y({name:"",description:"",category:"",specialty:"",template_type:"assessment",content:"",is_active:!0})};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcdd Clinical Templates"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcdd New Template"}),(0,Ot.jsx)("button",{onClick:()=>j(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),u&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",u]})}),o&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof o?JSON.stringify(o):o]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"templates",name:"All Templates",icon:"\ud83d\udcdd"},{id:"protocols",name:"Protocols",icon:"\ud83d\udccb"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>x(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(h===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===h&&(()=>{const e=r.reduce(((e,t)=>(e[t.template_type]=(e[t.template_type]||0)+1,e)),{}),t=r.slice(0,5);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Total Templates"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcdd"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.assessment||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Assessment Templates"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udd0d"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.treatment||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Treatment Plans"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udc8a"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.protocol||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Protocols"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcdd Recent Clinical Templates"}),0===t.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No clinical templates created yet."}):(0,Ot.jsx)("div",{className:"space-y-3",children:t.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.template_type}),e.specialty&&(0,Ot.jsx)("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs",children:e.specialty})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>N(e),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),(0,Ot.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-400":"bg-gray-400")})]})]})},e.id)))})]})]})})(),"templates"===h&&(0,Ot.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.template_type}),e.specialty&&(0,Ot.jsx)("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs",children:e.specialty})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>N(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,Ot.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-400":"bg-gray-400")})]})]})},e.id)))}),"protocols"===h&&(0,Ot.jsx)("div",{className:"text-white",children:"Clinical protocols view coming soon..."}),p&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:f?"\u270f\ufe0f Edit Clinical Template":"\ud83d\udcdd New Clinical Template"}),(0,Ot.jsx)("button",{onClick:()=>{b(!1),g(null),_()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name"}),(0,Ot.jsx)("input",{type:"text",value:v.name,onChange:e=>y(d(d({},v),{},{name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Type"}),(0,Ot.jsxs)("select",{value:v.template_type,onChange:e=>y(d(d({},v),{},{template_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"assessment",children:"Assessment"}),(0,Ot.jsx)("option",{value:"treatment",children:"Treatment Plan"}),(0,Ot.jsx)("option",{value:"protocol",children:"Clinical Protocol"}),(0,Ot.jsx)("option",{value:"documentation",children:"Documentation"}),(0,Ot.jsx)("option",{value:"form",children:"Form Template"})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ot.jsx)("input",{type:"text",value:v.category,onChange:e=>y(d(d({},v),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., SOAP Notes, Intake Forms"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specialty"}),(0,Ot.jsx)("input",{type:"text",value:v.specialty,onChange:e=>y(d(d({},v),{},{specialty:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., Cardiology, Family Medicine"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("input",{type:"text",value:v.description,onChange:e=>y(d(d({},v),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Brief description of the template"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Content"}),(0,Ot.jsx)("textarea",{value:v.content,onChange:e=>y(d(d({},v),{},{content:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-64",placeholder:"Enter the template content here...",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"is_active",checked:v.is_active,onChange:e=>y(d(d({},v),{},{is_active:e.target.checked})),className:"rounded"}),(0,Ot.jsx)("label",{htmlFor:"is_active",className:"text-gray-300",children:"Active Template"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:l?"Saving...":f?"Update Template":"Create Template"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{b(!1),g(null),_()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),l&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},an=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[p,b]=(0,a.useState)("dashboard"),[f,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),[j,w]=(0,a.useState)({name:"",description:"",category:"",measure_type:"outcome",calculation_method:"",target_value:"",target_operator:"gte",is_active:!0});(0,a.useEffect)((()=>{N(),_()}),[]);const N=async()=>{try{c(!0);const e=await At.get("".concat(Lt,"/quality-measures"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(u){console.error("Failed to fetch quality measures:",u),m("Failed to fetch quality measures")}finally{c(!1)}},_=async()=>{try{const e=await At.get("".concat(Lt,"/quality-measures/report"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});i(e.data)}catch(u){console.error("Failed to fetch measure results:",u)}},S=async()=>{try{c(!0),m("");await At.post("".concat(Lt,"/quality-measures/calculate"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});x("Quality measures calculated successfully!"),_()}catch(u){var e,t;console.error("Failed to calculate quality measures:",u),m((null===(e=u.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to calculate quality measures")}finally{c(!1)}},k=async e=>{e.preventDefault();try{c(!0),m("");const e=v?"".concat(Lt,"/quality-measures/").concat(v.id):"".concat(Lt,"/quality-measures"),t=v?"put":"post",n=await At[t](e,j,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});v?(s(r.map((e=>e.id===v.id?n.data:e))),x("Quality measure updated successfully!")):(s([...r,n.data]),x("Quality measure created successfully!")),g(!1),y(null),C()}catch(u){var t,n;console.error("Failed to save quality measure:",u),m((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save quality measure")}finally{c(!1)}},C=()=>{w({name:"",description:"",category:"",measure_type:"outcome",calculation_method:"",target_value:"",target_operator:"gte",is_active:!0})};return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc8 Quality Measures"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc8 New Measure"}),(0,Ot.jsx)("button",{onClick:()=>N(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),h&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",h]})}),u&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof u?JSON.stringify(u):u]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"measures",name:"All Measures",icon:"\ud83d\udcc8"},{id:"reports",name:"Reports",icon:"\ud83d\udccb"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>b(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(p===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===p&&(()=>{const e=r.reduce(((e,t)=>(e[t.measure_type]=(e[t.measure_type]||0)+1,e)),{}),t=l.slice(0,5);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Total Measures"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc8"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.outcome||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Outcome Measures"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83c\udfaf"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.process||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Process Measures"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\u2699\ufe0f"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.structure||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Structure Measures"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83c\udfd7\ufe0f"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udcca Recent Quality Measure Results"}),(0,Ot.jsx)("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Calculate Measures"})]}),0===t.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:'No quality measure results available. Click "Calculate Measures" to generate results.'}):(0,Ot.jsx)("div",{className:"space-y-3",children:t.map((e=>{return(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.measure_name}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((t=e.status,{met:"bg-green-100 text-green-800",not_met:"bg-red-100 text-red-800",improving:"bg-yellow-100 text-yellow-800",declining:"bg-orange-100 text-orange-800",stable:"bg-blue-100 text-blue-800"}[t]||"bg-gray-100 text-gray-800")),children:e.status})]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Current Value: ",e.current_value," | Target: ",e.target_value]}),e.improvement_percentage&&(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Improvement: ",e.improvement_percentage,"%"]})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.calculation_date).toLocaleDateString()})]})},e.id);var t}))})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc8 Active Quality Measures"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.filter((e=>e.is_active)).slice(0,6).map((e=>(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Type: ",e.measure_type]}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]}),e.target_value&&(0,Ot.jsxs)("div",{className:"text-xs text-blue-400 mt-1",children:["Target: ",e.target_operator," ",e.target_value]})]},e.id)))})]})]})})(),"measures"===p&&(0,Ot.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.measure_type}),e.category&&(0,Ot.jsx)("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs",children:e.category})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Target: ",e.target_operator," ",e.target_value]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>(e=>{y(e),w({name:e.name,description:e.description,category:e.category,measure_type:e.measure_type,calculation_method:e.calculation_method,target_value:e.target_value,target_operator:e.target_operator,is_active:e.is_active}),g(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,Ot.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-400":"bg-gray-400")})]})]})},e.id)))}),"reports"===p&&(0,Ot.jsx)("div",{className:"text-white",children:"Quality measure reports view coming soon..."}),f&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:v?"\u270f\ufe0f Edit Quality Measure":"\ud83d\udcc8 New Quality Measure"}),(0,Ot.jsx)("button",{onClick:()=>{g(!1),y(null),C()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Measure Name"}),(0,Ot.jsx)("input",{type:"text",value:j.name,onChange:e=>w(d(d({},j),{},{name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("textarea",{value:j.description,onChange:e=>w(d(d({},j),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Describe what this measure evaluates"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Measure Type"}),(0,Ot.jsxs)("select",{value:j.measure_type,onChange:e=>w(d(d({},j),{},{measure_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"outcome",children:"Outcome"}),(0,Ot.jsx)("option",{value:"process",children:"Process"}),(0,Ot.jsx)("option",{value:"structure",children:"Structure"}),(0,Ot.jsx)("option",{value:"patient_experience",children:"Patient Experience"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ot.jsx)("input",{type:"text",value:j.category,onChange:e=>w(d(d({},j),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., Diabetes Care, Preventive Care"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calculation Method"}),(0,Ot.jsx)("textarea",{value:j.calculation_method,onChange:e=>w(d(d({},j),{},{calculation_method:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Describe how this measure is calculated"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Operator"}),(0,Ot.jsxs)("select",{value:j.target_operator,onChange:e=>w(d(d({},j),{},{target_operator:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ot.jsx)("option",{value:"gte",children:"Greater than or equal (\u2265)"}),(0,Ot.jsx)("option",{value:"lte",children:"Less than or equal (\u2264)"}),(0,Ot.jsx)("option",{value:"eq",children:"Equal to (=)"}),(0,Ot.jsx)("option",{value:"gt",children:"Greater than (>)"}),(0,Ot.jsx)("option",{value:"lt",children:"Less than (<)"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Value"}),(0,Ot.jsx)("input",{type:"text",value:j.target_value,onChange:e=>w(d(d({},j),{},{target_value:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., 85%, 120, 7.0"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"is_active_measure",checked:j.is_active,onChange:e=>w(d(d({},j),{},{is_active:e.target.checked})),className:"rounded"}),(0,Ot.jsx)("label",{htmlFor:"is_active_measure",className:"text-gray-300",children:"Active Measure"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Saving...":v?"Update Measure":"Create Measure"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{g(!1),y(null),C()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),o&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},sn=e=>{let{setActiveModule:t}=e;const{user:n}=zt(),[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[h,x]=(0,a.useState)("dashboard"),[p,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[v,y]=(0,a.useState)({title:"",description:"",category:"",patient_id:"",document_type:"clinical_note",content:"",is_confidential:!1}),[j,w]=(0,a.useState)({title:"",category:"",patient_id:"",description:""});(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{try{i(!0);const e=await At.get("".concat(Lt,"/documents"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(e.data)}catch(o){console.error("Failed to fetch documents:",o),c("Failed to fetch documents")}finally{i(!1)}},_=async e=>{e.preventDefault();try{i(!0),c("");const e=f?"".concat(Lt,"/documents/").concat(f.id):"".concat(Lt,"/documents"),t=f?"put":"post",n=await At[t](e,v,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});f?(s(r.map((e=>e.id===f.id?n.data:e))),m("Document updated successfully!")):(s([...r,n.data]),m("Document created successfully!")),b(!1),g(null),C()}catch(o){var t,n;console.error("Failed to save document:",o),c((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save document")}finally{i(!1)}},S=async e=>{e.preventDefault();try{i(!0),c("");const e=d(d({},j),{},{document_type:"uploaded_file",content:"File uploaded",file_path:"/uploads/documents/".concat(j.title.replace(/\s+/g,"_"),".pdf")}),t=await At.post("".concat(Lt,"/documents/upload"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s([...r,t.data]),m("Document uploaded successfully!"),E(),x("documents")}catch(o){var t,n;console.error("Failed to upload document:",o),c((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to upload document")}finally{i(!1)}},k=e=>{g(e),y({title:e.title,description:e.description,category:e.category,patient_id:e.patient_id||"",document_type:e.document_type,content:e.content,is_confidential:e.is_confidential}),b(!0)},C=()=>{y({title:"",description:"",category:"",patient_id:"",document_type:"clinical_note",content:"",is_confidential:!1})},E=()=>{w({title:"",category:"",patient_id:"",description:""})},P=e=>({draft:"bg-yellow-100 text-yellow-800",active:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800",pending_approval:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ot.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc4 Document Management"}),(0,Ot.jsxs)("div",{className:"flex space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc4 New Document"}),(0,Ot.jsx)("button",{onClick:()=>N(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ot.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),u&&(0,Ot.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-green-300",children:["\u2705 ",u]})}),o&&(0,Ot.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ot.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof o?JSON.stringify(o):o]})}),(0,Ot.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ot.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"documents",name:"All Documents",icon:"\ud83d\udcc4"},{id:"upload",name:"Upload",icon:"\ud83d\udcce"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>x(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(h===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ot.jsx)("span",{children:e.icon}),(0,Ot.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===h&&(()=>{const e=r.reduce(((e,t)=>(e[t.document_type]=(e[t.document_type]||0)+1,e)),{}),t=r.slice(0,5);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Total Documents"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc4"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.clinical_note||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Clinical Notes"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcdd"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:e.uploaded_file||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Uploaded Files"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udcce"})]})}),(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-white",children:r.filter((e=>e.is_confidential)).length}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300",children:"Confidential"})]}),(0,Ot.jsx)("div",{className:"text-2xl",children:"\ud83d\udd12"})]})})]}),(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc4 Recent Documents"}),0===t.length?(0,Ot.jsx)("p",{className:"text-gray-400",children:"No documents available."}):(0,Ot.jsx)("div",{className:"space-y-3",children:t.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.document_type}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(P(e.status)),children:e.status}),e.is_confidential&&(0,Ot.jsx)("span",{className:"px-2 py-1 bg-red-600/20 text-red-300 rounded text-xs",children:"\ud83d\udd12 Confidential"})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>k(e),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]})]})},e.id)))})]})]})})(),"documents"===h&&(0,Ot.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ot.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ot.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.document_type}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(P(e.status)),children:e.status}),e.is_confidential&&(0,Ot.jsx)("span",{className:"px-2 py-1 bg-red-600/20 text-red-300 rounded text-xs",children:"\ud83d\udd12 Confidential"})]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("button",{onClick:()=>k(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,Ot.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{i(!0);const n=await At.put("".concat(Lt,"/documents/").concat(e,"/status"),{status:t},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(r.map((t=>t.id===e?n.data:t))),m("Document status updated to ".concat(t,"!"))}catch(o){var n,a;console.error("Failed to update document status:",o),c((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Failed to update document status")}finally{i(!1)}})(e.id,t.target.value),className:"bg-gray-600 text-white px-2 py-1 rounded text-xs",children:[(0,Ot.jsx)("option",{value:"draft",children:"Draft"}),(0,Ot.jsx)("option",{value:"active",children:"Active"}),(0,Ot.jsx)("option",{value:"archived",children:"Archived"}),(0,Ot.jsx)("option",{value:"pending_approval",children:"Pending Approval"}),(0,Ot.jsx)("option",{value:"approved",children:"Approved"})]})]})]})},e.id)))}),"upload"===h&&(0,Ot.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcce Upload Document"}),(0,Ot.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Title"}),(0,Ot.jsx)("input",{type:"text",value:j.title,onChange:e=>w(d(d({},j),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ot.jsx)("input",{type:"text",value:j.category,onChange:e=>w(d(d({},j),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., Lab Reports, Imaging"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient ID (Optional)"}),(0,Ot.jsx)("input",{type:"text",value:j.patient_id,onChange:e=>w(d(d({},j),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Link to patient record"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("textarea",{value:j.description,onChange:e=>w(d(d({},j),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Brief description of the document"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"File Upload"}),(0,Ot.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-gray-400 mb-2",children:"\ud83d\udcce Click to upload or drag and drop"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, JPG, PNG (max 10MB)"}),(0,Ot.jsx)("input",{type:"file",className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:l?"Uploading...":"Upload Document"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>E(),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Clear Form"})]})]})]}),p&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-semibold text-white",children:f?"\u270f\ufe0f Edit Document":"\ud83d\udcc4 New Document"}),(0,Ot.jsx)("button",{onClick:()=>{b(!1),g(null),C()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Title"}),(0,Ot.jsx)("input",{type:"text",value:v.title,onChange:e=>y(d(d({},v),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Type"}),(0,Ot.jsxs)("select",{value:v.document_type,onChange:e=>y(d(d({},v),{},{document_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ot.jsx)("option",{value:"clinical_note",children:"Clinical Note"}),(0,Ot.jsx)("option",{value:"lab_result",children:"Lab Result"}),(0,Ot.jsx)("option",{value:"imaging_report",children:"Imaging Report"}),(0,Ot.jsx)("option",{value:"consultation_report",children:"Consultation Report"}),(0,Ot.jsx)("option",{value:"discharge_summary",children:"Discharge Summary"}),(0,Ot.jsx)("option",{value:"uploaded_file",children:"Uploaded File"}),(0,Ot.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ot.jsx)("input",{type:"text",value:v.category,onChange:e=>y(d(d({},v),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., Cardiology, Lab Reports"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient ID (Optional)"}),(0,Ot.jsx)("input",{type:"text",value:v.patient_id,onChange:e=>y(d(d({},v),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Link to patient record"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ot.jsx)("input",{type:"text",value:v.description,onChange:e=>y(d(d({},v),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Brief description of the document"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Content"}),(0,Ot.jsx)("textarea",{value:v.content,onChange:e=>y(d(d({},v),{},{content:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-64",placeholder:"Enter the document content here...",required:!0})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("input",{type:"checkbox",id:"is_confidential",checked:v.is_confidential,onChange:e=>y(d(d({},v),{},{is_confidential:e.target.checked})),className:"rounded"}),(0,Ot.jsx)("label",{htmlFor:"is_confidential",className:"text-gray-300",children:"Mark as Confidential"})]}),(0,Ot.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:l?"Saving...":f?"Update Document":"Create Document"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{b(!1),g(null),C()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),l&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ot.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ot.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},ln=function(){return(0,Ot.jsx)(Mt,{children:(0,Ot.jsx)(Wt,{})})};s.createRoot(document.getElementById("root")).render((0,Ot.jsx)(a.StrictMode,{children:(0,Ot.jsx)(ln,{})}))})();