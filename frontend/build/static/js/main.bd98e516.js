/*! For license information please see main.bd98e516.js.LICENSE.txt */
(()=>{"use strict";var e={345:(e,t,n)=>{var r=n(950),s=n(340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},h={};function p(e,t,n,r,s,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=b.hasOwnProperty(t)?b[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(h,e)||!u.call(x,e)&&(m.test(e)?h[e]=!0:(x[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,I=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),l=s.length-1,i=a.length-1;1<=l&&0<=i&&s[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||s[l]!==a[i]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function q(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||xe.hasOwnProperty(e)&&xe[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(xe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xe[t]=xe[e]}))}));var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,_e=null;function ke(e){if(e=vs(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=js(t),Ne(e.stateNode,e.type,t))}}function Se(e){we?_e?_e.push(e):_e=[e]:we=e}function Ce(){if(we){var e=we,t=_e;if(_e=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Re(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==we||null!==_e)&&(Pe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=js(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Ae=!1}function Fe(e,t,n,r,s,a,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Ie=null,Me=!1,ze=null,Ue={onError:function(e){Le=!0,Ie=e}};function qe(e,t,n,r,s,a,l,i,o){Le=!1,Ie=null,Fe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(r=s.return)){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return He(s),e;if(l===r)return He(s),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=l;break}if(o===r){i=!0,r=s,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=s;break}if(o===r){i=!0,r=l,n=s;break}o=o.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~s;0!==i?r=ut(i):0!==(a&=l)&&(r=ut(a))}else 0!==(l=n&~s)?r=ut(l):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-lt(t)),r|=e[n],t&=~s;return r}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,_t,kt,St=!1,Ct=[],Et=null,Pt=null,Tt=null,Rt=new Map,Dt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function It(e){var t=fs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){St=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Tt&&Mt(Tt)&&(Tt=null),Rt.forEach(zt),Dt.forEach(zt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Pt&&qt(Pt,e),null!==Tt&&qt(Tt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)It(n),null===n.blockedOn&&At.shift()}var Vt=y.ReactCurrentBatchConfig,Ht=!0;function $t(e,t,n,r){var s=vt,a=Vt.transition;Vt.transition=null;try{vt=1,Qt(e,t,n,r)}finally{vt=s,Vt.transition=a}}function Wt(e,t,n,r){var s=vt,a=Vt.transition;Vt.transition=null;try{vt=4,Qt(e,t,n,r)}finally{vt=s,Vt.transition=a}}function Qt(e,t,n,r){if(Ht){var s=Gt(e,t,n,r);if(null===s)Hr(e,t,r,Kt,n),Ft(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,s),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,s),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==s;){var a=vs(s);if(null!==a&&jt(a),null===(a=Gt(e,t,n,r))&&Hr(e,t,r,Kt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=fs(e=je(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=I({},cn,{view:0,detail:0}),mn=sn(un),xn=I({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=sn(xn),pn=sn(I({},xn,{dataTransfer:0})),bn=sn(I({},un,{relatedTarget:0})),gn=sn(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(fn),yn=sn(I({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function kn(){return _n}var Sn=I({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),En=sn(I({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(I({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=sn(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=I({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),An=[9,13,27,32],On=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Fn,In=d&&(!On||Fn&&8<Fn&&11>=Fn),Mn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function $n(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Kn(e){Mr(e,0)}function Gn(e){if(Q(ys(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];$n(t,Qn,e,je(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ar(e,t){if("click"===e)return Gn(t)}function lr(e,t){if("input"===e||"change"===e)return Gn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&xr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var l=dr(n,r);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,br=null,gr=null,fr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==br||br!==K(r)||("selectionStart"in(r=br)&&xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&or(fr,r)||(fr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},wr={},_r={};function kr(e){if(wr[e])return wr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),Er=kr("animationstart"),Pr=kr("transitionend"),Tr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),o(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Or=Rr[Ar];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Er,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,l,i,o,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Ie;Le=!1,Ie=null,Me||(Me=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==a&&s.isPropagationStopped())break e;Ir(s,i,c),a=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==a&&s.isPropagationStopped())break e;Ir(s,i,c),a=o}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zr(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,l.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var s=$t;break;case 4:s=Wt;break;default:s=Qt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==i;){if(null===(l=fs(i)))return;if(5===(o=l.tag)||6===o){r=a=l;continue e}i=i.parentNode}}r=r.return}Re((function(){var r=a,s=je(n),l=[];e:{var i=Tr.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=bn;break;case"focusout":c="blur",o=bn;break;case"beforeblur":case"afterblur":o=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case Sr:case Cr:case Er:o=gn;break;case Pr:o=Tn;break;case"scroll":o=mn;break;case"wheel":o=Dn;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var x,h=r;null!==h;){var p=(x=h).stateNode;if(5===x.tag&&null!==p&&(x=p,null!==m&&(null!=(p=De(h,m))&&d.push($r(h,p,x)))),u)break;h=h.return}0<d.length&&(i=new o(i,c,null,n,s),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!fs(c)&&!c[hs])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?fs(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=hn,p="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,p="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:ys(o),x=null==c?i:ys(c),(i=new d(p,h+"leave",o,n,s)).target=u,i.relatedTarget=x,p=null,fs(s)===r&&((d=new d(m,h+"enter",c,n,s)).target=x,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,h=0,x=d=o;x;x=Qr(x))h++;for(x=0,p=m;p;p=Qr(p))x++;for(;0<h-x;)d=Qr(d),h--;for(;0<x-h;)m=Qr(m),x--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qr(d),m=Qr(m)}d=null}else d=null;null!==o&&Kr(l,i,o,d,!1),null!==c&&null!==u&&Kr(l,u,c,d,!0)}if("select"===(o=(i=r?ys(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var b=Jn;else if(Hn(i))if(Yn)b=lr;else{b=sr;var g=rr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(b=ar);switch(b&&(b=b(e,r))?$n(l,b,n,s):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?ys(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(br=g,gr=r,fr=null);break;case"focusout":fr=gr=br=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(l,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(l,n,s)}var f;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(In&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bn&&(f=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,Bn=!0)),0<(g=Wr(r,v)).length&&(v=new yn(v,e,null,n,s),l.push({event:v,listeners:g}),f?v.data=f:null!==(f=qn(n))&&(v.data=f))),(f=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),l.push({event:s,listeners:r}),s.data=f))}Mr(l,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=De(e,n))&&r.unshift($r(e,a,s)),null!=(a=De(e,t))&&r.push($r(e,a,s))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,s){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=De(n,a))&&l.unshift($r(n,o,i)):s||null!=(o=De(n,a))&&l.push($r(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Gr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(is)}:rs;function is(e){setTimeout((function(){throw e}))}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,xs="__reactProps$"+us,hs="__reactContainer$"+us,ps="__reactEvents$"+us,bs="__reactListeners$"+us,gs="__reactHandles$"+us;function fs(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hs]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ms])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ms]||e[hs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function js(e){return e[xs]||null}var Ns=[],ws=-1;function _s(e){return{current:e}}function ks(e){0>ws||(e.current=Ns[ws],Ns[ws]=null,ws--)}function Ss(e,t){ws++,Ns[ws]=e.current,e.current=t}var Cs={},Es=_s(Cs),Ps=_s(!1),Ts=Cs;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ds(e){return null!==(e=e.childContextTypes)&&void 0!==e}function As(){ks(Ps),ks(Es)}function Os(e,t,n){if(Es.current!==Cs)throw Error(a(168));Ss(Es,t),Ss(Ps,n)}function Fs(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,V(e)||"Unknown",s));return I({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ts=Es.current,Ss(Es,e),Ss(Ps,Ps.current),!0}function Is(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fs(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,ks(Ps),ks(Es),Ss(Es,e)):ks(Ps),Ss(Ps,n)}var Ms=null,zs=!1,Us=!1;function qs(e){null===Ms?Ms=[e]:Ms.push(e)}function Bs(){if(!Us&&null!==Ms){Us=!0;var e=0,t=vt;try{var n=Ms;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ms=null,zs=!1}catch(s){throw null!==Ms&&(Ms=Ms.slice(e+1)),Qe(Ze,Bs),s}finally{vt=t,Us=!1}}return null}var Vs=[],Hs=0,$s=null,Ws=0,Qs=[],Ks=0,Gs=null,Js=1,Ys="";function Xs(e,t){Vs[Hs++]=Ws,Vs[Hs++]=$s,$s=e,Ws=t}function Zs(e,t,n){Qs[Ks++]=Js,Qs[Ks++]=Ys,Qs[Ks++]=Gs,Gs=e;var r=Js;e=Ys;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var a=32-lt(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Js=1<<32-lt(t)+s|n<<s|r,Ys=a+e}else Js=1<<a|n<<s|r,Ys=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===$s;)$s=Vs[--Hs],Vs[Hs]=null,Ws=Vs[--Hs],Vs[Hs]=null;for(;e===Gs;)Gs=Qs[--Ks],Qs[Ks]=null,Ys=Qs[--Ks],Qs[Ks]=null,Js=Qs[--Ks],Qs[Ks]=null}var na=null,ra=null,sa=!1,aa=null;function la(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gs?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!ia(e,t)){if(oa(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&ia(e,t)?la(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)la(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=cs(e.nextSibling)}function xa(){ra=na=null,sa=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var pa=y.ReactCurrentBatchConfig;function ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){return(0,e._init)(e._payload)}function va(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===w?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&fa(a)===t.type)?((r=s(t,n.props)).ref=ba(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=ba(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=ba(e,null,t),n.return=e,n;case N:return(t=Mc(t,e.mode,n)).return=e,t;case D:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function x(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?d(e,t,n,r):null;case D:return x(e,t,(s=n._init)(n._payload),r)}if(te(n)||F(n))return null!==s?null:u(e,t,n,r,null);ga(e,n)}return null}function h(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case D:return h(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||F(r))return u(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function p(s,a,i,o){for(var c=null,d=null,u=a,p=a=0,b=null;null!==u&&p<i.length;p++){u.index>p?(b=u,u=null):b=u.sibling;var g=x(s,u,i[p],o);if(null===g){null===u&&(u=b);break}e&&u&&null===g.alternate&&t(s,u),a=l(g,a,p),null===d?c=g:d.sibling=g,d=g,u=b}if(p===i.length)return n(s,u),sa&&Xs(s,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(s,i[p],o))&&(a=l(u,a,p),null===d?c=u:d.sibling=u,d=u);return sa&&Xs(s,p),c}for(u=r(s,u);p<i.length;p++)null!==(b=h(u,s,p,i[p],o))&&(e&&null!==b.alternate&&u.delete(null===b.key?p:b.key),a=l(b,a,p),null===d?c=b:d.sibling=b,d=b);return e&&u.forEach((function(e){return t(s,e)})),sa&&Xs(s,p),c}function b(s,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,p=i,b=i=0,g=null,f=o.next();null!==p&&!f.done;b++,f=o.next()){p.index>b?(g=p,p=null):g=p.sibling;var v=x(s,p,f.value,c);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(s,p),i=l(v,i,b),null===u?d=v:u.sibling=v,u=v,p=g}if(f.done)return n(s,p),sa&&Xs(s,b),d;if(null===p){for(;!f.done;b++,f=o.next())null!==(f=m(s,f.value,c))&&(i=l(f,i,b),null===u?d=f:u.sibling=f,u=f);return sa&&Xs(s,b),d}for(p=r(s,p);!f.done;b++,f=o.next())null!==(f=h(p,s,b,f.value,c))&&(e&&null!==f.alternate&&p.delete(null===f.key?b:f.key),i=l(f,i,b),null===u?d=f:u.sibling=f,u=f);return e&&p.forEach((function(e){return t(s,e)})),sa&&Xs(s,b),d}return function e(r,a,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=a;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){n(r,d.sibling),(a=s(d,l.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&fa(c)===d.type){n(r,d.sibling),(a=s(d,l.props)).ref=ba(r,d,l),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===w?((a=Fc(l.props.children,r.mode,o,l.key)).return=r,r=a):((o=Oc(l.type,l.key,l.props,null,r.mode,o)).ref=ba(r,a,l),o.return=r,r=o)}return i(r);case N:e:{for(d=l.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(r,a.sibling),(a=s(a,l.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(l,r.mode,o)).return=r,r=a}return i(r);case D:return e(r,a,(d=l._init)(l._payload),o)}if(te(l))return p(r,a,l,o);if(F(l))return b(r,a,l,o);ga(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,l)).return=r,r=a):(n(r,a),(a=Ic(l,r.mode,o)).return=r,r=a),i(r)):n(r,a)}}var ya=va(!0),ja=va(!1),Na=_s(null),wa=null,_a=null,ka=null;function Sa(){ka=_a=wa=null}function Ca(e){var t=Na.current;ks(Na),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){wa=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(fi=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===wa)throw Error(a(308));_a=e,wa.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ra=null;function Da(e){null===Ra?Ra=[e]:Ra.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Da(t)):(n.next=s.next,s.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fa=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Eo)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Oa(e,n)}return null===(s=r.interleaved)?(t.next=t,Da(r)):(t.next=s.next,s.next=t),r.interleaved=t,Oa(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ft(e,n)}}function qa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;Fa=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=s.baseState;for(l=0,d=c=o=null,i=a;;){var m=i.lane,x=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,p=i;switch(m=t,x=n,p.tag){case 1:if("function"===typeof(h=p.payload)){u=h.call(x,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=p.payload)?h.call(x,u,m):h)||void 0===m)break e;u=I({},u,m);break e;case 2:Fa=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[i]:m.push(i))}else x={eventTime:x,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=x,o=u):d=d.next=x,l|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Lo|=l,e.lanes=l,e.memoizedState=u}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ha={},$a=_s(Ha),Wa=_s(Ha),Qa=_s(Ha);function Ka(e){if(e===Ha)throw Error(a(174));return e}function Ga(e,t){switch(Ss(Qa,t),Ss(Wa,e),Ss($a,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks($a),Ss($a,t)}function Ja(){ks($a),ks(Wa),ks(Qa)}function Ya(e){Ka(Qa.current);var t=Ka($a.current),n=oe(t,e.type);t!==n&&(Ss(Wa,e),Ss($a,n))}function Xa(e){Wa.current===e&&(ks($a),ks(Wa))}var Za=_s(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=y.ReactCurrentDispatcher,sl=y.ReactCurrentBatchConfig,al=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function xl(){throw Error(a(321))}function hl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function pl(e,t,n,r,s,l){if(al=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Xl:Zl,e=n(r,s),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(a(301));l+=1,ol=il=null,t.updateQueue=null,rl.current=ei,e=n(r,s)}while(dl)}if(rl.current=Yl,t=null!==il&&null!==il.next,al=0,ol=il=ll=null,cl=!1,t)throw Error(a(300));return e}function bl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function fl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(a(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function vl(e,t){return"function"===typeof t?t(e):t}function yl(e){var t=fl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=il,s=r.baseQueue,l=n.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(null!==s){l=s.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((al&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,ll.lanes|=u,Lo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,ir(r,t.memoizedState)||(fi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Lo|=l,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=fl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);ir(l,t.memoizedState)||(fi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Nl(){}function wl(e,t){var n=ll,r=fl(),s=t(),l=!ir(r.memoizedState,s);if(l&&(r.memoizedState=s,fi=!0),r=r.queue,Fl(Sl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Tl(9,kl.bind(null,n,r,s,t),void 0,null),null===Po)throw Error(a(349));0!==(30&al)||_l(n,t,s)}return s}function _l(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function kl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&El(e)}function Sl(e,t,n){return n((function(){Cl(t)&&El(e)}))}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function El(e){var t=Oa(e,1);null!==t&&nc(t,e,1,-1)}function Pl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,ll,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rl(){return fl().memoizedState}function Dl(e,t,n,r){var s=gl();ll.flags|=e,s.memoizedState=Tl(1|t,n,void 0,void 0===r?null:r)}function Al(e,t,n,r){var s=fl();r=void 0===r?null:r;var a=void 0;if(null!==il){var l=il.memoizedState;if(a=l.destroy,null!==r&&hl(r,l.deps))return void(s.memoizedState=Tl(t,n,a,r))}ll.flags|=e,s.memoizedState=Tl(1|t,n,a,r)}function Ol(e,t){return Dl(8390656,8,e,t)}function Fl(e,t){return Al(2048,8,e,t)}function Ll(e,t){return Al(4,2,e,t)}function Il(e,t){return Al(4,4,e,t)}function Ml(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Al(4,4,Ml.bind(null,t,e),n)}function Ul(){}function ql(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bl(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vl(e,t,n){return 0===(21&al)?(e.baseState&&(e.baseState=!1,fi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),ll.lanes|=n,Lo|=n,e.baseState=!0),t)}function Hl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sl.transition;sl.transition={};try{e(!1),t()}finally{vt=n,sl.transition=r}}function $l(){return fl().memoizedState}function Wl(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Gl(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Jl(n,t,r)}}function Ql(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Gl(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(s.hasEagerState=!0,s.eagerState=i,ir(i,l)){var o=t.interleaved;return null===o?(s.next=s,Da(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Aa(e,t,s,r))&&(nc(n,e,r,s=ec()),Jl(n,t,r))}}function Kl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Gl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ft(e,n)}}var Yl={readContext:Ta,useCallback:xl,useContext:xl,useEffect:xl,useImperativeHandle:xl,useInsertionEffect:xl,useLayoutEffect:xl,useMemo:xl,useReducer:xl,useRef:xl,useState:xl,useDebugValue:xl,useDeferredValue:xl,useTransition:xl,useMutableSource:xl,useSyncExternalStore:xl,useId:xl,unstable_isNewReconciler:!1},Xl={readContext:Ta,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ol,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Dl(4194308,4,Ml.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wl.bind(null,ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Pl,useDebugValue:Ul,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Hl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ll,s=gl();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Po)throw Error(a(349));0!==(30&al)||_l(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Ol(Sl.bind(null,r,l,e),[e]),r.flags|=2048,Tl(9,kl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=gl(),t=Po.identifierPrefix;if(sa){var n=Ys;t=":"+t+"R"+(n=(Js&~(1<<32-lt(Js)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Ta,useCallback:ql,useContext:Ta,useEffect:Fl,useImperativeHandle:zl,useInsertionEffect:Ll,useLayoutEffect:Il,useMemo:Bl,useReducer:yl,useRef:Rl,useState:function(){return yl(vl)},useDebugValue:Ul,useDeferredValue:function(e){return Vl(fl(),il.memoizedState,e)},useTransition:function(){return[yl(vl)[0],fl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:$l,unstable_isNewReconciler:!1},ei={readContext:Ta,useCallback:ql,useContext:Ta,useEffect:Fl,useImperativeHandle:zl,useInsertionEffect:Ll,useLayoutEffect:Il,useMemo:Bl,useReducer:jl,useRef:Rl,useState:function(){return jl(vl)},useDebugValue:Ul,useDeferredValue:function(e){var t=fl();return null===il?t.memoizedState=e:Vl(t,il.memoizedState,e)},useTransition:function(){return[jl(vl)[0],fl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:$l,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Ma(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,s))&&(nc(t,e,s,r),Ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Ma(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,s))&&(nc(t,e,s,r),Ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Ma(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=za(e,s,r))&&(nc(t,e,r,n),Ua(t,e,r))}};function si(e,t,n,r,s,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,a))}function ai(e,t,n){var r=!1,s=Cs,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=Ds(t)?Ts:Es.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):Cs),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=Ds(t)?Ts:Es.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ri.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,$o=r),di(0,t)},n}function xi(e,t,n){(n=Ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ui;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,za(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gi=y.ReactCurrentOwner,fi=!1;function vi(e,t,n,r){t.child=null===e?ja(t,null,n,r):ya(t,e.child,n,r)}function yi(e,t,n,r,s){n=n.render;var a=t.ref;return Pa(t,s),r=pl(e,t,n,r,a,s),n=bl(),null===e||fi?(sa&&n&&ea(t),t.flags|=1,vi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vi(e,t,s))}function ji(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ni(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(l,r)&&e.ref===t.ref)return Vi(e,t,s)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(fi=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Vi(e,t,s);0!==(131072&e.flags)&&(fi=!0)}}return ki(e,t,n,r,s)}function wi(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Ao,Do),Do|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Ao,Do),Do|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ss(Ao,Do),Do|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ss(Ao,Do),Do|=r;return vi(e,t,s,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,s){var a=Ds(n)?Ts:Es.current;return a=Rs(t,a),Pa(t,s),n=pl(e,t,n,r,a,s),r=bl(),null===e||fi?(sa&&r&&ea(t),t.flags|=1,vi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vi(e,t,s))}function Si(e,t,n,r,s){if(Ds(n)){var a=!0;Ls(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Bi(e,t),ai(t,n,r),ii(t,n,r,s),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Rs(t,c=Ds(n)?Ts:Es.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&li(t,l,r,c),Fa=!1;var m=t.memoizedState;l.state=m,Ba(t,r,l,s),o=t.memoizedState,i!==r||m!==o||Ps.current||Fa?("function"===typeof d&&(ni(t,n,d,r),o=t.memoizedState),(i=Fa||si(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ia(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ta(o):o=Rs(t,o=Ds(n)?Ts:Es.current);var x=n.getDerivedStateFromProps;(d="function"===typeof x||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,r,o),Fa=!1,m=t.memoizedState,l.state=m,Ba(t,r,l,s);var h=t.memoizedState;i!==u||m!==h||Ps.current||Fa?("function"===typeof x&&(ni(t,n,x,r),h=t.memoizedState),(c=Fa||si(t,n,c,r,m,h,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,h,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,h,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,a,s)}function Ci(e,t,n,r,s,a){_i(e,t);var l=0!==(128&t.flags);if(!r&&!l)return s&&Is(t,n,!1),Vi(e,t,a);r=t.stateNode,gi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,i,a)):vi(e,t,i,a),t.memoizedState=r.state,s&&Is(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Os(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Os(0,t.context,!1),Ga(e,t.containerInfo)}function Pi(e,t,n,r,s){return xa(),ha(s),t.flags|=256,vi(e,t,n,r),t.child}var Ti,Ri,Di,Ai,Oi={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,n){var r,s=t.pendingProps,l=Za.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ss(Za,1&l),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Lc(o,s,0,null),e=Fc(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fi(n),t.memoizedState=Oi,e):Ii(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,s,l,i){if(n)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,r=ci(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(l=Fc(l,s,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&ya(t,e.child,null,i),t.child.memoizedState=Fi(i),t.memoizedState=Oi,l);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,Mi(e,t,i,r=ci(l=Error(a(419)),r,void 0))}if(o=0!==(i&e.childLanes),fi||o){if(null!==(r=Po)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==l.retryLane&&(l.retryLane=s,Oa(e,s),nc(r,e,s,-1))}return pc(),Mi(e,t,i,r=ci(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Qs[Ks++]=Js,Qs[Ks++]=Ys,Qs[Ks++]=Gs,Js=e.id,Ys=e.overflow,Gs=t),t=Ii(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,l,n);if(i){i=s.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ac(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Ac(r,i):(i=Fc(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Fi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Oi,s}return e=(i=e.child).sibling,s=Ac(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ii(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,n,r){return null!==r&&ha(r),ya(t,e.child,null,n),(e=Ii(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Ui(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function qi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,n,t);else if(19===e.tag)zi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ui(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ui(t,!0,n,null,a);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $i(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wi(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(t),null;case 1:case 17:return Ds(t.type)&&As(),$i(t),null;case 3:return r=t.stateNode,Ja(),ks(Ps),ks(Es),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(lc(aa),aa=null))),Ri(e,t),$i(t),null;case 5:Xa(t);var s=Ka(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Di(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return $i(t),null}if(e=Ka($a.current),ua(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ms]=t,r[xs]=l,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(s=0;s<Fr.length;s++)zr(Fr[s],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,l),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},zr("invalid",r);break;case"textarea":se(r,l),zr("invalid",r)}for(var o in fe(n,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zr("scroll",r)}switch(n){case"input":W(r),Z(r,l,!0);break;case"textarea":W(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ms]=t,e[xs]=r,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),s=r;break;case"iframe":case"object":case"embed":zr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fr.length;s++)zr(Fr[s],e);s=r;break;case"source":zr("error",e),s=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),s=r;break;case"details":zr("toggle",e),s=r;break;case"input":J(e,r),s=G(e,r),zr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=I({},r,{value:void 0}),zr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),zr("invalid",e)}for(l in fe(n,s),c=s)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?be(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&zr("scroll",e):null!=d&&v(e,l,d,o))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $i(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Qa.current),Ka($a.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[ms]=t,(l=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ms]=t,t.stateNode=r}return $i(t),null;case 13:if(ks(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),xa(),t.flags|=98560,l=!1;else if(l=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[ms]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$i(t),l=!1}else null!==aa&&(lc(aa),aa=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Oo&&(Oo=3):pc())),null!==t.updateQueue&&(t.flags|=4),$i(t),null);case 4:return Ja(),Ri(e,t),null===e&&Br(t.stateNode.containerInfo),$i(t),null;case 10:return Ca(t.type._context),$i(t),null;case 19:if(ks(Za),null===(l=t.memoizedState))return $i(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Hi(l,!1);else{if(0!==Oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Hi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss(Za,1&Za.current|2),t.child}e=e.sibling}null!==l.tail&&Ye()>Bo&&(t.flags|=128,r=!0,Hi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=el(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!sa)return $i(t),null}else 2*Ye()-l.renderingStartTime>Bo&&1073741824!==n&&(t.flags|=128,r=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=Za.current,Ss(Za,r?1&n|2:1&n),t):($i(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Do)&&($i(t),6&t.subtreeFlags&&(t.flags|=8192)):$i(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qi(e,t){switch(ta(t),t.tag){case 1:return Ds(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),ks(Ps),ks(Es),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(ks(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(Za),null;case 4:return Ja(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ti=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},Di=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ka($a.current);var a,l=null;switch(n){case"input":s=G(e,s),r=G(e,r),l=[];break;case"select":s=I({},s,{value:void 0}),r=I({},r,{value:void 0}),l=[];break;case"textarea":s=re(e,s),r=re(e,r),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in fe(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ai=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ki=!1,Gi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Yi=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zi(e,t,n){try{n()}catch(r){_c(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zi(t,n,a)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[xs],delete t[ps],delete t[bs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)xo(e,t,n),n=n.sibling}function xo(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Gi||Xi(n,t);case 6:var r=co,s=uo;co=null,mo(e,t,n),uo=s,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Bt(e)):os(co,n.stateNode));break;case 4:r=co,s=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=s;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,void 0!==l&&(0!==(2&a)||0!==(4&a))&&Zi(n,t,l),s=s.next}while(s!==r)}mo(e,t,n);break;case 1:if(!Gi&&(Xi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_c(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Gi=(r=Gi)||null!==n.memoizedState,mo(e,t,n),Gi=r):mo(e,t,n);break;default:mo(e,t,n)}}function ho(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function po(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));xo(l,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){_c(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bo(t,e),t=t.sibling}function bo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),go(e),4&r){try{to(3,e,e.return),no(3,e)}catch(b){_c(e,e.return,b)}try{to(5,e,e.return)}catch(b){_c(e,e.return,b)}}break;case 1:po(t,e),go(e),512&r&&null!==n&&Xi(n,n.return);break;case 5:if(po(t,e),go(e),512&r&&null!==n&&Xi(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(b){_c(e,e.return,b)}}if(4&r&&null!=(s=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Y(s,l),ve(o,i);var d=ve(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?be(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):v(s,u,m,d)}switch(o){case"input":X(s,l);break;case"textarea":ae(s,l);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(s,!!l.multiple,h,!1):x!==!!l.multiple&&(null!=l.defaultValue?ne(s,!!l.multiple,l.defaultValue,!0):ne(s,!!l.multiple,l.multiple?[]:"",!1))}s[xs]=l}catch(b){_c(e,e.return,b)}}break;case 6:if(po(t,e),go(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(b){_c(e,e.return,b)}}break;case 3:if(po(t,e),go(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(b){_c(e,e.return,b)}break;case 4:default:po(t,e),go(e);break;case 13:po(t,e),go(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(qo=Ye())),4&r&&ho(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Gi=(d=Gi)||u,po(t,e),Gi=d):po(t,e),go(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yi=e,u=e.child;null!==u;){for(m=Yi=u;null!==Yi;){switch(h=(x=Yi).child,x.tag){case 0:case 11:case 14:case 15:to(4,x,x.return);break;case 1:Xi(x,x.return);var p=x.stateNode;if("function"===typeof p.componentWillUnmount){r=x,n=x.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){_c(r,n,b)}}break;case 5:Xi(x,x.return);break;case 22:if(null!==x.memoizedState){jo(m);continue}}null!==h?(h.return=x,Yi=h):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(b){_c(e,e.return,b)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){_c(e,e.return,b)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),go(e),4&r&&ho(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(me(s,""),r.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=r.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(a(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fo(e,t,n){Yi=e,vo(e,t,n)}function vo(e,t,n){for(var r=0!==(1&e.mode);null!==Yi;){var s=Yi,a=s.child;if(22===s.tag&&r){var l=null!==s.memoizedState||Ki;if(!l){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Gi;i=Ki;var c=Gi;if(Ki=l,(Gi=o)&&!c)for(Yi=s;null!==Yi;)o=(l=Yi).child,22===l.tag&&null!==l.memoizedState?No(s):null!==o?(o.return=l,Yi=o):No(s);for(;null!==a;)Yi=a,vo(a,t,n),a=a.sibling;Yi=s,Ki=i,Gi=c}yo(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Yi=a):yo(e)}}function yo(e){for(;null!==Yi;){var t=Yi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gi)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Va(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(a(163))}Gi||512&t.flags&&ro(t)}catch(x){_c(t,t.return,x)}}if(t===e){Yi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yi=n;break}Yi=t.return}}function jo(e){for(;null!==Yi;){var t=Yi;if(t===e){Yi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yi=n;break}Yi=t.return}}function No(e){for(;null!==Yi;){var t=Yi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){_c(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(o){_c(t,s,o)}}var a=t.return;try{ro(t)}catch(o){_c(t,a,o)}break;case 5:var l=t.return;try{ro(t)}catch(o){_c(t,l,o)}}}catch(o){_c(t,t.return,o)}if(t===e){Yi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yi=i;break}Yi=t.return}}var wo,_o=Math.ceil,ko=y.ReactCurrentDispatcher,So=y.ReactCurrentOwner,Co=y.ReactCurrentBatchConfig,Eo=0,Po=null,To=null,Ro=0,Do=0,Ao=_s(0),Oo=0,Fo=null,Lo=0,Io=0,Mo=0,zo=null,Uo=null,qo=0,Bo=1/0,Vo=null,Ho=!1,$o=null,Wo=null,Qo=!1,Ko=null,Go=0,Jo=0,Yo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Ye():-1!==Xo?Xo:Xo=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Ro?Ro&-Ro:null!==pa.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jo)throw Jo=0,Yo=null,Error(a(185));gt(e,n,r),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Io|=n),4===Oo&&ic(e,Ro)),rc(e,r),1===n&&0===Eo&&0===(1&t.mode)&&(Bo=Ye()+500,zs&&Bs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,o=s[l];-1===o?0!==(i&n)&&0===(i&r)||(s[l]=xt(i,t)):o<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=mt(e,e===Po?Ro:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zs=!0,qs(e)}(oc.bind(null,e)):qs(oc.bind(null,e)),ls((function(){0===(6&Eo)&&Bs()})),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(a(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=mt(e,e===Po?Ro:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=bc(e,r);else{t=r;var s=Eo;Eo|=2;var l=hc();for(Po===e&&Ro===t||(Vo=null,Bo=Ye()+500,mc(e,t));;)try{fc();break}catch(o){xc(e,o)}Sa(),ko.current=l,Eo=s,null!==To?t=0:(Po=null,Ro=0,t=Oo)}if(0!==t){if(2===t&&(0!==(s=ht(e))&&(r=s,t=ac(e,s))),1===t)throw n=Fo,mc(e,0),ic(e,r),rc(e,Ye()),n;if(6===t)ic(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ir(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=bc(e,r))&&(0!==(l=ht(e))&&(r=l,t=ac(e,l))),1===t))throw n=Fo,mc(e,0),ic(e,r),rc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Uo,Vo);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=qo+500-Ye())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(jc.bind(null,e,Uo,Vo),t);break}jc(e,Uo,Vo);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>s&&(s=i),r&=~l}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_o(r/1960))-r)){e.timeoutHandle=rs(jc.bind(null,e,Uo,Vo),r);break}jc(e,Uo,Vo);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Uo,Uo=n,null!==t&&lc(t)),e}function lc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Mo,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Eo))throw Error(a(327));Nc();var t=mt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fo,mc(e,0),ic(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Uo,Vo),rc(e,Ye()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Bo=Ye()+500,zs&&Bs())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var n=Co.transition,r=vt;try{if(Co.transition=null,vt=1,e)return e()}finally{vt=r,Co.transition=n,0===(6&(Eo=t))&&Bs()}}function uc(){Do=Ao.current,ks(Ao)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==To)for(n=To.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&As();break;case 3:Ja(),ks(Ps),ks(Es),nl();break;case 5:Xa(r);break;case 4:Ja();break;case 13:case 19:ks(Za);break;case 10:Ca(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,To=e=Ac(e.current,null),Ro=Do=t,Oo=0,Fo=null,Mo=Io=Lo=0,Uo=zo=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var l=a.next;a.next=s,r.next=l}n.pending=r}Ra=null}return e}function xc(e,t){for(;;){var n=To;try{if(Sa(),rl.current=Yl,cl){for(var r=ll.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}cl=!1}if(al=0,ol=il=ll=null,dl=!1,ul=0,So.current=null,null===n||null===n.return){Oo=1,Fo=t,To=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Ro,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=pi(i);if(null!==h){h.flags&=-257,bi(h,i,o,0,t),1&h.mode&&hi(l,d,t),c=d;var p=(t=h).updateQueue;if(null===p){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}if(0===(1&t)){hi(l,d,t),pc();break e}c=Error(a(426))}else if(sa&&1&o.mode){var g=pi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bi(g,i,o,0,t),ha(oi(c,o));break e}}l=c=oi(c,o),4!==Oo&&(Oo=2),null===zo?zo=[l]:zo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,qa(l,mi(0,c,t));break e;case 1:o=c;var f=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof f.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wo||!Wo.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,qa(l,xi(l,o,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,To===n&&null!==n&&(To=n=n.return);continue}break}}function hc(){var e=ko.current;return ko.current=Yl,null===e?Yl:e}function pc(){0!==Oo&&3!==Oo&&2!==Oo||(Oo=4),null===Po||0===(268435455&Lo)&&0===(268435455&Io)||ic(Po,Ro)}function bc(e,t){var n=Eo;Eo|=2;var r=hc();for(Po===e&&Ro===t||(Vo=null,mc(e,t));;)try{gc();break}catch(s){xc(e,s)}if(Sa(),Eo=n,ko.current=r,null!==To)throw Error(a(261));return Po=null,Ro=0,Oo}function gc(){for(;null!==To;)vc(To)}function fc(){for(;null!==To&&!Ge();)vc(To)}function vc(e){var t=wo(e.alternate,e,Do);e.memoizedProps=e.pendingProps,null===t?yc(e):To=t,So.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wi(n,t,Do)))return void(To=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(To=n);if(null===e)return Oo=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Oo&&(Oo=5)}function jc(e,t,n){var r=vt,s=Co.transition;try{Co.transition=null,vt=1,function(e,t,n,r){do{Nc()}while(null!==Ko);if(0!==(6&Eo))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,l),e===Po&&(To=Po=null,Ro=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qo||(Qo=!0,Pc(tt,(function(){return Nc(),null}))),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=vt;vt=1;var o=Eo;Eo|=4,So.current=null,function(e,t){if(es=Ht,xr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==n||0!==s&&3!==m.nodeType||(o=i+s),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===n&&++d===s&&(o=i),x===l&&++u===r&&(c=i),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Yi=t;null!==Yi;)if(e=(t=Yi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yi=e;else for(;null!==Yi;){t=Yi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var b=p.memoizedProps,g=p.memoizedState,f=t.stateNode,v=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:ti(t.type,b),g);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(j){_c(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yi=e;break}Yi=t.return}p=eo,eo=!1}(e,n),bo(n,e),hr(ts),Ht=!!es,ts=es=null,e.current=n,fo(n,e,s),Je(),Eo=o,vt=i,Co.transition=l}else e.current=n;if(Qo&&(Qo=!1,Ko=e,Go=s),l=e.pendingLanes,0===l&&(Wo=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,e=$o,$o=null,e;0!==(1&Go)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Yo?Jo++:(Jo=0,Yo=e):Jo=0,Bs()}(e,t,n,r)}finally{Co.transition=s,vt=r}return null}function Nc(){if(null!==Ko){var e=yt(Go),t=Co.transition,n=vt;try{if(Co.transition=null,vt=16>e?16:e,null===Ko)var r=!1;else{if(e=Ko,Ko=null,Go=0,0!==(6&Eo))throw Error(a(331));var s=Eo;for(Eo|=4,Yi=e.current;null!==Yi;){var l=Yi,i=l.child;if(0!==(16&Yi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yi=d;null!==Yi;){var u=Yi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Yi=m;else for(;null!==Yi;){var x=(u=Yi).sibling,h=u.return;if(so(u),u===d){Yi=null;break}if(null!==x){x.return=h,Yi=x;break}Yi=h}}}var p=l.alternate;if(null!==p){var b=p.child;if(null!==b){p.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(null!==b)}}Yi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Yi=i;else e:for(;null!==Yi;){if(0!==(2048&(l=Yi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var f=l.sibling;if(null!==f){f.return=l.return,Yi=f;break e}Yi=l.return}}var v=e.current;for(Yi=v;null!==Yi;){var y=(i=Yi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Yi=y;else e:for(i=v;null!==Yi;){if(0!==(2048&(o=Yi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){_c(o,o.return,N)}if(o===i){Yi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yi=j;break e}Yi=o.return}}if(Eo=s,Bs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{vt=n,Co.transition=t}}return!1}function wc(e,t,n){e=za(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wo||!Wo.has(r))){t=za(t,e=xi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(Ro&n)===n&&(4===Oo||3===Oo&&(130023424&Ro)===Ro&&500>Ye()-qo?mc(e,0):Mo|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Oa(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Pc(e,t){return Qe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Tc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,s,l){var i=2;if(r=e,"function"===typeof e)Dc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Fc(n.children,s,l,t);case _:i=8,s|=8;break;case k:return(e=Rc(12,n,t,2|s)).elementType=k,e.lanes=l,e;case P:return(e=Rc(13,n,t,s)).elementType=P,e.lanes=l,e;case T:return(e=Rc(19,n,t,s)).elementType=T,e.lanes=l,e;case A:return Lc(n,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case C:i=9;break e;case E:i=11;break e;case R:i=14;break e;case D:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(i,n,t,s)).elementType=e,t.type=r,t.lanes=l,t}function Fc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,a,l,i,o){return e=new zc(e,t,n,i,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function qc(e){if(!e)return Cs;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ds(n))return Fs(e,n,t)}return t}function Bc(e,t,n,r,s,a,l,i,o){return(e=Uc(n,r,!0,e,0,a,0,i,o)).context=qc(null),n=e.current,(a=Ma(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,za(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function Vc(e,t,n,r){var s=t.current,a=ec(),l=tc(s);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=za(s,t,l))&&(nc(e,s,l,a),Ua(e,s,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)fi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return fi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),xa();break;case 5:Ya(t);break;case 1:Ds(t.type)&&Ls(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(Na,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Li(e,t,n):(Ss(Za,1&Za.current),null!==(e=Vi(e,t,n))?e.sibling:null);Ss(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,n)}return Vi(e,t,n)}(e,t,n);fi=0!==(131072&e.flags)}else fi=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bi(e,t),e=t.pendingProps;var s=Rs(t,Es.current);Pa(t,n),s=pl(null,t,r,e,s,n);var l=bl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(r)?(l=!0,Ls(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,La(t),s.updater=ri,t.stateNode=s,s._reactInternals=t,ii(t,r,e,n),t=Ci(null,t,r,!0,l,n)):(t.tag=0,sa&&l&&ea(t),vi(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(r),e=ti(r,e),s){case 0:t=ki(null,t,r,e,n);break e;case 1:t=Si(null,t,r,e,n);break e;case 11:t=yi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,ti(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,ki(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 1:return r=t.type,s=t.pendingProps,Si(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 3:e:{if(Ei(t),null===e)throw Error(a(387));r=t.pendingProps,s=(l=t.memoizedState).element,Ia(e,t),Ba(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,r,n,s=oi(Error(a(423)),t));break e}if(r!==s){t=Pi(e,t,r,n,s=oi(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xa(),r===s){t=Vi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),r=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,ns(r,s)?i=null:null!==l&&ns(r,l)&&(t.flags|=32),_i(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Li(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ya(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,yi(e,t,r,s=t.elementType===r?s:ti(r,s),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,Ss(Na,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===s.children&&!Ps.current){t=Vi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Ma(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ea(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ea(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pa(t,n),r=r(s=Ta(s)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return s=ti(r=t.type,t.pendingProps),ji(e,t,r,s=ti(r.type,s),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ti(r,s),Bi(e,t),t.tag=1,Ds(r)?(e=!0,Ls(t)):e=!1,Pa(t,n),ai(t,r,s),ii(t,r,s,n),Ci(null,t,r,!0,e,n);case 19:return qi(e,t,n);case 22:return wi(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if("function"===typeof s){var i=s;s=function(){var e=Hc(l);i.call(e)}}Vc(t,l,e,s)}else l=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=l,e[hs]=l.current,Br(8===e.nodeType?e.parentNode:e),dc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var i=r;r=function(){var e=Hc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[hs]=o.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,o,n,r)})),o}(n,t,e,s,r);return Hc(l)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[hs]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&It(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(ft(t,1|n),rc(t,Ye()),0===(6&Eo)&&(Bo=Ye()+500,Bs()))}break;case 13:dc((function(){var t=Oa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},Nt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Oa(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},_t=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=js(r);if(!s)throw Error(a(90));Q(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[vs,ys,js,Se,Ce,cc]},td={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",s=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[hs]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,l="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,s,0,l,i),e[hs]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hs]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},654:(e,t,n)=>{var r=n(950),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,b={};function g(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}function f(){}function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=g.prototype;var y=v.prototype=new f;y.constructor=v,p(y,g.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,a={},l=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,s)&&!_.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===a[s]&&(a[s]=o[s]);return{$$typeof:n,type:e,key:l,ref:i,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===a?"."+E(o,0):a,j(l)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),P(l,t,s,"",(function(e){return e}))):null!=l&&(S(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+E(i=e[c],c);o+=P(i,t,s,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,s,d=a+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},A={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:w};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=l,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:a,ref:l,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},950:(e,t,n)=>{e.exports=n(49)},414:(e,t,n)=>{e.exports=n(654)},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,l=s>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>a(o,n))c<s&&0>a(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,x=3,h=!1,p=!1,b=!1,g="function"===typeof setTimeout?setTimeout:null,f="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(b=!1,y(e),!p)if(null!==r(c))p=!0,A(N);else{var t=r(d);null!==t&&O(j,t.startTime-e)}}function N(e,n){p=!1,b&&(b=!1,f(S),S=-1),h=!0;var a=x;try{for(y(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,x=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&s(c),y(n)}else s(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&O(j,u.startTime-n),o=!1}return o}finally{m=null,x=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,_=!1,k=null,S=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?w():(_=!1,k=null)}}else _=!1}if("function"===typeof v)w=function(){v(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=T,w=function(){D.postMessage(null)}}else w=function(){g(T,0)};function A(e){k=e,_||(_=!0,w())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,A(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(b?(f(S),S=-1):b=!0,O(j,a-l))):(e.sortIndex=i,n(c,e),p||h||(p=!0,A(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},340:(e,t,n)=>{e.exports=n(761)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>xe,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>be,navigator:()=>he,origin:()=>ge});var s=n(950),a=n(352);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:m}=Object.prototype,{getPrototypeOf:x}=Object,h=(p=Object.create(null),e=>{const t=m.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const b=e=>(e=e.toLowerCase(),t=>h(t)===e),g=e=>t=>typeof t===e,{isArray:f}=Array,v=g("undefined");const y=b("ArrayBuffer");const j=g("string"),N=g("function"),w=g("number"),_=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==h(e))return!1;const t=x(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S=b("Date"),C=b("File"),E=b("Blob"),P=b("FileList"),T=b("URLSearchParams"),[R,D,A,O]=["ReadableStream","Request","Response","Headers"].map(b);function F(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),f(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let l;for(n=0;n<a;n++)l=r[n],t.call(null,e[l],l,e)}}function L(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const I="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,M=e=>!v(e)&&e!==I;const z=(U="undefined"!==typeof Uint8Array&&x(Uint8Array),e=>U&&e instanceof U);var U;const q=b("HTMLFormElement"),B=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),V=b("RegExp"),H=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};F(n,((n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)})),Object.defineProperties(e,r)};const $=b("AsyncFunction"),W=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],I.addEventListener("message",(e=>{let{source:t,data:s}=e;t===I&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),I.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,N(I.postMessage)),Q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(I):"undefined"!==typeof process&&process.nextTick||W,K={isArray:f,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!v(e)&&null!==e.constructor&&!v(e.constructor)&&N(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||N(e.append)&&("formdata"===(t=h(e))||"object"===t&&N(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer),t},isString:j,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:k,isReadableStream:R,isRequest:D,isResponse:A,isHeaders:O,isUndefined:v,isDate:S,isFile:C,isBlob:E,isRegExp:V,isFunction:N,isStream:e=>_(e)&&N(e.pipe),isURLSearchParams:T,isTypedArray:z,isFileList:P,forEach:F,merge:function e(){const{caseless:t}=M(this)&&this||{},n={},r=(r,s)=>{const a=t&&L(n,s)||s;k(n[a])&&k(r)?n[a]=e(n[a],r):k(r)?n[a]=e({},r):f(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&F(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return F(t,((t,r)=>{n&&N(t)?e[r]=u(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,l;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)l=s[a],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&x(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:h,kindOfTest:b,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!w(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:q,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:H,freezeMethods:e=>{H(e,((t,n)=>{if(N(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];N(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:L,global:I,isContextDefined:M,isSpecCompliantForm:function(e){return!!(e&&N(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=f(e)?[]:{};return F(e,((e,t)=>{const a=n(e,r+1);!v(a)&&(s[t]=a)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:$,isThenable:e=>e&&(_(e)||N(e))&&N(e.then)&&N(e.catch),setImmediate:W,asap:Q};function G(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const J=G.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Y[e]={value:e}})),Object.defineProperties(G,Y),Object.defineProperty(J,"isAxiosError",{value:!0}),G.from=(e,t,n,r,s,a)=>{const l=Object.create(J);return K.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),G.call(l,e.message,t,n,r,s),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const X=G;function Z(e){return K.isPlainObject(e)||K.isArray(e)}function ee(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,n){return e?e.concat(t).map((function(e,t){return e=ee(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ne=K.toFlatObject(K,{},null,(function(e){return/^is[A-Z]/.test(e)}));const re=function(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!K.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,a=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(K.isDate(e))return e.toISOString();if(!i&&K.isBlob(e))throw new X("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(e)||K.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"===typeof e)if(K.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(K.isArray(e)&&function(e){return K.isArray(e)&&!e.some(Z)}(e)||(K.isFileList(e)||K.endsWith(n,"[]"))&&(i=K.toArray(e)))return n=ee(n),i.forEach((function(e,r){!K.isUndefined(e)&&null!==e&&t.append(!0===l?te([n],r,a):null===l?n:n+"[]",o(e))})),!1;return!!Z(e)||(t.append(te(s,n,a),o(e)),!1)}const d=[],u=Object.assign(ne,{defaultVisitor:c,convertValue:o,isVisitable:Z});if(!K.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!K.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),K.forEach(n,(function(n,a){!0===(!(K.isUndefined(n)||null===n)&&s.call(t,n,K.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])})),d.pop()}}(e),t};function se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ae(e,t){this._pairs=[],e&&re(e,this,t)}const le=ae.prototype;le.append=function(e,t){this._pairs.push([e,t])},le.toString=function(e){const t=e?function(t){return e.call(this,t,se)}:se;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=ae;function oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,t,n){if(!t)return e;const r=n&&n.encode||oe;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):K.isURLSearchParams(t)?t.toString():new ie(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},me={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},xe="undefined"!==typeof window&&"undefined"!==typeof document,he="object"===typeof navigator&&navigator||void 0,pe=xe&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ge=xe&&window.location.href||"http://localhost",fe=d(d({},r),me);const ve=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const l=Number.isFinite(+a),i=s>=e.length;if(a=!a&&K.isArray(r)?r.length:a,i)return K.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!l;r[a]&&K.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&K.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!l}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,((e,r)=>{t(function(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ye={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=K.isObject(e);s&&K.isHTMLForm(e)&&(e=new FormData(e));if(K.isFormData(e))return r?JSON.stringify(ve(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return re(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fe.isNode&&K.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=K.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return re(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ye.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw X.from(s,X.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],(e=>{ye.headers[e]={}}));const je=ye,Ne=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),we=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:K.isArray(e)?e.map(ke):String(e)}function Se(e,t,n,r,s){return K.isFunction(r)?r.call(this,t,n):(s&&(t=n),K.isString(t)?K.isString(r)?-1!==t.indexOf(r):K.isRegExp(r)?r.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=_e(t);if(!s)throw new Error("header name must be a non-empty string");const a=K.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=ke(e))}const a=(e,t)=>K.forEach(e,((e,n)=>s(e,n,t)));if(K.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(K.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Ne[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(K.isHeaders(e))for(const[l,i]of e.entries())s(i,l,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=_e(e)){const n=K.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(K.isFunction(t))return t.call(this,e,n);if(K.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=K.findKey(this,e);return!(!n||void 0===this[n]||t&&!Se(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=_e(e)){const s=K.findKey(n,e);!s||t&&!Se(0,n[s],s,t)||(delete n[s],r=!0)}}return K.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Se(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return K.forEach(this,((r,s)=>{const a=K.findKey(n,s);if(a)return t[a]=ke(r),void delete t[s];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();l!==s&&delete t[s],t[l]=ke(r),n[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return K.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&K.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return K.isArray(e)?e.forEach(r):r(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),K.freezeMethods(Ce);const Ee=Ce;function Pe(e,t){const n=this||je,r=t||n,s=Ee.from(r.headers);let a=r.data;return K.forEach(e,(function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function Te(e){return!(!e||!e.__CANCEL__)}function Re(e,t,n){X.call(this,null==e?"canceled":e,X.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(Re,X,{__CANCEL__:!0});const De=Re;function Ae(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Oe=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];s||(s=o),n[a]=i,r[a]=o;let d=l,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),o-s<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Fe=function(e,t){let n,r,s=0,a=1e3/t;const l=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=a?l(o,e):(n=o,r||(r=setTimeout((()=>{r=null,l(n)}),a-t)))},()=>n&&l(n)]},Le=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Oe(50,250);return Fe((n=>{const a=n.loaded,l=n.lengthComputable?n.total:void 0,i=a-r,o=s(i);r=a;e({loaded:a,total:l,progress:l?a/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&a<=l?(l-a)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),n)},Ie=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Me=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K.asap((()=>e(...n)))},ze=fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,Ue=fe.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const l=[e+"="+encodeURIComponent(t)];K.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),K.isString(r)&&l.push("path="+r),K.isString(s)&&l.push("domain="+s),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Be=e=>e instanceof Ee?d({},e):e;function Ve(e,t){t=t||{};const n={};function r(e,t,n,r){return K.isPlainObject(e)&&K.isPlainObject(t)?K.merge.call({caseless:r},e,t):K.isPlainObject(t)?K.merge({},t):K.isArray(t)?t.slice():t}function s(e,t,n,s){return K.isUndefined(t)?K.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!K.isUndefined(t))return r(void 0,t)}function l(e,t){return K.isUndefined(t)?K.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const o={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>s(Be(e),Be(t),0,!0)};return K.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=o[r]||s,l=a(e[r],t[r],r);K.isUndefined(l)&&a!==i||(n[r]=l)})),n}const He=e=>{const t=Ve({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Ee.from(i),t.url=ce(qe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),K.isFormData(r))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(s&&K.isFunction(s)&&(s=s(t)),s||!1!==s&&ze(t.url))){const e=a&&l&&Ue.read(l);e&&i.set(a,e)}return t},$e="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=He(e);let s=r.data;const a=Ee.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:x}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function b(){if(!p)return;const r=Ee.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Ae((function(e){t(e),h()}),(function(e){n(e),h()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(b)},p.onabort=function(){p&&(n(new X("Request aborted",X.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new X(t,s.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&K.forEach(a.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),K.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),x&&([o,d]=Le(x,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=Le(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{p&&(n(!t||t.type?new De(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===fe.protocols.indexOf(g)?n(new X("Unsupported protocol "+g+":",X.ERR_BAD_REQUEST,e)):p.send(s||null)}))},We=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof X?t:new De(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,s(new X("timeout ".concat(t," of ms exceeded"),X.ETIMEDOUT))}),t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=r;return i.unsubscribe=()=>K.asap(l),i}};function Qe(e,t){this.v=e,this.k=t}function Ke(e){return function(){return new Ge(e.apply(this,arguments))}}function Ge(e){var t,n;function r(t,n){try{var a=e[t](n),l=a.value,i=l instanceof Qe;Promise.resolve(i?l.v:l).then((function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}s(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(a,l){var i={key:e,arg:s,resolve:a,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Je(e){return new Qe(e,0)}function Ye(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Qe(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Xe(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ze(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ze(e)}Ge.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ge.prototype.next=function(e){return this._invoke("next",e)},Ge.prototype.throw=function(e){return this._invoke("throw",e)},Ge.prototype.return=function(e){return this._invoke("return",e)};const et=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},tt=function(){var e=Ke((function*(e,t){var n,r=!1,s=!1;try{for(var a,l=Xe(nt(e));r=!(a=yield Je(l.next())).done;r=!1){const e=a.value;yield*Ye(Xe(et(e,t)))}}catch(i){s=!0,n=i}finally{try{r&&null!=l.return&&(yield Je(l.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Ke((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ye(Xe(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Je(t.read());if(e)break;yield n}}finally{yield Je(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),rt=(e,t,n,r)=>{const s=tt(e,t);let a,l=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=l+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},st="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,at=st&&"function"===typeof ReadableStream,lt=st&&("function"===typeof TextEncoder?(it=new TextEncoder,e=>it.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var it;const ot=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(s){return!1}},ct=at&&ot((()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=at&&ot((()=>K.isReadableStream(new Response("").body))),ut={stream:dt&&(e=>e.body)};var mt;st&&(mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=K.isFunction(mt[e])?t=>t[e]():(t,n)=>{throw new X("Response type '".concat(e,"' is not supported"),X.ERR_NOT_SUPPORT,n)})})));const xt=async(e,t)=>{const n=K.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e)){const t=new Request(fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return K.isArrayBufferView(e)||K.isArrayBuffer(e)?e.byteLength:(K.isURLSearchParams(e)&&(e+=""),K.isString(e)?(await lt(e)).byteLength:void 0)})(t):n},ht={http:null,xhr:$e,fetch:st&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:x}=He(e);c=c?(c+"").toLowerCase():"text";let h,p=We([s,a&&a.toAbortSignal()],l);const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(o&&ct&&"get"!==n&&"head"!==n&&0!==(g=await xt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(K.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Ie(g,Le(Me(o)));r=rt(n.body,65536,e,t)}}K.isString(m)||(m=m?"include":"omit");const s="credentials"in Request.prototype;h=new Request(t,d(d({},x),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?m:void 0}));let a=await fetch(h);const l=dt&&("stream"===c||"response"===c);if(dt&&(i||l&&b)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=K.toFiniteNumber(a.headers.get("content-length")),[n,r]=i&&Ie(t,Le(Me(i),!0))||[];a=new Response(rt(a.body,65536,n,(()=>{r&&r(),b&&b()})),e)}c=c||"text";let f=await ut[K.findKey(ut,c)||"text"](a,e);return!l&&b&&b(),await new Promise(((t,n)=>{Ae(t,n,{data:f,headers:Ee.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})}))}catch(f){if(b&&b(),f&&"TypeError"===f.name&&/fetch/i.test(f.message))throw Object.assign(new X("Network Error",X.ERR_NETWORK,e,h),{cause:f.cause||f});throw X.from(f,f&&f.code,e,h)}})};K.forEach(ht,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const pt=e=>"- ".concat(e),bt=e=>K.isFunction(e)||null===e||!1===e,gt=e=>{e=K.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!bt(n)&&(r=ht[(t=String(n)).toLowerCase()],void 0===r))throw new X("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(pt).join("\n"):" "+pt(e[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De(null,e)}function vt(e){ft(e),e.headers=Ee.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return gt(e.adapter||je.adapter)(e).then((function(t){return ft(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=Ee.from(t.headers),t}),(function(t){return Te(t)||(ft(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=Ee.from(t.response.headers))),Promise.reject(t)}))}const yt="1.8.4",jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Nt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new X(r(s," has been removed"+(t?" in "+t:"")),X.ERR_DEPRECATED);return t&&!Nt[s]&&(Nt[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const wt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],l=t[a];if(l){const t=e[a],n=void 0===t||l(t,a,e);if(!0!==n)throw new X("option "+a+" must be "+n,X.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new X("Unknown option "+a,X.ERR_BAD_OPTION)}},validators:jt},_t=wt.validators;class kt{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ve(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&wt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(K.isFunction(r)?t.paramsSerializer={serialize:r}:wt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wt.assertOptions(t,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&K.merge(s.common,s[t.method]);s&&K.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Ee.concat(a,s);const l=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[vt.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(x){t.call(this,x);break}}try{c=vt.call(this,m)}catch(x){return Promise.reject(x)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ce(qe((e=Ve(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],(function(e){kt.prototype[e]=function(t,n){return this.request(Ve(n||{},{method:e,url:t,data:(n||{}).data}))}})),K.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Ve(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}kt.prototype[e]=t(),kt.prototype[e+"Form"]=t(!0)}));const St=kt;class Ct{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new De(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ct((function(t){e=t})),cancel:e}}}const Et=Ct;const Pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pt).forEach((e=>{let[t,n]=e;Pt[n]=t}));const Tt=Pt;const Rt=function e(t){const n=new St(t),r=u(St.prototype.request,n);return K.extend(r,St.prototype,n,{allOwnKeys:!0}),K.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ve(t,n))},r}(je);Rt.Axios=St,Rt.CanceledError=De,Rt.CancelToken=Et,Rt.isCancel=Te,Rt.VERSION=yt,Rt.toFormData=re,Rt.AxiosError=X,Rt.Cancel=Rt.CanceledError,Rt.all=function(e){return Promise.all(e)},Rt.spread=function(e){return function(t){return e.apply(null,t)}},Rt.isAxiosError=function(e){return K.isObject(e)&&!0===e.isAxiosError},Rt.mergeConfig=Ve,Rt.AxiosHeaders=Ee,Rt.formToJSON=e=>ve(K.isHTMLForm(e)?new FormData(e):e),Rt.getAdapter=gt,Rt.HttpStatusCode=Tt,Rt.default=Rt;const Dt=Rt,At=Dt.create({baseURL:"/api"});At.interceptors.response.use((e=>e),(e=>{var t,n;const r=null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:{message:e.message||"Network error"};return Promise.reject(d(d({},e),{},{payload:r}))}));const Ot=At;var Ft=n(414);const Lt=(0,s.createContext)(),It=()=>{const e=(0,s.useContext)(Lt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Mt=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)(localStorage.getItem("token"));(0,s.useEffect)((()=>{i&&!n?(Ot.defaults.headers.common.Authorization="Bearer ".concat(i),c()):i||l(!1)}),[i,n]);const c=async()=>{try{const e=await Ot.get("/auth/me");r(e.data)}catch(e){console.error("Token invalid, logging out:",e),d()}finally{l(!1)}},d=()=>{localStorage.removeItem("token"),o(null),r(null),delete Ot.defaults.headers.common.Authorization},u={user:n,login:async(e,t)=>{try{console.log("Making login request to: /auth/login"),console.log("Request payload:",{username:e,password:t});const n=await Ot.post("/auth/login",{username:e,password:t});console.log("Login response:",n.data);const{access_token:s,user:a}=n.data;return localStorage.setItem("token",s),Ot.defaults.headers.common.Authorization="Bearer ".concat(s),o(s),r(a),l(!1),console.log("Login successful, user set:",a),{success:!0}}catch(a){console.error("Login error details:",a);let e="Network Error";var n,s;if(a.response)e=(null===(n=a.response.data)||void 0===n?void 0:n.detail)||(null===(s=a.response.data)||void 0===s?void 0:s.message)||"Server Error (".concat(a.response.status,")");else e=a.request?"Network Error - Unable to reach server":a.message||"Login failed";return{success:!1,error:e}}},logout:d,hasPermission:e=>{var t;return!!n&&("admin"===n.role||((null===(t=n.permissions)||void 0===t?void 0:t.includes(e))||!1))},loading:a,isAuthenticated:!!n};return(0,Ft.jsx)(Lt.Provider,{value:u,children:t})},zt="/api",Ut=()=>{var e;const[t,n]=(0,s.useState)(""),[r,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),{login:m}=It();(0,s.useEffect)((()=>{(async()=>{try{const e=await Dt.get("".concat(zt,"/auth/synology-status"));u(e.data)}catch(l){console.error("Error checking Synology status:",l)}})()}),[]);return(0,Ft.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:[(0,Ft.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent opacity-20"}),(0,Ft.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-2xl",children:[(0,Ft.jsxs)("div",{className:"text-center mb-8",children:[(0,Ft.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Ft.jsx)("span",{className:"text-white font-bold text-2xl",children:"\ud83c\udfe5"})}),(0,Ft.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"ClinicHub"}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"FHIR-Compliant Practice Management"}),(0,Ft.jsx)("p",{className:"text-blue-300 text-xs mt-2 italic",children:"Guided by Solace. Powered by purpose."})]}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),i("");const n=await m(t,r);n.success||i(n.error),c(!1)},className:"space-y-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Username"}),(0,Ft.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"}),(0,Ft.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),l&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:(0,Ft.jsx)("p",{className:"text-red-200 text-sm",children:l})}),d&&(0,Ft.jsxs)("div",{className:"rounded-lg p-3 ".concat(d.synology_enabled?"bg-green-500/20 border border-green-500/50":"bg-blue-500/20 border border-blue-500/50"),children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(d.synology_enabled?"bg-green-400":"bg-blue-400")}),(0,Ft.jsx)("p",{className:"text-sm ".concat(d.synology_enabled?"text-green-200":"text-blue-200"),children:d.synology_enabled?"\ud83d\udd10 Synology SSO Enabled":"\ud83d\udd11 Local Authentication Mode"})]}),d.synology_enabled&&(0,Ft.jsxs)("p",{className:"text-xs text-green-300 mt-1",children:["Connected to: ",null===(e=d.synology_url)||void 0===e?void 0:e.replace(/^https?:\/\//,"")]})]}),(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Ft.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ft.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"})]}),(0,Ft.jsx)("div",{className:"mt-6 pt-6 border-t border-white/20",children:(0,Ft.jsx)("button",{onClick:async()=>{try{const e=await Dt.post("".concat(zt,"/auth/init-admin"));alert("Admin user created! Username: admin, Password: admin123\n".concat(e.data.warning))}catch(l){var e;400===(null===(e=l.response)||void 0===e?void 0:e.status)?alert("Admin user already exists"):alert("Error creating admin user")}},className:"w-full text-blue-300 hover:text-blue-200 text-sm transition duration-300",children:"First time setup? Initialize Admin User"})}),(0,Ft.jsx)("div",{className:"mt-8 text-center",children:(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:"\xa9 2024 ClinicHub. Secure Healthcare Management."})})]}),(0,Ft.jsxs)("div",{className:"mt-6 bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:[(0,Ft.jsx)("h3",{className:"text-white text-sm font-semibold mb-2",children:"Role-Based Access"}),(0,Ft.jsxs)("div",{className:"text-blue-200 text-xs space-y-1",children:[(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Admin:"})," Full system access"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Doctor:"})," Patients, EHR, Forms, Reports"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Nurse:"})," Patients, EHR, Forms, Inventory"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Manager:"})," Employees, Finance, Reports"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Receptionist:"})," Patients, Invoices, Basic EHR"]})]})]})]})]})},qt=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(0);(0,s.useEffect)((()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)}),[]);const i=async()=>{try{const e=(await Ot.get("/notifications?limit=10")).data||[];t(e),l(e.filter((e=>!e.acknowledged)).length)}catch(e){console.error("Error fetching notifications:",e)}};return(0,Ft.jsxs)("div",{className:"fixed top-4 right-4 z-50",children:[(0,Ft.jsxs)("button",{onClick:()=>r(!n),className:"relative bg-white/10 backdrop-blur-md border border-white/20 p-3 rounded-lg hover:bg-white/20 transition-colors",children:[(0,Ft.jsx)("span",{className:"text-white text-xl",children:"\ud83d\udd14"}),a>0&&(0,Ft.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a>9?"9+":a})]}),n&&(0,Ft.jsxs)("div",{className:"absolute top-12 right-0 w-80 bg-gray-800 border border-gray-600 rounded-lg shadow-xl max-h-96 overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-4 border-b border-gray-600",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h3",{className:"text-white font-medium",children:"Notifications"}),(0,Ft.jsx)("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-white",children:"\u2715"})]})}),(0,Ft.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===e.length?(0,Ft.jsx)("div",{className:"p-4 text-center text-gray-400",children:"No notifications"}):e.map((n=>{return(0,Ft.jsx)("div",{className:"p-4 border-b border-gray-600 last:border-b-0 cursor-pointer hover:bg-gray-700 ".concat(n.acknowledged?"":"bg-blue-500/10"),onClick:()=>(async n=>{try{await Ot.post("/notifications/".concat(n,"/ack")),t(e.map((e=>e.id===n?d(d({},e),{},{acknowledged:!0}):e))),l((e=>Math.max(0,e-1)))}catch(r){console.error("Error marking notification as read:",r)}})(n.id),children:(0,Ft.jsxs)("div",{className:"text-sm p-2 rounded border ".concat((r=n.severity,{info:"bg-blue-500/20 text-blue-300 border-blue-500/50",success:"bg-green-500/20 text-green-300 border-green-500/50",warning:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",error:"bg-red-500/20 text-red-300 border-red-500/50"}[r]||"bg-gray-500/20 text-gray-300 border-gray-500/50")),children:[(0,Ft.jsx)("div",{className:"font-medium",children:n.title}),(0,Ft.jsx)("div",{className:"mt-1",children:n.message}),(0,Ft.jsx)("div",{className:"text-xs mt-2 opacity-75",children:new Date(n.created_at).toLocaleString()})]})},n.id);var r}))})]})]})},Bt=e=>{let{onSelect:t,selectedCodes:n=[],placeholder:r="Search ICD-10 codes..."}=e;const[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),x=e=>{l(e),(async e=>{if(!e||e.length<2)o([]);else try{d(!0);const t=await Ot.get("/icd10/search?query=".concat(encodeURIComponent(e),"&limit=10"));o(t.data||[]),m(!0)}catch(t){console.error("Error searching ICD-10 codes:",t),o([])}finally{d(!1)}})(e)};return(0,Ft.jsxs)("div",{className:"relative",children:[n.length>0&&(0,Ft.jsxs)("div",{className:"mb-3",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Selected ICD-10 Codes:"}),(0,Ft.jsx)("div",{className:"space-y-1",children:n.map((e=>(0,Ft.jsxs)("div",{className:"flex items-center justify-between bg-blue-600/20 text-blue-300 px-3 py-2 rounded text-sm",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.code})," - ",e.description,(0,Ft.jsxs)("div",{className:"text-xs text-blue-400",children:["Category: ",e.category]})]}),(0,Ft.jsx)("button",{onClick:()=>(e=>{if(t){const r=n.filter((t=>t.code!==e.code));t(null,r)}})(e),className:"text-blue-400 hover:text-white ml-2",type:"button",children:"\u2715"})]},e.code)))})]}),(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"text",value:a,onChange:e=>x(e.target.value),onFocus:()=>m(i.length>0),onBlur:()=>setTimeout((()=>m(!1)),200),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white pr-10",placeholder:r}),c&&(0,Ft.jsx)("div",{className:"absolute right-3 top-3",children:(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})})]}),u&&i.length>0&&(0,Ft.jsx)("div",{className:"absolute z-50 w-full bg-gray-800 border border-gray-600 rounded-lg mt-1 max-h-60 overflow-y-auto",children:i.map((e=>(0,Ft.jsxs)("button",{type:"button",onClick:()=>(e=>{t&&t(e),l(""),o([]),m(!1)})(e),className:"w-full text-left px-4 py-3 hover:bg-gray-700 border-b border-gray-600 last:border-b-0",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.code}),(0,Ft.jsx)("div",{className:"text-gray-300 text-sm mt-1",children:e.description}),(0,Ft.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:["Category: ",e.category,e.search_terms&&(0,Ft.jsxs)("span",{className:"ml-2",children:["Tags: ",Array.isArray(e.search_terms)?e.search_terms.join(", "):e.search_terms]})]})]},e.id)))})]})},Vt=()=>{var e,t,n,r,a,l;const{user:i}=It(),[o,c]=(0,s.useState)("patients"),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(null),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[w,_]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[C,E]=(0,s.useState)([]),[P,T]=(0,s.useState)([]),[R,D]=(0,s.useState)([]),[A,O]=(0,s.useState)([]),[F,L]=(0,s.useState)(!1),[I,M]=(0,s.useState)(!1),[z,U]=(0,s.useState)(!1),[q,B]=(0,s.useState)(!1),[V,H]=(0,s.useState)(!1),[$,W]=(0,s.useState)(!1),[Q,K]=(0,s.useState)(null),[G,J]=(0,s.useState)(null),[Y,X]=(0,s.useState)(null),[Z,ee]=(0,s.useState)({subjective:"",objective:"",assessment:"",plan:"",provider:(null===i||void 0===i?void 0:i.username)||"Dr. Provider",diagnosis_codes:[]}),[te,ne]=(0,s.useState)({height:"",weight:"",systolic_bp:"",diastolic_bp:"",heart_rate:"",temperature:"",respiratory_rate:"",oxygen_saturation:"",pain_scale:"",notes:""}),[re,se]=(0,s.useState)({first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:{line:[""],city:"",state:"",postal_code:"",country:"USA"}}),[ae,le]=(0,s.useState)({allergy_name:"",reaction:"",severity:"mild",notes:""});(0,s.useEffect)((()=>{ie()}),[]),(0,s.useEffect)((()=>{x&&oe(x.id)}),[x]);const ie=async()=>{try{b(!0);const e=await Ot.get("/patients");m(e.data||[])}catch(v){console.error("Error fetching patients:",v),y("Failed to fetch patients")}finally{b(!1)}},oe=async e=>{try{const[t,n,r,s,a,l]=await Promise.all([Ot.get("/soap-notes/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/vital-signs/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/allergies/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/medications/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/prescriptions/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/medical-history/patient/".concat(e)).catch((()=>({data:[]})))]);_(t.data||[]),S(n.data||[]),E(r.data||[]),T(s.data||[]),D(a.data||[]),O(l.data||[])}catch(v){console.error("Error fetching patient data:",v)}};return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83c\udfe5 Electronic Health Records"}),(0,Ft.jsx)("button",{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Add New Patient"})]}),v&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:v}),j&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:j}),(0,Ft.jsxs)("div",{className:"flex space-x-6",children:[(0,Ft.jsxs)("div",{className:"w-1/3 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Patient List"}),p?(0,Ft.jsxs)("div",{className:"text-center py-4",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-2",children:"Loading patients..."})]}):(0,Ft.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[u.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("button",{onClick:()=>h(e),className:"w-full text-left p-3 rounded-lg border transition-colors ".concat((null===x||void 0===x?void 0:x.id)===e.id?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-blue-200 hover:bg-white/20"),children:[(0,Ft.jsxs)("div",{className:"font-medium",children:[(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0])||e.first_name," ",(null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family)||e.last_name]}),(0,Ft.jsxs)("div",{className:"text-sm opacity-75",children:["ID: ",e.id," \u2022 DOB: ",e.birthDate||e.date_of_birth]})]},e.id)})),0===u.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No patients found. Add your first patient to get started."})]})]}),(0,Ft.jsx)("div",{className:"flex-1 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:x?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{className:"mb-6 pb-4 border-b border-white/20",children:[(0,Ft.jsxs)("h3",{className:"text-xl font-bold text-white",children:[(null===(e=x.name)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.given)||void 0===n?void 0:n[0])||x.first_name," ",(null===(r=x.name)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.family)||x.last_name]}),(0,Ft.jsxs)("div",{className:"text-blue-200 space-y-1",children:[(0,Ft.jsxs)("p",{children:["Patient ID: ",x.id]}),(0,Ft.jsxs)("p",{children:["Date of Birth: ",x.birthDate||x.date_of_birth]}),(0,Ft.jsxs)("p",{children:["Gender: ",x.gender]}),(null===(l=x.telecom)||void 0===l?void 0:l.find((e=>"phone"===e.system)))&&(0,Ft.jsxs)("p",{children:["Phone: ",x.telecom.find((e=>"phone"===e.system)).value]})]})]}),(0,Ft.jsx)("div",{className:"mb-4",children:(0,Ft.jsx)("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1",children:[{key:"soap",label:"SOAP Notes",count:w.length},{key:"vitals",label:"Vital Signs",count:k.length},{key:"allergies",label:"Allergies",count:C.length},{key:"medications",label:"Medications",count:P.length},{key:"prescriptions",label:"Prescriptions",count:R.length},{key:"history",label:"Medical History",count:A.length}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>c(e.key),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(o===e.key?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:[e.label," (",e.count,")"]},e.key)))})}),(0,Ft.jsxs)("div",{className:"space-y-4",children:["soap"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white",children:"SOAP Notes"}),(0,Ft.jsx)("button",{onClick:()=>L(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Add SOAP Note"})]}),0===w.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:'No SOAP notes recorded. Click "Add SOAP Note" to create the first entry.'}):(0,Ft.jsx)("div",{className:"space-y-3",children:w.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ft.jsxs)("span",{className:"text-sm text-blue-300",children:[new Date(e.encounter_date).toLocaleString()," - Dr. ",e.provider]}),(0,Ft.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:e.status||"Completed"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("strong",{className:"text-white",children:"Subjective:"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-1",children:e.subjective})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("strong",{className:"text-white",children:"Objective:"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-1",children:e.objective})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("strong",{className:"text-white",children:"Assessment:"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-1",children:e.assessment})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("strong",{className:"text-white",children:"Plan:"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-1",children:e.plan})]})]})]},e.id)))})]}),"vitals"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white",children:"Vital Signs"}),(0,Ft.jsx)("button",{onClick:()=>M(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Record Vitals"})]}),0===k.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:'No vital signs recorded. Click "Record Vitals" to add the first entry.'}):(0,Ft.jsx)("div",{className:"space-y-3",children:k.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ft.jsx)("span",{className:"text-sm text-blue-300",children:new Date(e.recorded_date).toLocaleString()}),e.weight&&e.height&&(0,Ft.jsxs)("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:["BMI: ",(e.weight/(e.height/100)**2).toFixed(1)]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.height&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Height:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.height," cm"]})]}),e.weight&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Weight:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.weight," kg"]})]}),e.systolic_bp&&e.diastolic_bp&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Blood Pressure:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.systolic_bp,"/",e.diastolic_bp]})]}),e.heart_rate&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Heart Rate:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.heart_rate," bpm"]})]}),e.temperature&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Temperature:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.temperature,"\xb0C"]})]}),e.respiratory_rate&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Respiratory Rate:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.respiratory_rate," /min"]})]}),e.oxygen_saturation&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"O2 Saturation:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.oxygen_saturation,"%"]})]}),e.pain_scale&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Pain Scale:"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.pain_scale,"/10"]})]})]}),e.notes&&(0,Ft.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/20",children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"Notes:"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-1",children:e.notes})]})]},e.id)))})]}),"allergies"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white",children:"Allergies"}),(0,Ft.jsx)("button",{onClick:()=>U(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Add Allergy"})]}),0===C.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:'No known allergies recorded. Click "Add Allergy" to record allergies.'}):(0,Ft.jsx)("div",{className:"space-y-3",children:C.map((e=>{var t;return(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h5",{className:"text-white font-medium text-lg",children:e.allergy_name}),(0,Ft.jsx)("p",{className:"text-blue-200",children:e.reaction}),e.notes&&(0,Ft.jsx)("p",{className:"text-blue-300 text-sm mt-1",children:e.notes})]}),(0,Ft.jsx)("div",{className:"text-right",children:(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("severe"===e.severity?"bg-red-600 text-white":"moderate"===e.severity?"bg-yellow-600 text-white":"bg-green-600 text-white"),children:(null===(t=e.severity)||void 0===t?void 0:t.toUpperCase())||"MILD"})})]})},e.id)}))})]}),"medications"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white",children:"Current Medications"})}),0===P.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No current medications recorded."}):(0,Ft.jsx)("div",{className:"space-y-3",children:P.map((e=>{var t;return(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h5",{className:"text-white font-medium",children:e.medication_name}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:[e.dosage," - ",e.frequency]}),e.notes&&(0,Ft.jsx)("p",{className:"text-blue-300 text-sm",children:e.notes})]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("active"===e.status?"bg-green-600 text-white":"bg-gray-600 text-white"),children:(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())||"ACTIVE"})]})},e.id)}))})]}),"prescriptions"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Prescription History"}),0===R.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No prescriptions on record."}):(0,Ft.jsx)("div",{className:"space-y-3",children:R.map((e=>{var t;return(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h5",{className:"text-white font-medium",children:e.medication_name}),(0,Ft.jsx)("p",{className:"text-blue-200",children:e.dosage_instructions}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-sm",children:["Prescribed: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("filled"===e.status?"bg-green-600 text-white":"pending"===e.status?"bg-yellow-600 text-white":"bg-gray-600 text-white"),children:(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())||"PENDING"})]})},e.id)}))})]}),"history"===o&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Medical History"}),0===A.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No medical history recorded."}):(0,Ft.jsx)("div",{className:"space-y-3",children:A.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h5",{className:"text-white font-medium",children:e.condition}),(0,Ft.jsx)("p",{className:"text-blue-200",children:e.notes}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-sm",children:["Recorded: ",new Date(e.created_at).toLocaleDateString()]})]},e.id)))})]})]})]}):(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfe5"}),(0,Ft.jsx)("h3",{className:"text-xl text-white mb-2",children:"Select a Patient"}),(0,Ft.jsx)("p",{className:"text-blue-200",children:"Choose a patient from the list to view their electronic health record"})]})})]}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add New Patient"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{b(!0),y("");const e=await Ot.post("/patients",re);m((t=>[...t,e.data])),f(!1),N("Patient added successfully"),se({first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:{line:[""],city:"",state:"",postal_code:"",country:"USA"}}),setTimeout((()=>N("")),3e3)}catch(v){console.error("Error adding patient:",v),y("Failed to add patient")}finally{b(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Ft.jsx)("input",{type:"text",value:re.first_name,onChange:e=>se((t=>d(d({},t),{},{first_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Ft.jsx)("input",{type:"text",value:re.last_name,onChange:e=>se((t=>d(d({},t),{},{last_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Ft.jsx)("input",{type:"date",value:re.date_of_birth,onChange:e=>se((t=>d(d({},t),{},{date_of_birth:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,Ft.jsxs)("select",{value:re.gender,onChange:e=>se((t=>d(d({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Gender"}),(0,Ft.jsx)("option",{value:"male",children:"Male"}),(0,Ft.jsx)("option",{value:"female",children:"Female"}),(0,Ft.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ft.jsx)("input",{type:"tel",value:re.phone,onChange:e=>se((t=>d(d({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ft.jsx)("input",{type:"email",value:re.email,onChange:e=>se((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Adding...":"Add Patient"})]})]})]})}),F&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add SOAP Note"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=d(d({},Z),{},{patient_id:x.id,encounter_date:(new Date).toISOString()}),t=await Ot.post("/soap-notes",e);_((e=>[...e,t.data])),L(!1),ee({subjective:"",objective:"",assessment:"",plan:"",provider:(null===i||void 0===i?void 0:i.username)||"Dr. Provider",diagnosis_codes:[]}),N("SOAP note added successfully"),setTimeout((()=>N("")),3e3)}catch(v){console.error("Error adding SOAP note:",v),y("Failed to add SOAP note")}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjective"}),(0,Ft.jsx)("textarea",{value:Z.subjective,onChange:e=>ee((t=>d(d({},t),{},{subjective:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Patient's description of symptoms, concerns, and history...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Objective"}),(0,Ft.jsx)("textarea",{value:Z.objective,onChange:e=>ee((t=>d(d({},t),{},{objective:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Clinical observations, examination findings, vital signs...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment"}),(0,Ft.jsx)("textarea",{value:Z.assessment,onChange:e=>ee((t=>d(d({},t),{},{assessment:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Clinical impression, diagnosis, differential diagnosis...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ICD-10 Diagnosis Codes"}),(0,Ft.jsx)(Bt,{selectedCodes:Z.diagnosis_codes,onSelect:(e,t)=>{if(e){Z.diagnosis_codes.some((t=>t.code===e.code))||ee((t=>d(d({},t),{},{diagnosis_codes:[...t.diagnosis_codes,e]})))}else t&&ee((e=>d(d({},e),{},{diagnosis_codes:t})))},placeholder:"Search ICD-10 diagnosis codes..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),(0,Ft.jsx)("textarea",{value:Z.plan,onChange:e=>ee((t=>d(d({},t),{},{plan:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Treatment plan, medications, follow-up instructions...",required:!0})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save SOAP Note"})]})]})]})}),I&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Record Vital Signs"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=d(d({},te),{},{patient_id:x.id,recorded_date:(new Date).toISOString()}),t=await Ot.post("/vital-signs",e);S((e=>[...e,t.data])),M(!1),ne({height:"",weight:"",systolic_bp:"",diastolic_bp:"",heart_rate:"",temperature:"",respiratory_rate:"",oxygen_saturation:"",pain_scale:"",notes:""}),N("Vital signs added successfully"),setTimeout((()=>N("")),3e3)}catch(v){console.error("Error adding vital signs:",v),y("Failed to add vital signs")}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),(0,Ft.jsx)("input",{type:"number",value:te.height,onChange:e=>ne((t=>d(d({},t),{},{height:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),(0,Ft.jsx)("input",{type:"number",value:te.weight,onChange:e=>ne((t=>d(d({},t),{},{weight:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Systolic BP"}),(0,Ft.jsx)("input",{type:"number",value:te.systolic_bp,onChange:e=>ne((t=>d(d({},t),{},{systolic_bp:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diastolic BP"}),(0,Ft.jsx)("input",{type:"number",value:te.diastolic_bp,onChange:e=>ne((t=>d(d({},t),{},{diastolic_bp:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate"}),(0,Ft.jsx)("input",{type:"number",value:te.heart_rate,onChange:e=>ne((t=>d(d({},t),{},{heart_rate:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature (\xb0C)"}),(0,Ft.jsx)("input",{type:"number",step:"0.1",value:te.temperature,onChange:e=>ne((t=>d(d({},t),{},{temperature:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Respiratory Rate"}),(0,Ft.jsx)("input",{type:"number",value:te.respiratory_rate,onChange:e=>ne((t=>d(d({},t),{},{respiratory_rate:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"O2 Saturation (%)"}),(0,Ft.jsx)("input",{type:"number",value:te.oxygen_saturation,onChange:e=>ne((t=>d(d({},t),{},{oxygen_saturation:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pain Scale (0-10)"}),(0,Ft.jsx)("input",{type:"number",min:"0",max:"10",value:te.pain_scale,onChange:e=>ne((t=>d(d({},t),{},{pain_scale:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clinical Notes"}),(0,Ft.jsx)("textarea",{value:te.notes,onChange:e=>ne((t=>d(d({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Additional clinical observations..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Record Vitals"})]})]})]})}),z&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add Allergy"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=d(d({},ae),{},{patient_id:x.id}),t=await Ot.post("/allergies",e);E((e=>[...e,t.data])),U(!1),le({allergy_name:"",reaction:"",severity:"mild",notes:""}),N("Allergy added successfully"),setTimeout((()=>N("")),3e3)}catch(v){console.error("Error adding allergy:",v),y("Failed to add allergy")}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergy/Substance"}),(0,Ft.jsx)("input",{type:"text",value:ae.allergy_name,onChange:e=>le((t=>d(d({},t),{},{allergy_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Penicillin, Peanuts, Latex...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reaction"}),(0,Ft.jsx)("input",{type:"text",value:ae.reaction,onChange:e=>le((t=>d(d({},t),{},{reaction:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Rash, Swelling, Anaphylaxis...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),(0,Ft.jsxs)("select",{value:ae.severity,onChange:e=>le((t=>d(d({},t),{},{severity:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"mild",children:"Mild"}),(0,Ft.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Ft.jsx)("option",{value:"severe",children:"Severe"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),(0,Ft.jsx)("textarea",{value:ae.notes,onChange:e=>le((t=>d(d({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Additional details about the allergy..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>U(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Allergy"})]})]})]})})]})},Ht=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),[p,b]=(0,s.useState)("dashboard"),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),[j,N]=(0,s.useState)({name:"",description:"",category:"",measure_type:"outcome",calculation_method:"",target_value:"",target_operator:"gte",is_active:!0});(0,s.useEffect)((()=>{w(),_()}),[]);const w=async()=>{try{c(!0);const e=await Ot.get("/quality-measures");a(e.data)}catch(u){console.error("Failed to fetch quality measures:",u),m("Failed to fetch quality measures")}finally{c(!1)}},_=async()=>{try{const e=await Ot.get("/quality-measures/report");i(e.data)}catch(u){console.error("Failed to fetch measure results:",u)}},k=async()=>{try{c(!0),m("");await Ot.post("/quality-measures/calculate",{});h("Quality measures calculated successfully!"),_()}catch(u){var e,t;console.error("Failed to calculate quality measures:",u),m((null===(e=u.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to calculate quality measures")}finally{c(!1)}},S=async e=>{e.preventDefault();try{c(!0),m("");const e=v?"/quality-measures/".concat(v.id):"/quality-measures",t=v?await Ot.put(e,j):await Ot.post(e,j);v?(a(r.map((e=>e.id===v.id?t.data:e))),h("Quality measure updated successfully!")):(a([...r,t.data]),h("Quality measure created successfully!")),f(!1),y(null),C()}catch(u){var t,n;console.error("Failed to save quality measure:",u),m((null===(t=u.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save quality measure")}finally{c(!1)}},C=()=>{N({name:"",description:"",category:"",measure_type:"outcome",calculation_method:"",target_value:"",target_operator:"gte",is_active:!0})};return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc8 Quality Measures"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc8 New Measure"}),(0,Ft.jsx)("button",{onClick:()=>w(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),x&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",x]})}),u&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ","object"===typeof u?JSON.stringify(u):u]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"measures",name:"All Measures",icon:"\ud83d\udcc8"},{id:"reports",name:"Reports",icon:"\ud83d\udccb"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>b(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(p===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===p&&(()=>{const e=r.reduce(((e,t)=>(e[t.measure_type]=(e[t.measure_type]||0)+1,e)),{}),t=l.slice(0,5);return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Measures"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc8"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:e.outcome||0}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Outcome Measures"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83c\udfaf"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:e.process||0}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Process Measures"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u2699\ufe0f"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:e.structure||0}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Structure Measures"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83c\udfd7\ufe0f"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udcca Recent Quality Measure Results"}),(0,Ft.jsx)("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Calculate Measures"})]}),0===t.length?(0,Ft.jsx)("p",{className:"text-gray-400",children:'No quality measure results available. Click "Calculate Measures" to generate results.'}):(0,Ft.jsx)("div",{className:"space-y-3",children:t.map((e=>{return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.measure_name}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((t=e.status,{met:"bg-green-100 text-green-800",not_met:"bg-red-100 text-red-800",improving:"bg-yellow-100 text-yellow-800",declining:"bg-orange-100 text-orange-800",stable:"bg-blue-100 text-blue-800"}[t]||"bg-gray-100 text-gray-800")),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Current Value: ",e.current_value," | Target: ",e.target_value]}),e.improvement_percentage&&(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Improvement: ",e.improvement_percentage,"%"]})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.calculation_date).toLocaleDateString()})]})},e.id);var t}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc8 Active Quality Measures"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.filter((e=>e.is_active)).slice(0,6).map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Type: ",e.measure_type]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]}),e.target_value&&(0,Ft.jsxs)("div",{className:"text-xs text-blue-400 mt-1",children:["Target: ",e.target_operator," ",e.target_value]})]},e.id)))})]})]})})(),"measures"===p&&(0,Ft.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:e.measure_type}),e.category&&(0,Ft.jsx)("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs",children:e.category})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Target: ",e.target_operator," ",e.target_value]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{y(e),N({name:e.name,description:e.description,category:e.category,measure_type:e.measure_type,calculation_method:e.calculation_method,target_value:e.target_value,target_operator:e.target_operator,is_active:e.is_active}),f(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,Ft.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-400":"bg-gray-400")})]})]})},e.id)))}),"reports"===p&&(0,Ft.jsx)("div",{className:"text-white",children:"Quality measure reports view coming soon..."}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:v?"\u270f\ufe0f Edit Quality Measure":"\ud83d\udcc8 New Quality Measure"}),(0,Ft.jsx)("button",{onClick:()=>{f(!1),y(null),C()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Measure Name"}),(0,Ft.jsx)("input",{type:"text",value:j.name,onChange:e=>N(d(d({},j),{},{name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ft.jsx)("textarea",{value:j.description,onChange:e=>N(d(d({},j),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Describe what this measure evaluates"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Measure Type"}),(0,Ft.jsxs)("select",{value:j.measure_type,onChange:e=>N(d(d({},j),{},{measure_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"outcome",children:"Outcome"}),(0,Ft.jsx)("option",{value:"process",children:"Process"}),(0,Ft.jsx)("option",{value:"structure",children:"Structure"}),(0,Ft.jsx)("option",{value:"patient_experience",children:"Patient Experience"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ft.jsx)("input",{type:"text",value:j.category,onChange:e=>N(d(d({},j),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., Diabetes Care, Preventive Care"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calculation Method"}),(0,Ft.jsx)("textarea",{value:j.calculation_method,onChange:e=>N(d(d({},j),{},{calculation_method:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Describe how this measure is calculated"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Operator"}),(0,Ft.jsxs)("select",{value:j.target_operator,onChange:e=>N(d(d({},j),{},{target_operator:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"gte",children:"Greater than or equal (\u2265)"}),(0,Ft.jsx)("option",{value:"lte",children:"Less than or equal (\u2264)"}),(0,Ft.jsx)("option",{value:"eq",children:"Equal to (=)"}),(0,Ft.jsx)("option",{value:"gt",children:"Greater than (>)"}),(0,Ft.jsx)("option",{value:"lt",children:"Less than (<)"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Value"}),(0,Ft.jsx)("input",{type:"text",value:j.target_value,onChange:e=>N(d(d({},j),{},{target_value:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"e.g., 85%, 120, 7.0"})]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"is_active_measure",checked:j.is_active,onChange:e=>N(d(d({},j),{},{is_active:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"is_active_measure",className:"text-gray-300",children:"Active Measure"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Saving...":v?"Update Measure":"Create Measure"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{f(!1),y(null),C()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),o&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},$t=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),[g,f]=(0,s.useState)("calendar"),[v,y]=(0,s.useState)((new Date).toISOString().split("T")[0]),[j,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(null),[k,S]=(0,s.useState)({patient_id:"",provider_id:"",appointment_date:"",appointment_time:"",duration:30,appointment_type:"office_visit",status:"scheduled",notes:"",chief_complaint:""}),[C,E]=(0,s.useState)({todayAppointments:0,weekAppointments:0,availableSlots:0,cancelledToday:0});(0,s.useEffect)((()=>{P()}),[v]);const P=async()=>{m(!0);try{const[e,t,n]=await Promise.all([Ot.get("/appointments").catch((()=>({data:[]}))),Ot.get("/providers").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]),c(n.data||[]);const r=(new Date).toISOString().split("T")[0],s=(e.data||[]).filter((e=>{var t;return null===(t=e.appointment_date)||void 0===t?void 0:t.startsWith(r)}));E({todayAppointments:s.length,weekAppointments:(e.data||[]).length,availableSlots:32-s.length,cancelledToday:s.filter((e=>"cancelled"===e.status)).length})}catch(x){console.error("Error fetching schedule data:",x),h("Failed to fetch schedule data")}finally{m(!1)}},T=async e=>{e.preventDefault();try{m(!0),h("");const e=d(d({},k),{},{scheduled_by:null===n||void 0===n?void 0:n.id,created_at:(new Date).toISOString(),appointment_datetime:"".concat(k.appointment_date,"T").concat(k.appointment_time)}),t=w?await Ot.put("/appointments/".concat(w.id),e):await Ot.post("/appointments",e);w?(a(r.map((e=>e.id===w.id?t.data:e))),b("Appointment updated successfully!")):(a([...r,t.data]),b("Appointment scheduled successfully!")),N(!1),_(null),D(),P()}catch(x){var t,s;console.error("Error saving appointment:",x),h((null===(t=x.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to save appointment")}finally{m(!1)}},R=async(e,t)=>{try{await Ot.put("/appointments/".concat(e,"/status"),{status:t}),a(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),b("Appointment ".concat(t," successfully!")),P()}catch(x){console.error("Error updating appointment:",x),h("Failed to update appointment status")}},D=()=>{S({patient_id:"",provider_id:"",appointment_date:"",appointment_time:"",duration:30,appointment_type:"office_visit",status:"scheduled",notes:"",chief_complaint:""})},A=e=>{var t,n,r;_(e),S({patient_id:e.patient_id,provider_id:e.provider_id,appointment_date:(null===(t=e.appointment_date)||void 0===t?void 0:t.split("T")[0])||"",appointment_time:e.appointment_time||(null===(n=e.appointment_datetime)||void 0===n||null===(r=n.split("T")[1])||void 0===r?void 0:r.substring(0,5))||"",duration:e.duration||30,appointment_type:e.appointment_type||"office_visit",status:e.status||"scheduled",notes:e.notes||"",chief_complaint:e.chief_complaint||""}),N(!0)},O=e=>({scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"),F=()=>{const e=[];for(let t=8;t<17;t++)for(let n=0;n<60;n+=30){const r="".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"));e.push(r)}return e};return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc5 Appointment Scheduling"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc5 New Appointment"}),(0,Ft.jsx)("button",{onClick:P,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),p&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",p]})}),x&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",x]})}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:C.todayAppointments}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Today's Appointments"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc5"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:C.weekAppointments}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Appointments"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:C.availableSlots}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Available Slots Today"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f0"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:C.cancelledToday}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Cancelled Today"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u274c"})]})})]}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"calendar",name:"Calendar View",icon:"\ud83d\udcc5"},{id:"appointments",name:"All Appointments",icon:"\ud83d\udccb"},{id:"providers",name:"Provider Schedules",icon:"\ud83d\udc68\u200d\u2695\ufe0f"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>f(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(g===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"calendar"===g&&(()=>{const e=r.filter((e=>{var t;return null===(t=e.appointment_date)||void 0===t?void 0:t.startsWith(v)})).sort(((e,t)=>(e.appointment_time||"").localeCompare(t.appointment_time||"")));return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Date"}),(0,Ft.jsx)("input",{type:"date",value:v,onChange:e=>y(e.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["\ud83d\udcc5 Schedule for ",new Date(v).toLocaleDateString()]}),0===e.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,Ft.jsx)("p",{children:"No appointments scheduled for this date"}),(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Schedule Appointment"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n,r,s,a,i,c,d,u;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-blue-400 font-bold",children:e.appointment_time||"Time TBD"}),(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[null===(t=o.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",(null===(a=o.find((t=>t.id===e.patient_id)))||void 0===a||null===(i=a.name)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.family)||"Unknown Patient"]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(O(e.status)),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Provider: ",null===(d=l.find((t=>t.id===e.provider_id)))||void 0===d?void 0:d.first_name," ",null===(u=l.find((t=>t.id===e.provider_id)))||void 0===u?void 0:u.last_name]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Type: ",e.appointment_type," \u2022 Duration: ",e.duration||30," min"]}),e.chief_complaint&&(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Chief Complaint: ",e.chief_complaint]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>A(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),"scheduled"===e.status&&(0,Ft.jsx)("button",{onClick:()=>R(e.id,"confirmed"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Confirm"}),"cancelled"!==e.status&&(0,Ft.jsx)("button",{onClick:()=>R(e.id,"cancelled"),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Cancel"})]})]})},e.id)}))})]})]})})(),"appointments"===g&&(0,Ft.jsx)("div",{className:"space-y-4",children:r.map((e=>{var t,n,r,s,a,i,c,d,u;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-blue-400 font-bold",children:[new Date(e.appointment_date).toLocaleDateString()," ",e.appointment_time]}),(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[null===(t=o.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",null===(a=o.find((t=>t.id===e.patient_id)))||void 0===a||null===(i=a.name)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.family]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(O(e.status)),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Provider: ",null===(d=l.find((t=>t.id===e.provider_id)))||void 0===d?void 0:d.first_name," ",null===(u=l.find((t=>t.id===e.provider_id)))||void 0===u?void 0:u.last_name]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>A(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"})})]})},e.id)}))}),"providers"===g&&(0,Ft.jsx)("div",{className:"text-white",children:"Provider schedule management coming soon..."}),j&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:w?"\u270f\ufe0f Edit Appointment":"\ud83d\udcc5 Schedule New Appointment"}),(0,Ft.jsx)("button",{onClick:()=>{N(!1),_(null),D()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:k.patient_id,onChange:e=>S(d(d({},k),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),o.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider"}),(0,Ft.jsxs)("select",{value:k.provider_id,onChange:e=>S(d(d({},k),{},{provider_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Provider"}),l.map((e=>(0,Ft.jsxs)("option",{value:e.id,children:["Dr. ",e.first_name," ",e.last_name]},e.id)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),(0,Ft.jsx)("input",{type:"date",value:k.appointment_date,onChange:e=>S(d(d({},k),{},{appointment_date:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),(0,Ft.jsxs)("select",{value:k.appointment_time,onChange:e=>S(d(d({},k),{},{appointment_time:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Time"}),F().map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (minutes)"}),(0,Ft.jsxs)("select",{value:k.duration,onChange:e=>S(d(d({},k),{},{duration:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:15,children:"15 min"}),(0,Ft.jsx)("option",{value:30,children:"30 min"}),(0,Ft.jsx)("option",{value:45,children:"45 min"}),(0,Ft.jsx)("option",{value:60,children:"60 min"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type"}),(0,Ft.jsxs)("select",{value:k.appointment_type,onChange:e=>S(d(d({},k),{},{appointment_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"office_visit",children:"Office Visit"}),(0,Ft.jsx)("option",{value:"follow_up",children:"Follow Up"}),(0,Ft.jsx)("option",{value:"consultation",children:"Consultation"}),(0,Ft.jsx)("option",{value:"physical_exam",children:"Physical Exam"}),(0,Ft.jsx)("option",{value:"procedure",children:"Procedure"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,Ft.jsxs)("select",{value:k.status,onChange:e=>S(d(d({},k),{},{status:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Ft.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Ft.jsx)("option",{value:"completed",children:"Completed"}),(0,Ft.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Ft.jsx)("option",{value:"no_show",children:"No Show"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chief Complaint"}),(0,Ft.jsx)("input",{type:"text",value:k.chief_complaint,onChange:e=>S(d(d({},k),{},{chief_complaint:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Primary reason for visit..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ft.jsx)("textarea",{value:k.notes,onChange:e=>S(d(d({},k),{},{notes:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Additional notes or instructions..."})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:u?"Saving...":w?"Update Appointment":"Schedule Appointment"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{N(!1),_(null),D()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),u&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Wt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[v,y]=(0,s.useState)("dashboard"),[j,N]=(0,s.useState)(null),[w,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)("disconnected"),[P,T]=(0,s.useState)([]),[R,D]=(0,s.useState)(""),[A,O]=(0,s.useState)({patient_id:"",provider_id:"",session_type:"video_consultation",title:"",description:"",scheduled_start:(new Date).toISOString().slice(0,16),duration_minutes:30,recording_enabled:!1,access_code:""}),[F,L]=(0,s.useState)({todaySessions:0,activeSessions:0,waitingPatients:0,completedSessions:0});(0,s.useEffect)((()=>{I()}),[]);const I=async()=>{try{h(!0);const[e,t,n,r]=await Promise.all([Ot.get("/telehealth/sessions").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]}))),Ot.get("/providers").catch((()=>({data:[]}))),Ot.get("/telehealth/waiting-room").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]),c(n.data||[]),m(r.data||[]);const s=(new Date).toISOString().split("T")[0],l=(e.data||[]).filter((e=>{var t;return null===(t=e.scheduled_start)||void 0===t?void 0:t.startsWith(s)}));L({todaySessions:l.length,activeSessions:(e.data||[]).filter((e=>"active"===e.status)).length,waitingPatients:(r.data||[]).length,completedSessions:(e.data||[]).filter((e=>"completed"===e.status)).length})}catch(p){console.error("Error fetching telehealth data:",p),b("Failed to fetch telehealth data")}finally{h(!1)}},M=async e=>{e.preventDefault();try{h(!0),b("");const e=d(d({},A),{},{created_by:null===n||void 0===n?void 0:n.id,access_code:Math.random().toString(36).substring(2,8).toUpperCase(),session_url:"telehealth/session/".concat(Date.now())}),t=await Ot.post("/telehealth/sessions",e);a([...r,t.data]),f("Telehealth session created successfully!"),S(!1),U()}catch(p){var t,s;console.error("Error creating session:",p),b((null===(t=p.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to create session")}finally{h(!1)}},z=async e=>{try{h(!0);const t=await Ot.post("/telehealth/sessions/".concat(e,"/join"),{participant_id:null===n||void 0===n?void 0:n.id,participant_type:"provider"});N(t.data),_(!0),E("connecting"),setTimeout((()=>{E("connected"),f("Successfully joined telehealth session!")}),2e3)}catch(p){console.error("Error joining session:",p),b("Failed to join session")}finally{h(!1)}},U=()=>{O({patient_id:"",provider_id:"",session_type:"video_consultation",title:"",description:"",scheduled_start:(new Date).toISOString().slice(0,16),duration_minutes:30,recording_enabled:!1,access_code:""})},q=e=>({scheduled:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",waiting:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcbb Telehealth"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcf9 New Session"}),(0,Ft.jsx)("button",{onClick:I,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),g&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",g]})}),p&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",p]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"sessions",name:"All Sessions",icon:"\ud83d\udcf9"},{id:"waiting-room",name:"Waiting Room",icon:"\u23f3"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>y(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(v===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===v&&(()=>{const e=r.filter((e=>new Date(e.scheduled_start)>new Date&&"cancelled"!==e.status)).slice(0,5);return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.todaySessions}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Today's Sessions"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcf9"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.activeSessions}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Active Sessions"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udfe2"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.waitingPatients}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Waiting Patients"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.completedSessions}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Completed"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u2705"})]})})]}),u.length>0&&(0,Ft.jsxs)("div",{className:"bg-orange-500/20 border border-orange-400/50 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\u23f3 Patients in Waiting Room"}),(0,Ft.jsx)("div",{className:"space-y-3",children:u.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsxs)("div",{className:"text-sm text-orange-300",children:["Waiting for: ",e.session_type," \u2022 Time: ",new Date(e.join_time).toLocaleTimeString()]})]}),(0,Ft.jsx)("button",{onClick:()=>z(e.session_id),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Join Session"})]})},e.id)))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc5 Upcoming Telehealth Sessions"}),0===e.length?(0,Ft.jsx)("p",{className:"text-gray-400",children:"No upcoming telehealth sessions scheduled."}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n,r,s,a,i,o;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(q(e.status)),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[new Date(e.scheduled_start).toLocaleString()," \u2022 Duration: ",e.duration_minutes," min"]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Patient: ",null===(t=l.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",null===(a=l.find((t=>t.id===e.patient_id)))||void 0===a||null===(i=a.name)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.family]}),e.access_code&&(0,Ft.jsxs)("div",{className:"text-sm text-blue-400 mt-1",children:["Access Code: ",e.access_code]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>z(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Join"})})]})},e.id)}))})]})]})})(),"sessions"===v&&(0,Ft.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(q(e.status)),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[new Date(e.scheduled_start).toLocaleString()," \u2022 ",e.session_type]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:"scheduled"===e.status&&(0,Ft.jsx)("button",{onClick:()=>z(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Join"})})]})},e.id)))}),"waiting-room"===v&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u23f3 Waiting Room Management"}),(0,Ft.jsx)("p",{className:"text-gray-300",children:"Advanced waiting room controls coming soon..."})]}),k&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udcf9 New Telehealth Session"}),(0,Ft.jsx)("button",{onClick:()=>{S(!1),U()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Title"}),(0,Ft.jsx)("input",{type:"text",value:A.title,onChange:e=>O(d(d({},A),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Follow-up appointment with Dr. Smith",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:A.patient_id,onChange:e=>O(d(d({},A),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),l.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider"}),(0,Ft.jsxs)("select",{value:A.provider_id,onChange:e=>O(d(d({},A),{},{provider_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Provider"}),o.map((e=>(0,Ft.jsxs)("option",{value:e.id,children:["Dr. ",e.first_name," ",e.last_name]},e.id)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Type"}),(0,Ft.jsxs)("select",{value:A.session_type,onChange:e=>O(d(d({},A),{},{session_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"video_consultation",children:"Video Consultation"}),(0,Ft.jsx)("option",{value:"audio_only",children:"Audio Only"}),(0,Ft.jsx)("option",{value:"follow_up",children:"Follow-up Call"}),(0,Ft.jsx)("option",{value:"therapy_session",children:"Therapy Session"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (minutes)"}),(0,Ft.jsxs)("select",{value:A.duration_minutes,onChange:e=>O(d(d({},A),{},{duration_minutes:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:15,children:"15 minutes"}),(0,Ft.jsx)("option",{value:30,children:"30 minutes"}),(0,Ft.jsx)("option",{value:45,children:"45 minutes"}),(0,Ft.jsx)("option",{value:60,children:"60 minutes"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Scheduled Start Time"}),(0,Ft.jsx)("input",{type:"datetime-local",value:A.scheduled_start,onChange:e=>O(d(d({},A),{},{scheduled_start:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ft.jsx)("textarea",{value:A.description,onChange:e=>O(d(d({},A),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Purpose of the telehealth session..."})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"recording_enabled",checked:A.recording_enabled,onChange:e=>O(d(d({},A),{},{recording_enabled:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"recording_enabled",className:"text-gray-300",children:"Enable Recording (with patient consent)"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:x?"Creating...":"Create Session"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{S(!1),U()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),(()=>{var e,t,n,r,s,a,i;return w&&j?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black z-50",children:(0,Ft.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Ft.jsx)("div",{className:"flex-1 relative bg-gray-900 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center text-white",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf9"}),(0,Ft.jsx)("h3",{className:"text-xl mb-2",children:"Telehealth Session Active"}),(0,Ft.jsxs)("p",{className:"text-gray-400",children:["Session with ",null===(e=l.find((e=>e.id===j.patient_id)))||void 0===e||null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=l.find((e=>e.id===j.patient_id)))||void 0===s||null===(a=s.name)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.family]}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Status: ",C," \u2022 Access Code: ",j.access_code]})]})}),(0,Ft.jsxs)("div",{className:"bg-gray-800 p-4 flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsxs)("span",{className:"text-white",children:["Session: ",j.title]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("connected"===C?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:C})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{await Ot.put("/telehealth/sessions/".concat(e,"/end")),_(!1),N(null),E("disconnected"),f("Session ended successfully"),I()}catch(p){console.error("Error ending session:",p),b("Failed to end session")}})(j.id),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",children:"End Session"}),(0,Ft.jsx)("button",{onClick:()=>{_(!1),N(null)},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Exit"})]})]})]})}):null})(),x&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Qt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)({appointments:[],labResults:[],prescriptions:[],messages:[],forms:[]}),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[x,h]=(0,s.useState)("dashboard"),[p,b]=(0,s.useState)(""),[g,f]=(0,s.useState)([]),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)({activePortals:0,unreadMessages:0,pendingForms:0,upcomingAppointments:0});(0,s.useEffect)((()=>{w(),p&&_(p)}),[p]);const w=async()=>{try{const e=await Ot.get("/patients");f(e.data||[])}catch(o){console.error("Error fetching patients:",o)}},_=async e=>{i(!0);try{const[t,n,r,s]=await Promise.all([Ot.get("/appointments/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/lab-results/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/prescriptions/patient/".concat(e)).catch((()=>({data:[]}))),Ot.get("/patient-portal/".concat(e,"/messages")).catch((()=>({data:[]})))]);a({appointments:t.data||[],labResults:n.data||[],prescriptions:r.data||[],messages:s.data||[],forms:[]}),N({activePortals:1,unreadMessages:(s.data||[]).filter((e=>!e.read)).length,pendingForms:0,upcomingAppointments:(t.data||[]).filter((e=>new Date(e.appointment_date)>=new Date&&"cancelled"!==e.status)).length})}catch(o){console.error("Error fetching portal data:",o),c("Failed to fetch portal data")}finally{i(!1)}},k=async e=>{e.preventDefault(),v.trim()&&p&&(await(async(e,t)=>{try{const r=await Ot.post("/patient-portal/".concat(e,"/messages"),{message:t,sender:"staff",sender_id:null===n||void 0===n?void 0:n.id,message_type:"general"});a((e=>d(d({},e),{},{messages:[...e.messages,r.data]}))),m("Message sent successfully!")}catch(o){console.error("Error sending message:",o),c("Failed to send message")}})(p,v.trim()),y(""))};return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83c\udf10 Patient Portal"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>_(p),disabled:!p,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),u&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",u]})}),o&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",o]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83c\udfe0"},{id:"messages",name:"Messages",icon:"\ud83d\udce7"},{id:"appointments",name:"Appointments",icon:"\ud83d\udcc5"},{id:"records",name:"Records",icon:"\ud83d\udccb"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>h(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(x===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===x&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Patient for Portal View"}),(0,Ft.jsxs)("select",{value:p,onChange:e=>b(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"",children:"Select a patient..."}),g.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family," - ",e.id]},e.id)}))]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:j.activePortals}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Active Portals"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83c\udf10"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:j.unreadMessages}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Unread Messages"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udce7"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:j.upcomingAppointments}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Upcoming Appointments"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc5"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:j.pendingForms}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Forms"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})})]}),p?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udeaa Portal Access Management"}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{i(!0);const t=await Ot.post("/patient-portal/access",{patient_id:e,access_level:"full",expires_at:new Date(Date.now()+7776e6).toISOString()});m("Portal access created for patient. Access token: ".concat(t.data.access_token))}catch(o){console.error("Error creating portal access:",o),c("Failed to create portal access")}finally{i(!1)}})(p),disabled:l,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Create Portal Access"}),(0,Ft.jsx)("button",{onClick:()=>h("messages"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Send Message"})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udc64 Patient Portal Summary"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"\ud83d\udcc5 Appointments"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:r.appointments.length}),(0,Ft.jsx)("p",{className:"text-sm text-gray-300",children:"Total appointments"})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"\ud83e\uddea Lab Results"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-green-400",children:r.labResults.length}),(0,Ft.jsx)("p",{className:"text-sm text-gray-300",children:"Available results"})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"\ud83d\udc8a Prescriptions"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-purple-400",children:r.prescriptions.length}),(0,Ft.jsx)("p",{className:"text-sm text-gray-300",children:"Active prescriptions"})]})]})]})]}):(0,Ft.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf10"}),(0,Ft.jsx)("p",{className:"text-xl mb-2",children:"Patient Portal Management"}),(0,Ft.jsx)("p",{children:"Select a patient to view their portal information"})]})]}),"messages"===x&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udce7 Send Message to Patient"}),(0,Ft.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),(0,Ft.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-24",placeholder:"Type your message to the patient...",required:!0})]}),(0,Ft.jsx)("div",{className:"flex justify-end",children:(0,Ft.jsx)("button",{type:"submit",disabled:l||!v.trim()||!p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:"Send Message"})})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcac Message History"}),0===r.messages.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No messages yet"}):(0,Ft.jsx)("div",{className:"space-y-4",children:r.messages.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:"staff"===e.sender?"Staff":"Patient"}),(0,Ft.jsx)("span",{className:"text-gray-400 text-sm",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Ft.jsx)("p",{className:"text-gray-300",children:e.message})]},e.id)))})]})]}),"appointments"===x&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udcc5 Patient Appointments"}),0===r.appointments.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No appointments found"}):r.appointments.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsx)("div",{className:"flex items-center justify-between",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[new Date(e.appointment_date).toLocaleDateString()," at ",e.appointment_time]}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:["Type: ",e.appointment_type]}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:["Status: ",e.status]})]})})},e.id)))]}),"records"===x&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udccb Medical Records Access"}),(0,Ft.jsx)("p",{className:"text-gray-300",children:"Patient record sharing functionality coming soon..."})]}),l&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Kt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)("dashboard"),[w,_]=(0,s.useState)(null),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)({patient_id:"",provider_id:"",tests:[],priority:"routine",clinical_info:"",diagnosis_codes:[],lab_provider:"internal",encounter_id:""}),[R,D]=(0,s.useState)({totalOrders:0,pendingOrders:0,completedToday:0,criticalResults:0});(0,s.useEffect)((()=>{A()}),[]);const A=async()=>{b(!0);try{const[e,t,n,r,s]=await Promise.all([Ot.get("/lab-orders").catch((()=>({data:[]}))),Ot.get("/lab-tests").catch((()=>({data:[]}))),Ot.get("/lab-results").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]}))),Ot.get("/providers").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]),c(n.data||[]),m(r.data||[]),h(s.data||[]);const l=e.data||[],o=n.data||[];D({totalOrders:l.length,pendingOrders:l.filter((e=>"pending"===e.status||"in_progress"===e.status)).length,completedToday:o.filter((e=>{const t=(new Date).toDateString();return new Date(e.completed_date).toDateString()===t})).length,criticalResults:o.filter((e=>!0===e.is_critical)).length})}catch(g){console.error("Failed to fetch lab data:",g),f("Failed to fetch laboratory data")}finally{b(!1)}},O=async(e,t)=>{try{await Ot.put("/lab-orders/".concat(e,"/status"),{status:t}),a(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),y("Order status updated to ".concat(t)),setTimeout((()=>y("")),3e3)}catch(g){console.error("Error updating order status:",g),f("Failed to update order status")}},F=[{id:"cbc",name:"Complete Blood Count (CBC)",category:"Hematology",code:"CBC"},{id:"bmp",name:"Basic Metabolic Panel (BMP)",category:"Chemistry",code:"BMP"},{id:"cmp",name:"Comprehensive Metabolic Panel (CMP)",category:"Chemistry",code:"CMP"},{id:"lipid",name:"Lipid Panel",category:"Chemistry",code:"LIPID"},{id:"tsh",name:"Thyroid Stimulating Hormone (TSH)",category:"Endocrinology",code:"TSH"},{id:"hba1c",name:"Hemoglobin A1c",category:"Chemistry",code:"HBA1C"},{id:"pt_ptt",name:"PT/PTT",category:"Coagulation",code:"PT_PTT"},{id:"urinalysis",name:"Urinalysis",category:"Urinalysis",code:"UA"}];return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83d\udd2c Laboratory Orders"}),(0,Ft.jsx)("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"New Lab Order"})]}),g&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:g}),v&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:v}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Orders"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-white",children:R.totalOrders})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83d\udccb"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Pending Orders"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold ".concat(R.pendingOrders>0?"text-yellow-400":"text-green-400"),children:R.pendingOrders})]}),(0,Ft.jsx)("div",{className:"text-2xl ".concat(R.pendingOrders>0?"text-yellow-400":"text-green-400"),children:"\u23f3"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Completed Today"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-green-400",children:R.completedToday})]}),(0,Ft.jsx)("div",{className:"text-green-400 text-2xl",children:"\u2705"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Critical Results"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold ".concat(R.criticalResults>0?"text-red-400":"text-green-400"),children:R.criticalResults})]}),(0,Ft.jsx)("div",{className:"text-2xl ".concat(R.criticalResults>0?"text-red-400":"text-green-400"),children:"\u26a0\ufe0f"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsx)("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1 mb-6",children:[{key:"dashboard",label:"Dashboard"},{key:"orders",label:"Lab Orders",count:r.length},{key:"results",label:"Results",count:o.length},{key:"tests",label:"Available Tests",count:F.length}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>N(e.key),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(j===e.key?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:[e.label," ",void 0!==e.count&&"(".concat(e.count,")")]},e.key)))}),"dashboard"===j&&(0,Ft.jsx)("div",{className:"space-y-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Recent Lab Orders"}),(0,Ft.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[r.slice(0,5).map((e=>{var t,n;return(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("p",{className:"text-white font-medium",children:["Order #",e.id]}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:["Patient: ",e.patient_name," \u2022 ",(null===(t=e.tests)||void 0===t?void 0:t.length)||0," tests"]}),(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:new Date(e.order_date).toLocaleDateString()})]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("completed"===e.status?"bg-green-600 text-white":"in_progress"===e.status?"bg-yellow-600 text-white":"pending"===e.status?"bg-blue-600 text-white":"bg-gray-600 text-white"),children:null===(n=e.status)||void 0===n?void 0:n.replace("_"," ").toUpperCase()})]})},e.id)})),0===r.length&&(0,Ft.jsx)("p",{className:"text-blue-300 text-center py-4",children:"No lab orders found"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Critical Results"}),(0,Ft.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[o.filter((e=>e.is_critical)).map((e=>(0,Ft.jsx)("div",{className:"bg-red-500/20 rounded-lg p-3 border border-red-500",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.test_name}),(0,Ft.jsxs)("p",{className:"text-red-200 text-sm",children:["Patient: ",e.patient_name]}),(0,Ft.jsxs)("p",{className:"text-red-300 text-xs",children:["Value: ",e.value," ",e.unit," (Critical)"]})]}),(0,Ft.jsx)("div",{className:"text-red-400 text-xl",children:"\u26a0\ufe0f"})]})},e.id))),0===o.filter((e=>e.is_critical)).length&&(0,Ft.jsx)("p",{className:"text-green-300 text-center py-4",children:"No critical results \ud83c\udf89"})]})]})]})}),"orders"===j&&(0,Ft.jsx)("div",{children:(0,Ft.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ft.jsxs)("table",{className:"w-full text-sm",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{className:"border-b border-white/20",children:[(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Order ID"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Patient"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Tests"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Provider"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Date"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Priority"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Status"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Actions"})]})}),(0,Ft.jsx)("tbody",{children:r.map((e=>{var t,n,r,s;return(0,Ft.jsxs)("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[(0,Ft.jsxs)("td",{className:"py-3 text-blue-200",children:["#",e.id]}),(0,Ft.jsx)("td",{className:"py-3",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.patient_name}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:["ID: ",e.patient_id]})]})}),(0,Ft.jsxs)("td",{className:"py-3 text-blue-200",children:[(null===(t=e.tests)||void 0===t?void 0:t.length)||0," test",1!==((null===(n=e.tests)||void 0===n?void 0:n.length)||0)?"s":""]}),(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:e.provider_name}),(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:new Date(e.order_date).toLocaleDateString()}),(0,Ft.jsx)("td",{className:"py-3 text-center",children:(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("urgent"===e.priority?"bg-red-600 text-white":"stat"===e.priority?"bg-purple-600 text-white":"bg-blue-600 text-white"),children:null===(r=e.priority)||void 0===r?void 0:r.toUpperCase()})}),(0,Ft.jsx)("td",{className:"py-3 text-center",children:(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-600 text-white":"in_progress"===e.status?"bg-yellow-600 text-white":"pending"===e.status?"bg-blue-600 text-white":"bg-gray-600 text-white"),children:null===(s=e.status)||void 0===s?void 0:s.replace("_"," ").toUpperCase()})}),(0,Ft.jsx)("td",{className:"py-3 text-center",children:(0,Ft.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,Ft.jsx)("button",{onClick:()=>_(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs",children:"View"}),"pending"===e.status&&(0,Ft.jsx)("button",{onClick:()=>O(e.id,"in_progress"),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-2 py-1 rounded text-xs",children:"Start"}),"in_progress"===e.status&&(0,Ft.jsx)("button",{onClick:()=>O(e.id,"completed"),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs",children:"Complete"})]})})]},e.id)}))})]}),0===r.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No lab orders found. Create your first lab order to get started."})]})}),"results"===j&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[o.map((e=>(0,Ft.jsxs)("div",{className:"rounded-lg p-4 border ".concat(e.is_critical?"bg-red-500/20 border-red-500":"bg-white/10 border-white/20"),children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-white font-medium text-lg",children:e.test_name}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:["Patient: ",e.patient_name]}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-sm",children:["Completed: ",new Date(e.completed_date).toLocaleString()]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("p",{className:"text-2xl font-bold ".concat(e.is_critical?"text-red-400":"text-white"),children:[e.value," ",e.unit]}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-sm",children:["Normal: ",e.reference_range]}),e.is_critical&&(0,Ft.jsx)("span",{className:"text-red-400 text-sm font-medium",children:"\u26a0\ufe0f CRITICAL"})]})]}),e.notes&&(0,Ft.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:e.notes})})]},e.id))),0===o.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No lab results available."})]}),"tests"===j&&(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:e.category}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:["Code: ",e.code]})]},e.id)))})]}),k&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Create Lab Order"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{b(!0);const e=await Ot.post("/lab-orders",d(d({},P),{},{ordered_by:null===n||void 0===n?void 0:n.id,order_date:(new Date).toISOString()}));a([...r,e.data]),T({patient_id:"",provider_id:"",tests:[],priority:"routine",clinical_info:"",diagnosis_codes:[],lab_provider:"internal",encounter_id:""}),S(!1),y("Lab order created successfully"),setTimeout((()=>y("")),3e3)}catch(g){console.error("Error creating lab order:",g),f("Failed to create lab order")}finally{b(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),(0,Ft.jsxs)("select",{value:P.patient_id,onChange:e=>T((t=>d(d({},t),{},{patient_id:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),u.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[(null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0])||e.first_name," ",(null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family)||e.last_name]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider"}),(0,Ft.jsxs)("select",{value:P.provider_id,onChange:e=>T((t=>d(d({},t),{},{provider_id:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Provider"}),x.map((e=>(0,Ft.jsxs)("option",{value:e.id,children:["Dr. ",e.first_name," ",e.last_name]},e.id)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,Ft.jsxs)("select",{value:P.priority,onChange:e=>T((t=>d(d({},t),{},{priority:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"routine",children:"Routine"}),(0,Ft.jsx)("option",{value:"urgent",children:"Urgent"}),(0,Ft.jsx)("option",{value:"stat",children:"STAT"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lab Provider"}),(0,Ft.jsxs)("select",{value:P.lab_provider,onChange:e=>T((t=>d(d({},t),{},{lab_provider:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"internal",children:"Internal Lab"}),(0,Ft.jsx)("option",{value:"quest",children:"Quest Diagnostics"}),(0,Ft.jsx)("option",{value:"labcorp",children:"LabCorp"}),(0,Ft.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lab Tests"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-y-auto border border-gray-300 rounded-lg p-3",children:F.map((e=>(0,Ft.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:P.tests.includes(e.id),onChange:t=>{t.target.checked?T((t=>d(d({},t),{},{tests:[...t.tests,e.id]}))):T((t=>d(d({},t),{},{tests:t.tests.filter((t=>t!==e.id))})))},className:"rounded"}),(0,Ft.jsx)("span",{className:"text-sm",children:e.name})]},e.id)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clinical Information"}),(0,Ft.jsx)("textarea",{value:P.clinical_info,onChange:e=>T((t=>d(d({},t),{},{clinical_info:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Clinical indication for tests..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:p||0===P.tests.length,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Creating...":"Create Order"})]})]})]})})]})},Gt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)("dashboard"),[w,_]=(0,s.useState)(null),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)(!1),[R,D]=(0,s.useState)({patient_id:"",insurance_plan_id:"",policy_number:"",group_number:"",subscriber_id:"",subscriber_name:"",relationship_to_subscriber:"self",effective_date:(new Date).toISOString().split("T")[0],is_primary:!0,copay_amount:"",deductible_amount:""}),[A,O]=(0,s.useState)({patient_id:"",insurance_policy_id:"",service_codes:["99213"],provider_npi:""}),[F,L]=(0,s.useState)({totalPolicies:0,verifiedToday:0,pendingVerifications:0,activeAuthorizations:0});(0,s.useEffect)((()=>{I()}),[]);const I=async()=>{try{b(!0),await Promise.all([M(),z(),U()])}catch(g){console.error("Failed to fetch insurance data:",g),f("Failed to fetch insurance data")}finally{b(!1)}},M=async()=>{try{const e=await Ot.get("/insurance-plans");a(e.data)}catch(g){console.error("Failed to fetch insurance plans:",g)}},z=async()=>{try{const e=await Ot.get("/patients");h(e.data)}catch(g){console.error("Failed to fetch patients:",g)}},U=async()=>{try{const e=await Ot.get("/insurance-verifications");c(e.data);const t=(new Date).toDateString();L((n=>d(d({},n),{},{verifiedToday:e.data.filter((e=>new Date(e.verification_date).toDateString()===t)).length,pendingVerifications:e.data.filter((e=>"pending"===e.status)).length})))}catch(g){console.error("Failed to fetch verifications:",g)}},q=async e=>{e.preventDefault();try{b(!0),f("");const e=await Ot.post("/insurance-policies",R);i([...l,e.data]),y("Insurance policy created successfully!"),S(!1),V()}catch(g){var t,n;console.error("Failed to create insurance policy:",g),f((null===(t=g.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create insurance policy")}finally{b(!1)}},B=async e=>{e.preventDefault();try{b(!0),f("");await Ot.post("/insurance-verification",A);y("Insurance verification completed successfully!"),E(!1),H(),U()}catch(g){var t,n;console.error("Failed to verify insurance:",g),f((null===(t=g.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to verify insurance")}finally{b(!1)}},V=()=>{D({patient_id:"",insurance_plan_id:"",policy_number:"",group_number:"",subscriber_id:"",subscriber_name:"",relationship_to_subscriber:"self",effective_date:(new Date).toISOString().split("T")[0],is_primary:!0,copay_amount:"",deductible_amount:""})},H=()=>{O({patient_id:"",insurance_policy_id:"",service_codes:["99213"],provider_npi:""})};return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udee1\ufe0f Insurance Management"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udee1\ufe0f New Policy"}),(0,Ft.jsx)("button",{onClick:()=>E(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd0d Verify Coverage"}),(0,Ft.jsx)("button",{onClick:I,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),v&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",v]})}),g&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",g]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"plans",name:"Plans",icon:"\ud83c\udfe5"},{id:"policies",name:"Policies",icon:"\ud83d\udccb"},{id:"verifications",name:"Verifications",icon:"\ud83d\udd0d"},{id:"prior-auth",name:"Prior Auth",icon:"\ud83d\udcc4"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>N(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(j===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===j&&(()=>{const e=o.slice(0,5);return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Insurance Plans"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83c\udfe5"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.verifiedToday}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Verified Today"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u2705"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.pendingVerifications}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Verifications"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:F.activeAuthorizations}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Active Prior Auths"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udd0d Recent Insurance Verifications"}),0===e.length?(0,Ft.jsx)("p",{className:"text-gray-400",children:"No recent insurance verifications."}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Patient ID: ",e.patient_id]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((n=e.status,{pending:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",denied:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800",requires_auth:"bg-orange-100 text-orange-800",error:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Service Codes: ",(null===(t=e.service_codes)||void 0===t?void 0:t.join(", "))||"N/A"]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[null!==e.is_covered&&(0,Ft.jsx)("span",{className:e.is_covered?"text-green-400":"text-red-400",children:e.is_covered?"\u2705 Covered":"\u274c Not Covered"}),e.copay_amount&&(0,Ft.jsxs)("span",{className:"ml-4",children:["Copay: $",e.copay_amount]})]})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.verification_date).toLocaleDateString()})]})},e.id)}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83c\udfe5 Insurance Plans"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.slice(0,6).map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.insurance_company}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.plan_name}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Type: ",e.plan_type]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Network: ",e.network_type]}),e.requires_referrals&&(0,Ft.jsx)("div",{className:"text-xs text-yellow-400 mt-1",children:"\u26a0\ufe0f Requires Referrals"}),e.requires_prior_auth&&(0,Ft.jsx)("div",{className:"text-xs text-orange-400 mt-1",children:"\ud83d\udccb Prior Auth Required"})]},e.id)))})]})]})})(),"plans"===j&&(0,Ft.jsx)("div",{className:"text-white",children:"Insurance plans management view coming soon..."}),"policies"===j&&(0,Ft.jsx)("div",{className:"text-white",children:"Patient policies management view coming soon..."}),"verifications"===j&&(0,Ft.jsx)("div",{className:"text-white",children:"Verifications history view coming soon..."}),"prior-auth"===j&&(0,Ft.jsx)("div",{className:"text-white",children:"Prior authorization management view coming soon..."}),k&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udee1\ufe0f Insurance Policy"}),(0,Ft.jsx)("button",{onClick:()=>{S(!1),V()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:R.patient_id,onChange:e=>D(d(d({},R),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),x.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Insurance Plan"}),(0,Ft.jsxs)("select",{value:R.insurance_plan_id,onChange:e=>D(d(d({},R),{},{insurance_plan_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Insurance Plan"}),r.map((e=>(0,Ft.jsxs)("option",{value:e.id,children:[e.insurance_company," - ",e.plan_name]},e.id)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Policy Number"}),(0,Ft.jsx)("input",{type:"text",value:R.policy_number,onChange:e=>D(d(d({},R),{},{policy_number:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Group Number"}),(0,Ft.jsx)("input",{type:"text",value:R.group_number,onChange:e=>D(d(d({},R),{},{group_number:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscriber ID"}),(0,Ft.jsx)("input",{type:"text",value:R.subscriber_id,onChange:e=>D(d(d({},R),{},{subscriber_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscriber Name"}),(0,Ft.jsx)("input",{type:"text",value:R.subscriber_name,onChange:e=>D(d(d({},R),{},{subscriber_name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Relationship"}),(0,Ft.jsxs)("select",{value:R.relationship_to_subscriber,onChange:e=>D(d(d({},R),{},{relationship_to_subscriber:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"self",children:"Self"}),(0,Ft.jsx)("option",{value:"spouse",children:"Spouse"}),(0,Ft.jsx)("option",{value:"child",children:"Child"}),(0,Ft.jsx)("option",{value:"dependent",children:"Dependent"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Copay Amount"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:R.copay_amount,onChange:e=>D(d(d({},R),{},{copay_amount:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"25.00"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deductible"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:R.deductible_amount,onChange:e=>D(d(d({},R),{},{deductible_amount:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"1000.00"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Effective Date"}),(0,Ft.jsx)("input",{type:"date",value:R.effective_date,onChange:e=>D(d(d({},R),{},{effective_date:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"is_primary_insurance",checked:R.is_primary,onChange:e=>D(d(d({},R),{},{is_primary:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"is_primary_insurance",className:"text-gray-300",children:"Primary Insurance"})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Creating...":"Create Policy"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{S(!1),V()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),C&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udd0d Insurance Verification"}),(0,Ft.jsx)("button",{onClick:()=>{E(!1),H()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:A.patient_id,onChange:e=>O(d(d({},A),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),x.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Codes (CPT)"}),(0,Ft.jsx)("input",{type:"text",value:A.service_codes.join(", "),onChange:e=>O(d(d({},A),{},{service_codes:e.target.value.split(",").map((e=>e.trim()))})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"99213, 99214, 90791",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Provider NPI"}),(0,Ft.jsx)("input",{type:"text",value:A.provider_npi,onChange:e=>O(d(d({},A),{},{provider_npi:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"1234567890"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Verifying...":"Verify Coverage"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{E(!1),H()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),p&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Jt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),[p,b]=(0,s.useState)("dashboard"),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),[j,N]=(0,s.useState)(null),[w,_]=(0,s.useState)({name:"",description:"",category:"",specialty:"",template_type:"assessment",content:"",is_active:!0,tags:[]}),[k,S]=(0,s.useState)({totalTemplates:0,activeTemplates:0,assessmentTemplates:0,procedureTemplates:0});(0,s.useEffect)((()=>{C()}),[]);const C=async()=>{try{c(!0);const[e,t]=await Promise.all([Ot.get("/clinical-templates").catch((()=>({data:[]}))),Ot.get("/template-categories").catch((()=>({data:[]})))]),n=e.data||[];a(n),i(t.data||[]),S({totalTemplates:n.length,activeTemplates:n.filter((e=>e.is_active)).length,assessmentTemplates:n.filter((e=>"assessment"===e.template_type)).length,procedureTemplates:n.filter((e=>"procedure"===e.template_type)).length})}catch(u){console.error("Failed to fetch clinical templates:",u),m("Failed to fetch clinical templates")}finally{c(!1)}},E=()=>{_({name:"",description:"",category:"",specialty:"",template_type:"assessment",content:"",is_active:!0,tags:[]}),y(null),f(!1)},P=["General Medicine","Cardiology","Dermatology","Endocrinology","Gastroenterology","Neurology","Orthopedics","Pediatrics","Psychiatry","Radiology"];return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83d\udccb Clinical Templates"}),(0,Ft.jsx)("button",{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Create Template"})]}),u&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:u}),x&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:x}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Templates"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-white",children:k.totalTemplates})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83d\udcc4"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Active Templates"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-green-400",children:k.activeTemplates})]}),(0,Ft.jsx)("div",{className:"text-green-400 text-2xl",children:"\u2705"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Assessment Templates"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:k.assessmentTemplates})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83d\udcdd"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Procedure Templates"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-purple-400",children:k.procedureTemplates})]}),(0,Ft.jsx)("div",{className:"text-purple-400 text-2xl",children:"\u2695\ufe0f"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsx)("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1 mb-6",children:[{key:"dashboard",label:"Dashboard"},{key:"templates",label:"All Templates",count:r.length},{key:"categories",label:"Categories",count:P.length}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>b(e.key),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(p===e.key?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:[e.label," ",void 0!==e.count&&"(".concat(e.count,")")]},e.key)))}),"dashboard"===p&&(0,Ft.jsx)("div",{className:"space-y-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Most Used Templates"}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[r.filter((e=>e.is_active)).slice(0,5).map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[e.category," \u2022 ",e.template_type]})]}),(0,Ft.jsx)("button",{onClick:()=>N(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Use"})]})},e.id))),0===r.length&&(0,Ft.jsx)("p",{className:"text-blue-300 text-center py-4",children:"No templates available"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Template Categories"}),(0,Ft.jsx)("div",{className:"grid grid-cols-2 gap-3",children:P.slice(0,6).map((e=>(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[r.filter((t=>t.category===e)).length," template",1!==r.filter((t=>t.category===e)).length?"s":""]})]},e)))})]})]})}),"templates"===p&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[r.map((e=>{var t;return(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium text-lg",children:e.name}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("assessment"===e.template_type?"bg-blue-600 text-white":"procedure"===e.template_type?"bg-purple-600 text-white":"bg-gray-600 text-white"),children:null===(t=e.template_type)||void 0===t?void 0:t.toUpperCase()}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"),children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm mb-2",children:e.description}),(0,Ft.jsxs)("div",{className:"text-blue-300 text-xs",children:[(0,Ft.jsxs)("span",{children:["Category: ",e.category]}),e.specialty&&(0,Ft.jsxs)("span",{children:[" \u2022 Specialty: ",e.specialty]}),(0,Ft.jsxs)("span",{children:[" \u2022 Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,Ft.jsx)("button",{onClick:()=>N(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Use"}),(0,Ft.jsx)("button",{onClick:()=>(e=>{_({name:e.name,description:e.description,category:e.category,specialty:e.specialty,template_type:e.template_type,content:e.content,is_active:e.is_active,tags:e.tags||[]}),y(e),f(!0)})(e),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{const t=d(d({},e),{},{name:"".concat(e.name," (Copy)"),id:void 0,created_at:(new Date).toISOString(),created_by:null===n||void 0===n?void 0:n.id}),s=await Ot.post("/clinical-templates",t);a([...r,s.data]),h("Template duplicated successfully"),setTimeout((()=>h("")),3e3)}catch(u){console.error("Error duplicating template:",u),m("Failed to duplicate template")}})(e),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Copy"}),(0,Ft.jsx)("button",{onClick:()=>(async(e,t)=>{try{await Ot.put("/clinical-templates/".concat(e,"/status"),{is_active:!t}),a(r.map((n=>n.id===e?d(d({},n),{},{is_active:!t}):n))),h("Template ".concat(t?"deactivated":"activated"," successfully")),setTimeout((()=>h("")),3e3)}catch(u){console.error("Error updating template status:",u),m("Failed to update template status")}})(e.id,e.is_active),className:"px-3 py-1 rounded text-sm ".concat(e.is_active?"bg-gray-600 hover:bg-gray-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:e.is_active?"Deactivate":"Activate"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this template?"))try{await Ot.delete("/clinical-templates/".concat(e)),a(r.filter((t=>t.id!==e))),h("Template deleted successfully"),setTimeout((()=>h("")),3e3)}catch(u){console.error("Error deleting template:",u),m("Failed to delete template")}})(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})]}),e.content&&(0,Ft.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[(0,Ft.jsx)("strong",{children:"Content Preview:"})," ",e.content.substring(0,200),e.content.length>200&&"..."]})})]},e.id)})),0===r.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No templates found. Create your first template to get started."})]}),"categories"===p&&(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map((e=>{const t=r.filter((t=>t.category===e));return(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium text-lg mb-2",children:e}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm mb-3",children:[t.length," template",1!==t.length?"s":""]}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[t.slice(0,3).map((e=>(0,Ft.jsxs)("div",{className:"text-blue-300 text-sm",children:["\u2022 ",e.name]},e.id))),t.length>3&&(0,Ft.jsxs)("div",{className:"text-blue-400 text-sm",children:["... and ",t.length-3," more"]})]})]},e)}))})]}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:v?"Edit Template":"Create New Template"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e;c(!0),m(""),v?(e=await Ot.put("/clinical-templates/".concat(v.id),w),a(r.map((t=>t.id===v.id?e.data:t))),h("Template updated successfully")):(e=await Ot.post("/clinical-templates",d(d({},w),{},{created_by:null===n||void 0===n?void 0:n.id,created_at:(new Date).toISOString()})),a([...r,e.data]),h("Template created successfully")),E(),setTimeout((()=>h("")),3e3)}catch(u){console.error("Error saving template:",u),m(v?"Failed to update template":"Failed to create template")}finally{c(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),(0,Ft.jsx)("input",{type:"text",value:w.name,onChange:e=>_((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Type"}),(0,Ft.jsxs)("select",{value:w.template_type,onChange:e=>_((t=>d(d({},t),{},{template_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"assessment",children:"Assessment"}),(0,Ft.jsx)("option",{value:"procedure",children:"Procedure"}),(0,Ft.jsx)("option",{value:"plan",children:"Treatment Plan"}),(0,Ft.jsx)("option",{value:"note",children:"Progress Note"})]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsxs)("select",{value:w.category,onChange:e=>_((t=>d(d({},t),{},{category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Category"}),P.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialty"}),(0,Ft.jsx)("input",{type:"text",value:w.specialty,onChange:e=>_((t=>d(d({},t),{},{specialty:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Internal Medicine, Pediatrics"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:w.description,onChange:e=>_((t=>d(d({},t),{},{description:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Brief description of the template..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Content"}),(0,Ft.jsx)("textarea",{value:w.content,onChange:e=>_((t=>d(d({},t),{},{content:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"10",placeholder:"Enter the template content here...",required:!0})]}),(0,Ft.jsxs)("div",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"is_active",checked:w.is_active,onChange:e=>_((t=>d(d({},t),{},{is_active:e.target.checked}))),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Template is active and available for use"})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":v?"Update Template":"Create Template"})]})]})]})}),j&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:j.name}),(0,Ft.jsx)("button",{onClick:()=>N(null),className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\xd7"})]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("p",{className:"text-gray-600",children:j.description}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Type: ",j.template_type," \u2022 Category: ",j.category]})]}),(0,Ft.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 mb-4 bg-gray-50 max-h-96 overflow-y-auto",children:(0,Ft.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:j.content})}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>N(null),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"}),(0,Ft.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(j.content),h("Template content copied to clipboard"),N(null),setTimeout((()=>h("")),3e3)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Use This Template"})]})]})})]})},Yt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),[p,b]=(0,s.useState)("dashboard"),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),[w,_]=(0,s.useState)(""),[k,S]=(0,s.useState)({title:"",description:"",category:"",patient_id:"",document_type:"clinical_note",content:"",is_confidential:!1,tags:[]}),[C,E]=(0,s.useState)({title:"",category:"",patient_id:"",description:"",file:null}),[P,T]=(0,s.useState)({totalDocuments:0,clinicalNotes:0,labReports:0,imagingStudies:0,confidentialDocs:0}),R=["Clinical Notes","Lab Reports","Imaging Studies","Insurance Documents","Consent Forms","Patient Education","Administrative","Legal Documents","Correspondence"],D=["clinical_note","lab_report","imaging_study","insurance_card","consent_form","patient_education","administrative","legal_document","correspondence"];(0,s.useEffect)((()=>{A()}),[w]);const A=async()=>{try{c(!0);const[e,t]=await Promise.all([Ot.get("/documents".concat(w?"?category=".concat(encodeURIComponent(w)):"")).catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]);const n=e.data||[];T({totalDocuments:n.length,clinicalNotes:n.filter((e=>"clinical_note"===e.document_type)).length,labReports:n.filter((e=>"lab_report"===e.document_type)).length,imagingStudies:n.filter((e=>"imaging_study"===e.document_type)).length,confidentialDocs:n.filter((e=>e.is_confidential)).length})}catch(u){console.error("Error fetching document data:",u),m("Failed to fetch document data")}finally{c(!1)}},O=async e=>{e.preventDefault();try{c(!0),m("");const e=d(d({},k),{},{created_by:null===n||void 0===n?void 0:n.id,created_at:(new Date).toISOString(),document_number:"DOC-".concat(Date.now())}),t=j?await Ot.put("/documents/".concat(j.id),e):await Ot.post("/documents",e);j?(a(r.map((e=>e.id===j.id?t.data:e))),h("Document updated successfully!")):(a([...r,t.data]),h("Document created successfully!")),f(!1),N(null),F()}catch(u){var t,s;console.error("Error saving document:",u),m((null===(t=u.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to save document")}finally{c(!1)}},F=()=>{S({title:"",description:"",category:"",patient_id:"",document_type:"clinical_note",content:"",is_confidential:!1,tags:[]})},L=e=>{N(e),S({title:e.title,description:e.description,category:e.category,patient_id:e.patient_id,document_type:e.document_type,content:e.content,is_confidential:e.is_confidential,tags:e.tags||[]}),f(!0)},I=e=>({draft:"bg-yellow-100 text-yellow-800",active:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800",expired:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc4 Document Management"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc4 New Document"}),(0,Ft.jsx)("button",{onClick:()=>y(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udce4 Upload File"}),(0,Ft.jsx)("button",{onClick:A,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),x&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",x]})}),u&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",u]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"documents",name:"All Documents",icon:"\ud83d\udcc4"},{id:"upload",name:"File Upload",icon:"\ud83d\udce4"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>b(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(p===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===p&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Category"}),(0,Ft.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"",children:"All Categories"}),R.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:P.totalDocuments}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Documents"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcc4"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:P.clinicalNotes}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Clinical Notes"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcdd"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:P.labReports}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Lab Reports"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83e\uddea"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:P.confidentialDocs}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Confidential"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udd12"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udccb Recent Documents"}),0===r.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc4"}),(0,Ft.jsx)("p",{children:"No documents found"}),(0,Ft.jsx)("button",{onClick:()=>f(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Create Document"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:r.slice(0,10).map((e=>{var t,n,s,i,o,c,x;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(I(e.status)),children:e.status}),e.is_confidential&&(0,Ft.jsx)("span",{className:"px-2 py-1 bg-red-600/20 text-red-300 rounded text-xs",children:"\ud83d\udd12 Confidential"})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Category: ",e.category," \u2022 Type: ",e.document_type]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Patient: ",null===(t=l.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(s=n[0])||void 0===s||null===(i=s.given)||void 0===i?void 0:i[0]," ",null===(o=l.find((t=>t.id===e.patient_id)))||void 0===o||null===(c=o.name)||void 0===c||null===(x=c[0])||void 0===x?void 0:x.family]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>L(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),"draft"===e.status&&(0,Ft.jsx)("button",{onClick:()=>(async(e,t)=>{try{await Ot.put("/documents/".concat(e,"/status"),{status:t}),a(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),h("Document status updated to ".concat(t,"!"))}catch(u){console.error("Error updating document status:",u),m("Failed to update document status")}})(e.id,"active"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Publish"})]})]})},e.id)}))})]})]}),"documents"===p&&(0,Ft.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(I(e.status)),children:e.status}),e.is_confidential&&(0,Ft.jsx)("span",{className:"px-2 py-1 bg-red-600/20 text-red-300 rounded text-xs",children:"\ud83d\udd12 Confidential"})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Category: ",e.category," \u2022 Type: ",e.document_type]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.description})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>L(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"})})]})},e.id)))}),"upload"===p&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udce4 File Upload"}),(0,Ft.jsx)("p",{className:"text-gray-300",children:"File upload functionality coming soon..."})]}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:j?"\u270f\ufe0f Edit Document":"\ud83d\udcc4 New Document"}),(0,Ft.jsx)("button",{onClick:()=>{f(!1),N(null),F()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Title"}),(0,Ft.jsx)("input",{type:"text",value:k.title,onChange:e=>S(d(d({},k),{},{title:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ft.jsxs)("select",{value:k.category,onChange:e=>S(d(d({},k),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Category"}),R.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Type"}),(0,Ft.jsx)("select",{value:k.document_type,onChange:e=>S(d(d({},k),{},{document_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:D.map((e=>(0,Ft.jsx)("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))},e)))})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Associated Patient"}),(0,Ft.jsxs)("select",{value:k.patient_id,onChange:e=>S(d(d({},k),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"",children:"No patient association"}),l.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ft.jsx)("textarea",{value:k.description,onChange:e=>S(d(d({},k),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Brief description of the document..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content"}),(0,Ft.jsx)("textarea",{value:k.content,onChange:e=>S(d(d({},k),{},{content:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-32",placeholder:"Document content or notes..."})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"is_confidential",checked:k.is_confidential,onChange:e=>S(d(d({},k),{},{is_confidential:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"is_confidential",className:"text-gray-300",children:"Confidential Document"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Saving...":j?"Update Document":"Create Document"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{f(!1),N(null),F()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),o&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Xt=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)("overview"),[x,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)([]),[v,y]=(0,s.useState)([]),[j,N]=(0,s.useState)(""),[w,_]=(0,s.useState)(""),[k,S]=(0,s.useState)({patient_id:"",description:"",items:[{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}],notes:"",due_days:30}),[C,E]=(0,s.useState)({amount:0,payment_method:"cash",notes:""}),[P,T]=(0,s.useState)({totalInvoices:0,pendingInvoices:0,paidInvoices:0,overdueInvoices:0,totalRevenue:0,pendingAmount:0});(0,s.useEffect)((()=>{R()}),[]);const R=async()=>{c(!0);try{const[e,t,n]=await Promise.all([Ot.get("/invoices").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]}))),Ot.get("/inventory").catch((()=>({data:[]})))]),r=e.data||[];a(r),f(t.data||[]),y(n.data||[]);const s=new Date,l=r.filter((e=>"paid"===e.status)).reduce(((e,t)=>e+parseFloat(t.total_amount||0)),0),i=r.filter((e=>"pending"===e.status)).reduce(((e,t)=>e+parseFloat(t.total_amount||0)),0);T({totalInvoices:r.length,pendingInvoices:r.filter((e=>"pending"===e.status)).length,paidInvoices:r.filter((e=>"paid"===e.status)).length,overdueInvoices:r.filter((e=>"pending"===e.status&&new Date(e.due_date)<s)).length,totalRevenue:l,pendingAmount:i})}catch(j){console.error("Error fetching invoice data:",j),N("Failed to fetch invoice data")}finally{c(!1)}},D=async e=>{e.preventDefault();try{c(!0),N("");const e=d(d({},k),{},{total_amount:O(k.items),status:"pending",issue_date:(new Date).toISOString().split("T")[0],due_date:new Date(Date.now()+24*k.due_days*60*60*1e3).toISOString().split("T")[0],created_by:null===n||void 0===n?void 0:n.id}),t=await Ot.post("/invoices",e);a([t.data,...r]),_("Invoice created successfully!"),h(!1),F(),R()}catch(j){var t,s;console.error("Error creating invoice:",j),N((null===(t=j.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to create invoice")}finally{c(!1)}},A=async e=>{e.preventDefault();try{c(!0),N("");const e=d(d({},C),{},{invoice_id:l.id,payment_date:(new Date).toISOString(),recorded_by:null===n||void 0===n?void 0:n.id});await Ot.post("/payments",e),await(async(e,t)=>{try{await Ot.put("/invoices/".concat(e,"/status"),{status:t}),a(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),_("Invoice ".concat(t," successfully!")),R()}catch(j){console.error("Error updating invoice:",j),N("Failed to update invoice status")}})(l.id,"paid"),_("Payment recorded successfully!"),b(!1),i(null),L()}catch(j){var t,s;console.error("Error recording payment:",j),N((null===(t=j.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to record payment")}finally{c(!1)}},O=e=>e.reduce(((e,t)=>e+t.quantity*t.unit_price),0),F=()=>{S({patient_id:"",description:"",items:[{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}],notes:"",due_days:30})},L=()=>{E({amount:0,payment_method:"cash",notes:""})},I=()=>{S((e=>d(d({},e),{},{items:[...e.items,{description:"",quantity:1,unit_price:0,inventory_item_id:null,is_service:!0}]})))},M=(e,t,n)=>{S((r=>d(d({},r),{},{items:r.items.map(((r,s)=>s===e?d(d({},r),{},{[t]:n}):r))})))};return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcb0 Invoice Management"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcc4 New Invoice"}),(0,Ft.jsx)("button",{onClick:R,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),w&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",w]})}),j&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",j]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:"\ud83d\udcca"},{id:"pending",name:"Pending",icon:"\u23f3"},{id:"paid",name:"Paid",icon:"\u2705"},{id:"overdue",name:"Overdue",icon:"\ud83d\udea8"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>m(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(u===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"overview"===u&&(()=>{const e=r.slice(0,10);return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:P.totalInvoices}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Invoices"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udccb"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["$",P.totalRevenue.toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Revenue"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcb0"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-yellow-400",children:["$",P.pendingAmount.toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Amount"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-xl font-bold text-blue-400",children:P.pendingInvoices}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Pending Invoices"})]}),(0,Ft.jsx)("div",{className:"text-xl",children:"\ud83d\udcc4"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-xl font-bold text-green-400",children:P.paidInvoices}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Paid Invoices"})]}),(0,Ft.jsx)("div",{className:"text-xl",children:"\u2705"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-xl font-bold text-red-400",children:P.overdueInvoices}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Overdue"})]}),(0,Ft.jsx)("div",{className:"text-xl",children:"\ud83d\udea8"})]})})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udccb Recent Invoices"}),0===e.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc4"}),(0,Ft.jsx)("p",{children:"No invoices created yet"}),(0,Ft.jsx)("button",{onClick:()=>h(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Create First Invoice"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n,r,s,a,l,o,c;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",e.invoice_number||e.id]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((c=e.status,{draft:"bg-yellow-100 text-yellow-800",pending:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",overdue:"bg-red-100 text-red-800"}[c]||"bg-gray-100 text-gray-800")),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Patient: ",null===(t=g.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",null===(a=g.find((t=>t.id===e.patient_id)))||void 0===a||null===(l=a.name)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.family]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Amount: $",parseFloat(e.total_amount||0).toFixed(2)," \u2022 Due: ",new Date(e.due_date).toLocaleDateString()]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>i(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"View"}),"pending"===e.status&&(0,Ft.jsx)("button",{onClick:()=>{i(e),E(d(d({},C),{},{amount:parseFloat(e.total_amount||0)})),b(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Record Payment"})]})]})},e.id)}))})]})]})})(),"pending"===u&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\u23f3 Pending Invoices"}),r.filter((e=>"pending"===e.status)).map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",e.invoice_number||e.id]}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:["Amount: $",parseFloat(e.total_amount||0).toFixed(2)]})]}),(0,Ft.jsx)("button",{onClick:()=>{i(e),E(d(d({},C),{},{amount:parseFloat(e.total_amount||0)})),b(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Record Payment"})]})},e.id)))]}),"paid"===u&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u2705 Paid Invoices"}),(0,Ft.jsx)("div",{className:"space-y-3",children:r.filter((e=>"paid"===e.status)).map((e=>(0,Ft.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",e.invoice_number||e.id]}),(0,Ft.jsxs)("div",{className:"text-green-300 text-sm",children:["Paid: $",parseFloat(e.total_amount||0).toFixed(2)]})]},e.id)))})]}),"overdue"===u&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udea8 Overdue Invoices"}),(0,Ft.jsx)("div",{className:"space-y-3",children:r.filter((e=>"pending"===e.status&&new Date(e.due_date)<new Date)).map((e=>(0,Ft.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",e.invoice_number||e.id]}),(0,Ft.jsxs)("div",{className:"text-red-300 text-sm",children:["Amount: $",parseFloat(e.total_amount||0).toFixed(2)," \u2022 Due: ",new Date(e.due_date).toLocaleDateString()]})]},e.id)))})]}),x&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udcc4 Create New Invoice"}),(0,Ft.jsx)("button",{onClick:()=>{h(!1),F()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:k.patient_id,onChange:e=>S(d(d({},k),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),g.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Due Days"}),(0,Ft.jsxs)("select",{value:k.due_days,onChange:e=>S(d(d({},k),{},{due_days:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:15,children:"15 days"}),(0,Ft.jsx)("option",{value:30,children:"30 days"}),(0,Ft.jsx)("option",{value:45,children:"45 days"}),(0,Ft.jsx)("option",{value:60,children:"60 days"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,Ft.jsx)("input",{type:"text",value:k.description,onChange:e=>S(d(d({},k),{},{description:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Invoice description...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Invoice Items"}),(0,Ft.jsx)("button",{type:"button",onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"+ Add Item"})]}),(0,Ft.jsx)("div",{className:"space-y-3",children:k.items.map(((e,t)=>(0,Ft.jsx)("div",{className:"bg-gray-700 rounded p-4",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,Ft.jsx)("div",{children:(0,Ft.jsx)("input",{type:"text",value:e.description,onChange:e=>M(t,"description",e.target.value),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-white text-sm",placeholder:"Item description...",required:!0})}),(0,Ft.jsx)("div",{children:(0,Ft.jsx)("input",{type:"number",value:e.quantity,onChange:e=>M(t,"quantity",parseInt(e.target.value)||1),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-white text-sm",min:"1",required:!0})}),(0,Ft.jsx)("div",{children:(0,Ft.jsx)("input",{type:"number",step:"0.01",value:e.unit_price,onChange:e=>M(t,"unit_price",parseFloat(e.target.value)||0),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-white text-sm",placeholder:"Unit price...",required:!0})}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsxs)("span",{className:"text-white text-sm",children:["$",(e.quantity*e.unit_price).toFixed(2)]}),k.items.length>1&&(0,Ft.jsx)("button",{type:"button",onClick:()=>(e=>{S((t=>d(d({},t),{},{items:t.items.filter(((t,n)=>n!==e))})))})(t),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",children:"\u2715"})]})]})},t)))}),(0,Ft.jsx)("div",{className:"text-right mt-4",children:(0,Ft.jsxs)("div",{className:"text-xl font-bold text-white",children:["Total: $",O(k.items).toFixed(2)]})})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ft.jsx)("textarea",{value:k.notes,onChange:e=>S(d(d({},k),{},{notes:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Additional notes or terms..."})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Creating...":"Create Invoice"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{h(!1),F()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),p&&(l?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udcb0 Record Payment"}),(0,Ft.jsx)("button",{onClick:()=>{b(!1),i(null),L()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("div",{className:"mb-4 p-4 bg-white/5 rounded",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:["Invoice #",l.invoice_number||l.id]}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:["Amount Due: $",parseFloat(l.total_amount||0).toFixed(2)]})]}),(0,Ft.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Amount"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:C.amount,onChange:e=>E(d(d({},C),{},{amount:parseFloat(e.target.value)||0})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Method"}),(0,Ft.jsxs)("select",{value:C.payment_method,onChange:e=>E(d(d({},C),{},{payment_method:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"cash",children:"Cash"}),(0,Ft.jsx)("option",{value:"check",children:"Check"}),(0,Ft.jsx)("option",{value:"credit_card",children:"Credit Card"}),(0,Ft.jsx)("option",{value:"debit_card",children:"Debit Card"}),(0,Ft.jsx)("option",{value:"insurance",children:"Insurance"}),(0,Ft.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,Ft.jsx)("textarea",{value:C.notes,onChange:e=>E(d(d({},C),{},{notes:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20",placeholder:"Payment notes..."})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:o,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Recording...":"Record Payment"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{b(!1),i(null),L()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}):null),o&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},Zt=e=>{let{setActiveModule:t,onStatusUpdate:n}=e;const{user:r}=It(),[a,l]=(0,s.useState)({}),[i,o]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[m,x]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1),[b,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[y,j]=(0,s.useState)("dashboard"),[N,w]=(0,s.useState)(!1),[_,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[E,P]=(0,s.useState)({username:"",email:"",first_name:"",last_name:"",role:"receptionist",is_active:!0,password:"",confirm_password:""}),[T,R]=(0,s.useState)({clinic_name:"",clinic_address:"",clinic_phone:"",clinic_email:"",backup_frequency:"daily",session_timeout:8,max_login_attempts:3,enable_synology:!1,enable_audit_logging:!0}),[D,A]=(0,s.useState)({totalUsers:0,activeUsers:0,systemUptime:"0 days",lastBackup:"Never",auditEntries:0,storageUsed:"0 GB"}),[O,F]=(0,s.useState)([]),L=e=>{v(e);const t=setTimeout((()=>v("")),3e3);F((e=>[...e,t]))};(0,s.useEffect)((()=>()=>O.forEach((e=>clearTimeout(e)))),[]),(0,s.useEffect)((()=>{"admin"===(null===r||void 0===r?void 0:r.role)?I():g("Access denied. Administrator privileges required.")}),[r]);const I=async()=>{try{var e,t,n;p(!0);const[r,s,a,i]=await Promise.all([Ot.get("/system/config").catch((()=>({data:{}}))),Ot.get("/system/users").catch((()=>({data:[]}))),Ot.get("/audit").catch((()=>({data:[]}))),Ot.get("/system/backup-status").catch((()=>({data:{}})))]);l(r.data||{}),o(s.data||[]),u(a.data||[]),x(i.data||{}),r.data&&R((e=>d(d({},e),r.data))),A({totalUsers:(s.data||[]).length,activeUsers:(s.data||[]).filter((e=>e.is_active)).length,systemUptime:(null===(e=i.data)||void 0===e?void 0:e.uptime)||"0 days",lastBackup:(null===(t=i.data)||void 0===t?void 0:t.last_backup)||"Never",auditEntries:(a.data||[]).length,storageUsed:(null===(n=i.data)||void 0===n?void 0:n.storage_used)||"0 GB"})}catch(b){console.error("Error fetching system data:",b),g("Failed to fetch system data")}finally{p(!1)}},M=async e=>{e.preventDefault();try{p(!0),g("");const e=await Ot.put("/system/config",T);l(e.data),L("System configuration updated successfully!"),k(!1),n&&n()}catch(b){var t,r;console.error("Error updating system config:",b),g((null===(t=b.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to update system configuration")}finally{p(!1)}},z=async e=>{e.preventDefault();try{if(p(!0),g(""),E.password!==E.confirm_password)return void g("Passwords do not match");const e=d(d({},E),{},{created_by:null===r||void 0===r?void 0:r.id});delete e.confirm_password;const t=S?await Ot.put("/system/users/".concat(S.id),e):await Ot.post("/system/users",e);S?(o(i.map((e=>e.id===S.id?t.data:e))),L("User updated successfully!")):(o([...i,t.data]),L("User created successfully!")),w(!1),C(null),q()}catch(b){var t,n;console.error("Error saving user:",b),g((null===(t=b.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save user")}finally{p(!1)}},U=async()=>{try{p(!0),await Ot.post("/system/backup"),L("System backup initiated successfully!"),I()}catch(b){console.error("Error initiating backup:",b),g("Failed to initiate backup")}finally{p(!1)}},q=()=>{P({username:"",email:"",first_name:"",last_name:"",role:"receptionist",is_active:!0,password:"",confirm_password:""})};return"admin"!==(null===r||void 0===r?void 0:r.role)?(0,Ft.jsxs)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-xl p-6 text-center",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd12"}),(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),(0,Ft.jsx)("p",{className:"text-red-300",children:"Administrator privileges required to access system settings."}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"mt-4 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]}):(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\u2699\ufe0f System Administration"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udc64 Add User"}),(0,Ft.jsx)("button",{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\u2699\ufe0f Settings"}),(0,Ft.jsx)("button",{onClick:I,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),f&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",f]})}),b&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",b]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"users",name:"Users",icon:"\ud83d\udc65"},{id:"config",name:"Configuration",icon:"\u2699\ufe0f"},{id:"audit",name:"Audit Logs",icon:"\ud83d\udccb"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>j(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(y===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===y&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:D.totalUsers}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Users"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udc65"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:D.activeUsers}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Active Users"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u2705"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-lg font-bold text-white",children:D.systemUptime}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"System Uptime"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f0"})]})})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcbe Backup Status"}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-gray-300",children:"Last Backup:"}),(0,Ft.jsx)("span",{className:"text-white",children:D.lastBackup})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-gray-300",children:"Storage Used:"}),(0,Ft.jsx)("span",{className:"text-white",children:D.storageUsed})]}),(0,Ft.jsx)("button",{onClick:U,disabled:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg disabled:opacity-50 mt-4",children:h?"Backing up...":"\ud83d\udcbe Start Backup"})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcca System Analytics"}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-gray-300",children:"Audit Entries:"}),(0,Ft.jsx)("span",{className:"text-white",children:D.auditEntries})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-gray-300",children:"Synology Status:"}),(0,Ft.jsx)("span",{className:a.enable_synology?"text-green-400":"text-gray-400",children:a.enable_synology?"Enabled":"Disabled"})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-gray-300",children:"Audit Logging:"}),(0,Ft.jsx)("span",{className:a.enable_audit_logging?"text-green-400":"text-gray-400",children:a.enable_audit_logging?"Enabled":"Disabled"})]})]})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\u26a1 Quick Actions"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ft.jsxs)("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-lg text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc64"}),(0,Ft.jsx)("div",{className:"text-sm",children:"Add User"})]}),(0,Ft.jsxs)("button",{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white p-4 rounded-lg text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl mb-2",children:"\u2699\ufe0f"}),(0,Ft.jsx)("div",{className:"text-sm",children:"Settings"})]}),(0,Ft.jsxs)("button",{onClick:()=>j("audit"),className:"bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-lg text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccb"}),(0,Ft.jsx)("div",{className:"text-sm",children:"Audit Logs"})]}),(0,Ft.jsxs)("button",{onClick:U,disabled:h,className:"bg-orange-600 hover:bg-orange-700 text-white p-4 rounded-lg text-center disabled:opacity-50",children:[(0,Ft.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcbe"}),(0,Ft.jsx)("div",{className:"text-sm",children:"Backup"})]})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcc8 Recent System Activity"}),0===c.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udccb"}),(0,Ft.jsx)("p",{children:"No audit logs available"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:c.slice(0,5).map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.action}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["User: ",e.user_name," \u2022 Subject: ",e.subject_type]})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.timestamp).toLocaleString()})]})},e.id)))})]})]}),"users"===y&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udc65 User Management"}),i.map((e=>{return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[e.first_name," ",e.last_name]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat((t=e.role,{admin:"bg-red-100 text-red-800",doctor:"bg-blue-100 text-blue-800",nurse:"bg-green-100 text-green-800",manager:"bg-purple-100 text-purple-800",receptionist:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800")),children:e.role}),(0,Ft.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-400":"bg-gray-400")})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Username: ",e.username," \u2022 Email: ",e.email]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>{return C(t=e),P({username:t.username,email:t.email,first_name:t.first_name,last_name:t.last_name,role:t.role,is_active:t.is_active,password:"",confirm_password:""}),void w(!0);var t},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"})})]})},e.id);var t}))]}),"config"===y&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u2699\ufe0f System Configuration"}),(0,Ft.jsx)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Edit Configuration"})]}),"audit"===y&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udccb System Audit Logs"}),c.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.action}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:["User: ",e.user_name," \u2022 Subject: ",e.subject_type]})]}),(0,Ft.jsx)("div",{className:"text-gray-400 text-sm",children:new Date(e.timestamp).toLocaleString()})]})},e.id)))]}),N&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:S?"\u270f\ufe0f Edit User":"\ud83d\udc64 Create New User"}),(0,Ft.jsx)("button",{onClick:()=>{w(!1),C(null),q()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,Ft.jsx)("input",{type:"text",value:E.username,onChange:e=>P(d(d({},E),{},{username:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,Ft.jsx)("input",{type:"email",value:E.email,onChange:e=>P(d(d({},E),{},{email:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),(0,Ft.jsx)("input",{type:"text",value:E.first_name,onChange:e=>P(d(d({},E),{},{first_name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),(0,Ft.jsx)("input",{type:"text",value:E.last_name,onChange:e=>P(d(d({},E),{},{last_name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),(0,Ft.jsxs)("select",{value:E.role,onChange:e=>P(d(d({},E),{},{role:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"receptionist",children:"Receptionist"}),(0,Ft.jsx)("option",{value:"nurse",children:"Nurse"}),(0,Ft.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Ft.jsx)("option",{value:"manager",children:"Manager"}),(0,Ft.jsx)("option",{value:"admin",children:"Administrator"})]})]}),!S&&(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,Ft.jsx)("input",{type:"password",value:E.password,onChange:e=>P(d(d({},E),{},{password:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!S})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,Ft.jsx)("input",{type:"password",value:E.confirm_password,onChange:e=>P(d(d({},E),{},{confirm_password:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!S})]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"user_active",checked:E.is_active,onChange:e=>P(d(d({},E),{},{is_active:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"user_active",className:"text-gray-300",children:"Active User"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:h?"Saving...":S?"Update User":"Create User"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{w(!1),C(null),q()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),_&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\u2699\ufe0f System Configuration"}),(0,Ft.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinic Name"}),(0,Ft.jsx)("input",{type:"text",value:T.clinic_name,onChange:e=>R(d(d({},T),{},{clinic_name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinic Phone"}),(0,Ft.jsx)("input",{type:"text",value:T.clinic_phone,onChange:e=>R(d(d({},T),{},{clinic_phone:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinic Address"}),(0,Ft.jsx)("textarea",{value:T.clinic_address,onChange:e=>R(d(d({},T),{},{clinic_address:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-20"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Timeout (hours)"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"24",value:T.session_timeout,onChange:e=>R(d(d({},T),{},{session_timeout:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Login Attempts"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"10",value:T.max_login_attempts,onChange:e=>R(d(d({},T),{},{max_login_attempts:parseInt(e.target.value)})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]})]}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"enable_synology",checked:T.enable_synology,onChange:e=>R(d(d({},T),{},{enable_synology:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"enable_synology",className:"text-gray-300",children:"Enable Synology Integration"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"enable_audit",checked:T.enable_audit_logging,onChange:e=>R(d(d({},T),{},{enable_audit_logging:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"enable_audit",className:"text-gray-300",children:"Enable Audit Logging"})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:h?"Saving...":"Save Configuration"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>k(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),h&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},en=e=>{let{setActiveModule:t}=e;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)("overview"),[c,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[f,v]=(0,s.useState)([]),[y,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)([]),[_,k]=(0,s.useState)({first_name:"",last_name:"",email:"",phone:"",role:"staff",department:"",hire_date:(new Date).toISOString().split("T")[0],salary:"",employment_type:"full_time",benefits_eligible:!0,vacation_days_allocated:15,sick_days_allocated:10,ssn:"",address:"",emergency_contact_name:"",emergency_contact_phone:""}),[S,C]=(0,s.useState)({employee_id:"",clock_in:"",clock_out:"",break_minutes:0,notes:""});(0,s.useEffect)((()=>{E()}),[]),(0,s.useEffect)((()=>{c&&P(c.id)}),[c]);const E=async()=>{l(!0);try{const e=await Ot.get("/employees");r(e.data||[])}catch(h){console.error("Failed to fetch employees:",h),p("Failed to fetch employees")}finally{l(!1)}},P=async e=>{try{const[t,n]=await Promise.all([Ot.get("/employees/".concat(e,"/time-entries")).catch((()=>({data:[]}))),Ot.get("/employees/".concat(e,"/payroll")).catch((()=>({data:[]})))]);v(t.data||[]),w(n.data||[])}catch(h){console.error("Error fetching employee data:",h)}};return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83d\udc65 Employee Management"}),(0,Ft.jsx)("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Add Employee"})]}),h&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:h}),b&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:b}),(0,Ft.jsxs)("div",{className:"flex space-x-6",children:[(0,Ft.jsxs)("div",{className:"w-1/3 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Staff Directory"}),a?(0,Ft.jsxs)("div",{className:"text-center py-4",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-2",children:"Loading employees..."})]}):(0,Ft.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[n.map((e=>(0,Ft.jsxs)("button",{onClick:()=>u(e),className:"w-full text-left p-3 rounded-lg border transition-colors ".concat((null===c||void 0===c?void 0:c.id)===e.id?"bg-blue-600 border-blue-500 text-white":"bg-white/10 border-white/20 text-blue-200 hover:bg-white/20"),children:[(0,Ft.jsxs)("div",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,Ft.jsxs)("div",{className:"text-sm opacity-75",children:[e.role," \u2022 ",e.department]}),(0,Ft.jsxs)("div",{className:"text-xs opacity-75",children:["ID: ",e.id," \u2022 ",e.employment_type]})]},e.id))),0===n.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No employees found. Add your first employee to get started."})]})]}),(0,Ft.jsx)("div",{className:"flex-1 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:c?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"mb-6 pb-4 border-b border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("h3",{className:"text-xl font-bold text-white",children:[c.first_name," ",c.last_name]}),(0,Ft.jsxs)("div",{className:"text-blue-200 space-y-1",children:[(0,Ft.jsxs)("p",{children:["Employee ID: ",c.id]}),(0,Ft.jsxs)("p",{children:["Role: ",c.role," - ",c.department]}),(0,Ft.jsxs)("p",{children:["Hire Date: ",c.hire_date]}),(0,Ft.jsxs)("p",{children:["Employment Type: ",c.employment_type]})]})]}),(0,Ft.jsxs)("div",{className:"space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{await Ot.post("/employees/".concat(e,"/clock-in")),g("Successfully clocked in"),P(e),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error clocking in:",h),p("Failed to clock in")}})(c.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Clock In"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{await Ot.post("/employees/".concat(e,"/clock-out")),g("Successfully clocked out"),P(e),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error clocking out:",h),p("Failed to clock out")}})(c.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Clock Out"})]})]})}),(0,Ft.jsx)("div",{className:"mb-4",children:(0,Ft.jsx)("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1",children:[{key:"overview",label:"Overview"},{key:"time",label:"Time Tracking",count:f.length},{key:"payroll",label:"Payroll",count:N.length},{key:"documents",label:"HR Documents"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>o(e.key),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(i===e.key?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:[e.label," ",void 0!==e.count&&"(".concat(e.count,")")]},e.key)))})}),(0,Ft.jsxs)("div",{className:"space-y-4",children:["overview"===i&&(0,Ft.jsx)("div",{className:"space-y-4",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Contact Information"}),(0,Ft.jsxs)("div",{className:"text-blue-200 text-sm space-y-1",children:[(0,Ft.jsxs)("p",{children:["\ud83d\udce7 ",c.email]}),(0,Ft.jsxs)("p",{children:["\ud83d\udcde ",c.phone]}),c.address&&(0,Ft.jsxs)("p",{children:["\ud83c\udfe0 ",c.address]})]})]}),(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Employment Details"}),(0,Ft.jsxs)("div",{className:"text-blue-200 text-sm space-y-1",children:[(0,Ft.jsxs)("p",{children:["\ud83d\udcb0 Salary: $",c.salary]}),(0,Ft.jsxs)("p",{children:["\ud83c\udfe5 Benefits Eligible: ",c.benefits_eligible?"Yes":"No"]}),(0,Ft.jsxs)("p",{children:["\ud83c\udfd6\ufe0f Vacation Days: ",c.vacation_days_allocated]}),(0,Ft.jsxs)("p",{children:["\ud83e\udd12 Sick Days: ",c.sick_days_allocated]})]})]}),(c.emergency_contact_name||c.emergency_contact_phone)&&(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Emergency Contact"}),(0,Ft.jsxs)("div",{className:"text-blue-200 text-sm space-y-1",children:[c.emergency_contact_name&&(0,Ft.jsxs)("p",{children:["\ud83d\udc64 ",c.emergency_contact_name]}),c.emergency_contact_phone&&(0,Ft.jsxs)("p",{children:["\ud83d\udcde ",c.emergency_contact_phone]})]})]})]})}),"time"===i&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white",children:"Time Tracking"}),(0,Ft.jsx)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Add Time Entry"})]}),0===f.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No time entries recorded. Use the clock in/out buttons or add manual entries."}):(0,Ft.jsx)("div",{className:"space-y-3",children:f.map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:new Date(e.clock_in).toLocaleDateString()}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[new Date(e.clock_in).toLocaleTimeString()," - "," ",e.clock_out?new Date(e.clock_out).toLocaleTimeString():"Still clocked in"]}),e.notes&&(0,Ft.jsx)("p",{className:"text-blue-300 text-xs mt-1",children:e.notes})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsx)("span",{className:"text-white font-medium",children:e.total_hours?"".concat(e.total_hours,"h"):"In progress"}),e.break_minutes>0&&(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:["Break: ",e.break_minutes,"min"]})]})]})},e.id)))})]}),"payroll"===i&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Payroll History"}),0===N.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No payroll records found."}):(0,Ft.jsx)("div",{className:"space-y-3",children:N.map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("p",{className:"text-white font-medium",children:["Pay Period: ",e.pay_period]}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:["Hours: ",e.total_hours," \u2022 Gross: $",e.gross_pay]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("span",{className:"text-green-300 font-medium",children:["$",e.net_pay]}),(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:"Net Pay"})]})]})},e.id)))})]}),"documents"===i&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"HR Documents"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{type:"contract",name:"Employment Contract",status:"Signed"},{type:"handbook",name:"Employee Handbook",status:"Acknowledged"},{type:"benefits",name:"Benefits Enrollment",status:"Completed"},{type:"tax",name:"Tax Forms (W-4)",status:"On File"}].map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:e.type})]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("Signed"===e.status||"Completed"===e.status||"On File"===e.status?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.status})]})},e.type)))})]})]})]}):(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,Ft.jsx)("h3",{className:"text-xl text-white mb-2",children:"Select an Employee"}),(0,Ft.jsx)("p",{className:"text-blue-200",children:"Choose an employee from the directory to view their details"})]})})]}),m&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add New Employee"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{l(!0),p("");const e=await Ot.post("/employees",_);r([...n,e.data]),k({first_name:"",last_name:"",email:"",phone:"",role:"staff",department:"",hire_date:(new Date).toISOString().split("T")[0],salary:"",employment_type:"full_time",benefits_eligible:!0,vacation_days_allocated:15,sick_days_allocated:10,ssn:"",address:"",emergency_contact_name:"",emergency_contact_phone:""}),x(!1),g("Employee added successfully"),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error adding employee:",h),p("Failed to add employee")}finally{l(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Ft.jsx)("input",{type:"text",value:_.first_name,onChange:e=>k((t=>d(d({},t),{},{first_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Ft.jsx)("input",{type:"text",value:_.last_name,onChange:e=>k((t=>d(d({},t),{},{last_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ft.jsx)("input",{type:"email",value:_.email,onChange:e=>k((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ft.jsx)("input",{type:"tel",value:_.phone,onChange:e=>k((t=>d(d({},t),{},{phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Ft.jsxs)("select",{value:_.role,onChange:e=>k((t=>d(d({},t),{},{role:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Ft.jsx)("option",{value:"staff",children:"Staff"}),(0,Ft.jsx)("option",{value:"nurse",children:"Nurse"}),(0,Ft.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Ft.jsx)("option",{value:"administrator",children:"Administrator"}),(0,Ft.jsx)("option",{value:"technician",children:"Technician"}),(0,Ft.jsx)("option",{value:"receptionist",children:"Receptionist"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,Ft.jsx)("input",{type:"text",value:_.department,onChange:e=>k((t=>d(d({},t),{},{department:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Nursing, Administration",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hire Date"}),(0,Ft.jsx)("input",{type:"date",value:_.hire_date,onChange:e=>k((t=>d(d({},t),{},{hire_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Salary"}),(0,Ft.jsx)("input",{type:"number",value:_.salary,onChange:e=>k((t=>d(d({},t),{},{salary:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"50000"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Type"}),(0,Ft.jsxs)("select",{value:_.employment_type,onChange:e=>k((t=>d(d({},t),{},{employment_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"full_time",children:"Full Time"}),(0,Ft.jsx)("option",{value:"part_time",children:"Part Time"}),(0,Ft.jsx)("option",{value:"contractor",children:"Contractor"}),(0,Ft.jsx)("option",{value:"intern",children:"Intern"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Ft.jsx)("textarea",{value:_.address,onChange:e=>k((t=>d(d({},t),{},{address:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Full address..."})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),(0,Ft.jsx)("input",{type:"text",value:_.emergency_contact_name,onChange:e=>k((t=>d(d({},t),{},{emergency_contact_name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Phone"}),(0,Ft.jsx)("input",{type:"tel",value:_.emergency_contact_phone,onChange:e=>k((t=>d(d({},t),{},{emergency_contact_phone:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Adding...":"Add Employee"})]})]})]})}),y&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add Time Entry"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=d(d({},S),{},{employee_id:c.id});await Ot.post("/time-entries",e),j(!1),C({employee_id:"",clock_in:"",clock_out:"",break_minutes:0,notes:""}),P(c.id),g("Time entry added successfully"),setTimeout((()=>g("")),3e3)}catch(h){console.error("Error adding time entry:",h),p("Failed to add time entry")}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clock In Time"}),(0,Ft.jsx)("input",{type:"datetime-local",value:S.clock_in,onChange:e=>C((t=>d(d({},t),{},{clock_in:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clock Out Time"}),(0,Ft.jsx)("input",{type:"datetime-local",value:S.clock_out,onChange:e=>C((t=>d(d({},t),{},{clock_out:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Break Minutes"}),(0,Ft.jsx)("input",{type:"number",min:"0",value:S.break_minutes,onChange:e=>C((t=>d(d({},t),{},{break_minutes:parseInt(e.target.value)||0}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,Ft.jsx)("textarea",{value:S.notes,onChange:e=>C((t=>d(d({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Optional notes about this time entry..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Time Entry"})]})]})]})})]})},tn=e=>{let{setActiveModule:t}=e;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[f,v]=(0,s.useState)("all"),[y,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)({name:"",category:"",sku:"",current_stock:0,min_stock_level:0,unit_cost:0,supplier:"",expiry_date:"",location:"",notes:""});(0,s.useEffect)((()=>{_()}),[]);const _=async()=>{l(!0);try{const e=await Ot.get("/inventory");r(e.data||[]),x("")}catch(m){console.error("Failed to fetch inventory:",m),x("Failed to fetch inventory items.")}finally{l(!1)}},k=e=>{const{name:t,value:n}=e.target;w((e=>d(d({},e),{},{[t]:t.includes("stock")||"unit_cost"===t?Number(n):n})))},S=()=>{w({name:"",category:"",sku:"",current_stock:0,min_stock_level:0,unit_cost:0,supplier:"",expiry_date:"",location:"",notes:""}),u(null),o(!1),x(""),p("")},C=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{await Ot.post("/inventory/".concat(e,"/adjust-stock"),{adjustment:t,reason:n}),_(),p("Stock adjusted by ".concat(t>0?"+":"").concat(t)),setTimeout((()=>p("")),3e3)}catch(m){console.error("Failed to adjust stock:",m),x("Failed to adjust stock level.")}},E=n.filter((e=>{const t=e.name.toLowerCase().includes(b.toLowerCase())||e.sku.toLowerCase().includes(b.toLowerCase())||e.supplier.toLowerCase().includes(b.toLowerCase()),n="all"===f||e.category===f,r=!y||e.current_stock<=e.min_stock_level;return t&&n&&r})),P=[...new Set(n.map((e=>e.category)))].filter(Boolean),T={totalItems:n.length,lowStockItems:n.filter((e=>e.current_stock<=e.min_stock_level)).length,totalValue:n.reduce(((e,t)=>e+t.current_stock*t.unit_cost),0),categoriesCount:P.length};return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83d\udce6 Inventory Management"}),(0,Ft.jsx)("button",{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Add Item"})]}),m&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:m}),h&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:h}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Items"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-white",children:T.totalItems})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83d\udce6"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Low Stock"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold ".concat(T.lowStockItems>0?"text-red-400":"text-green-400"),children:T.lowStockItems})]}),(0,Ft.jsx)("div",{className:"text-2xl ".concat(T.lowStockItems>0?"text-red-400":"text-green-400"),children:"\u26a0\ufe0f"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Value"}),(0,Ft.jsxs)("p",{className:"text-2xl font-bold text-white",children:["$",T.totalValue.toLocaleString()]})]}),(0,Ft.jsx)("div",{className:"text-green-400 text-2xl",children:"\ud83d\udcb0"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Categories"}),(0,Ft.jsx)("p",{className:"text-2xl font-bold text-white",children:T.categoriesCount})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83c\udff7\ufe0f"})]})})]}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-1",children:"Search Items"}),(0,Ft.jsx)("input",{type:"text",value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by name, SKU, or supplier..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-blue-200 mb-1",children:"Category"}),(0,Ft.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Categories"}),P.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ft.jsx)("div",{className:"flex items-end",children:(0,Ft.jsxs)("label",{className:"flex items-center text-blue-200",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:y,onChange:e=>j(e.target.checked),className:"mr-2 rounded"}),"Show Low Stock Only"]})}),(0,Ft.jsx)("div",{className:"flex items-end",children:(0,Ft.jsx)("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Refresh"})})]})}),(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-medium text-white mb-4",children:["Inventory Items (",E.length,")"]}),a?(0,Ft.jsxs)("div",{className:"text-center py-8",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Ft.jsx)("p",{className:"text-blue-200 mt-2",children:"Loading inventory..."})]}):0===E.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:0===n.length?"No inventory items found. Add your first item to get started.":"No items match your search criteria."}):(0,Ft.jsx)("div",{className:"overflow-x-auto",children:(0,Ft.jsxs)("table",{className:"w-full text-sm",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{className:"border-b border-white/20",children:[(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Item"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"SKU"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Category"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Stock"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Min Level"}),(0,Ft.jsx)("th",{className:"text-right py-2 text-blue-200",children:"Unit Cost"}),(0,Ft.jsx)("th",{className:"text-right py-2 text-blue-200",children:"Total Value"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Actions"})]})}),(0,Ft.jsx)("tbody",{children:E.map((e=>(0,Ft.jsxs)("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[(0,Ft.jsx)("td",{className:"py-3",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:["Supplier: ",e.supplier]}),e.location&&(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:["Location: ",e.location]})]})}),(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:e.sku}),(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:e.category}),(0,Ft.jsx)("td",{className:"py-3 text-center",children:(0,Ft.jsx)("span",{className:"font-medium ".concat(e.current_stock<=e.min_stock_level?"text-red-400":"text-green-400"),children:e.current_stock})}),(0,Ft.jsx)("td",{className:"py-3 text-center text-blue-200",children:e.min_stock_level}),(0,Ft.jsxs)("td",{className:"py-3 text-right text-blue-200",children:["$",e.unit_cost]}),(0,Ft.jsxs)("td",{className:"py-3 text-right text-white font-medium",children:["$",(e.current_stock*e.unit_cost).toFixed(2)]}),(0,Ft.jsx)("td",{className:"py-3 text-center",children:(0,Ft.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{w({name:e.name,category:e.category,sku:e.sku,current_stock:e.current_stock,min_stock_level:e.min_stock_level,unit_cost:e.unit_cost,supplier:e.supplier,expiry_date:e.expiry_date,location:e.location,notes:e.notes}),u(e),o(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>C(e.id,1),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs",children:"+"}),(0,Ft.jsx)("button",{onClick:()=>C(e.id,-1),className:"bg-orange-600 hover:bg-orange-700 text-white px-2 py-1 rounded text-xs",children:"-"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this inventory item?"))try{await Ot.delete("/inventory/".concat(e)),r(n.filter((t=>t.id!==e))),p("Inventory item deleted successfully!"),setTimeout((()=>p("")),3e3)}catch(m){console.error("Failed to delete inventory item:",m),x("Failed to delete inventory item.")}})(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",children:"Del"})]})})]},e.id)))})]})})]}),i&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:c?"Edit Inventory Item":"Add New Inventory Item"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{let e;c?(e=await Ot.put("/inventory/".concat(c.id),N),r(n.map((t=>t.id===c.id?e.data:t))),p("Inventory item updated successfully!")):(e=await Ot.post("/inventory",N),r([...n,e.data]),p("Inventory item added successfully!")),S(),setTimeout((()=>p("")),3e3)}catch(m){console.error("Failed to save inventory item:",m),x("Failed to save inventory item.")}finally{l(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),(0,Ft.jsx)("input",{type:"text",name:"name",value:N.name,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),(0,Ft.jsx)("input",{type:"text",name:"sku",value:N.sku,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsx)("input",{type:"text",name:"category",value:N.category,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Medical Supplies, Equipment",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),(0,Ft.jsx)("input",{type:"text",name:"supplier",value:N.supplier,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),(0,Ft.jsx)("input",{type:"number",name:"current_stock",value:N.current_stock,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",min:"0",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Level"}),(0,Ft.jsx)("input",{type:"number",name:"min_stock_level",value:N.min_stock_level,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",min:"0",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Cost ($)"}),(0,Ft.jsx)("input",{type:"number",name:"unit_cost",value:N.unit_cost,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Ft.jsx)("input",{type:"date",name:"expiry_date",value:N.expiry_date,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),(0,Ft.jsx)("input",{type:"text",name:"location",value:N.location,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Storage Room A, Shelf 3"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,Ft.jsx)("textarea",{name:"notes",value:N.notes,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Additional notes about this item..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Saving...":c?"Update Item":"Add Item"})]})]})]})})]})},nn=e=>{let{setActiveModule:t}=e;const[n,r]=(0,s.useState)("dashboard"),[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[m,x]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)("current-month"),[_,k]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[E,P]=(0,s.useState)({description:"",amount:"",transaction_type:"expense",category:"",account_id:"",payment_method:"cash",transaction_date:(new Date).toISOString().split("T")[0],notes:""}),[T,R]=(0,s.useState)({name:"",category:"",period:"monthly",budgeted_amount:"",start_date:(new Date).toISOString().split("T")[0],end_date:"",notes:""});(0,s.useEffect)((()=>{D()}),[N]);const D=async()=>{p(!0);try{const[e,t,n,r]=await Promise.all([Ot.get("/financial-transactions").catch((()=>({data:[]}))),Ot.get("/financial-accounts").catch((()=>({data:[]}))),Ot.get("/budgets").catch((()=>({data:[]}))),Ot.get("/financial-reports?period=".concat(N)).catch((()=>({data:{}})))]);l(e.data||[]),o(t.data||[]),u(n.data||[]),x(r.data||{})}catch(_){console.error("Failed to fetch financial data:",_),k("Failed to fetch financial data")}finally{p(!1)}},A={totalRevenue:a.filter((e=>"revenue"===e.transaction_type)).reduce(((e,t)=>e+parseFloat(t.amount||0)),0),totalExpenses:a.filter((e=>"expense"===e.transaction_type)).reduce(((e,t)=>e+parseFloat(t.amount||0)),0),netIncome:0,totalBalance:i.reduce(((e,t)=>e+parseFloat(t.balance||0)),0)};return A.netIncome=A.totalRevenue-A.totalExpenses,(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\ud83d\udcb3 Financial Management"}),(0,Ft.jsxs)("div",{className:"space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Transaction"}),(0,Ft.jsx)("button",{onClick:()=>v(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Create Budget"})]})]}),_&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded-lg",children:_}),S&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-2 rounded-lg",children:S}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Revenue"}),(0,Ft.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:["$",A.totalRevenue.toLocaleString()]})]}),(0,Ft.jsx)("div",{className:"text-green-400 text-2xl",children:"\ud83d\udcb0"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Total Expenses"}),(0,Ft.jsxs)("p",{className:"text-2xl font-bold text-red-400",children:["$",A.totalExpenses.toLocaleString()]})]}),(0,Ft.jsx)("div",{className:"text-red-400 text-2xl",children:"\ud83d\udcb8"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Net Income"}),(0,Ft.jsxs)("p",{className:"text-2xl font-bold ".concat(A.netIncome>=0?"text-green-400":"text-red-400"),children:["$",A.netIncome.toLocaleString()]})]}),(0,Ft.jsx)("div",{className:"text-2xl ".concat(A.netIncome>=0?"text-green-400":"text-red-400"),children:"\ud83d\udcca"})]})}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Account Balance"}),(0,Ft.jsxs)("p",{className:"text-2xl font-bold text-blue-400",children:["$",A.totalBalance.toLocaleString()]})]}),(0,Ft.jsx)("div",{className:"text-blue-400 text-2xl",children:"\ud83c\udfe6"})]})})]}),(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white",children:"Financial Period"}),(0,Ft.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"current-month",children:"Current Month"}),(0,Ft.jsx)("option",{value:"last-month",children:"Last Month"}),(0,Ft.jsx)("option",{value:"current-quarter",children:"Current Quarter"}),(0,Ft.jsx)("option",{value:"current-year",children:"Current Year"}),(0,Ft.jsx)("option",{value:"last-year",children:"Last Year"})]})]})}),(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsx)("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1 mb-6",children:[{key:"dashboard",label:"Dashboard"},{key:"transactions",label:"Transactions",count:a.length},{key:"accounts",label:"Accounts",count:i.length},{key:"budgets",label:"Budgets",count:c.length},{key:"reports",label:"Reports"},{key:"reconciliation",label:"Reconciliation"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>r(e.key),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(n===e.key?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:[e.label," ",void 0!==e.count&&"(".concat(e.count,")")]},e.key)))}),"dashboard"===n&&(0,Ft.jsx)("div",{className:"space-y-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Recent Transactions"}),(0,Ft.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[a.slice(0,5).map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.description}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[e.category," \u2022 ",e.payment_method]})]}),(0,Ft.jsxs)("span",{className:"font-medium ".concat("revenue"===e.transaction_type?"text-green-400":"text-red-400"),children:["revenue"===e.transaction_type?"+":"-","$",e.amount]})]})},e.id))),0===a.length&&(0,Ft.jsx)("p",{className:"text-blue-300 text-center py-4",children:"No transactions recorded"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-medium text-white mb-4",children:"Account Balances"}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[i.map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[e.bank," \u2022 ",e.account_number]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("p",{className:"text-white font-medium",children:["$",e.balance.toLocaleString()]}),(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:e.type})]})]})},e.id))),0===i.length&&(0,Ft.jsx)("p",{className:"text-blue-300 text-center py-4",children:"No accounts configured"})]})]})]})}),"transactions"===n&&(0,Ft.jsx)("div",{children:(0,Ft.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ft.jsxs)("table",{className:"w-full text-sm",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{className:"border-b border-white/20",children:[(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Date"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Description"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Category"}),(0,Ft.jsx)("th",{className:"text-left py-2 text-blue-200",children:"Type"}),(0,Ft.jsx)("th",{className:"text-right py-2 text-blue-200",children:"Amount"}),(0,Ft.jsx)("th",{className:"text-center py-2 text-blue-200",children:"Method"})]})}),(0,Ft.jsx)("tbody",{children:a.map((e=>(0,Ft.jsxs)("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:new Date(e.transaction_date).toLocaleDateString()}),(0,Ft.jsx)("td",{className:"py-3",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.description}),e.notes&&(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:e.notes})]})}),(0,Ft.jsx)("td",{className:"py-3 text-blue-200",children:e.category}),(0,Ft.jsx)("td",{className:"py-3",children:(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("revenue"===e.transaction_type?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.transaction_type})}),(0,Ft.jsxs)("td",{className:"py-3 text-right font-medium ".concat("revenue"===e.transaction_type?"text-green-400":"text-red-400"),children:["revenue"===e.transaction_type?"+":"-","$",e.amount]}),(0,Ft.jsx)("td",{className:"py-3 text-center text-blue-200",children:e.payment_method})]},e.id)))})]}),0===a.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No transactions recorded. Add your first transaction to get started."})]})}),"accounts"===n&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[i.map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-white font-medium text-lg",children:e.name}),(0,Ft.jsxs)("div",{className:"text-blue-200 text-sm space-y-1",children:[(0,Ft.jsxs)("p",{children:["Bank: ",e.bank]}),(0,Ft.jsxs)("p",{children:["Account: ",e.account_number]}),(0,Ft.jsxs)("p",{children:["Type: ",e.type]})]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("p",{className:"text-2xl font-bold text-white",children:["$",e.balance.toLocaleString()]}),e.is_primary&&(0,Ft.jsx)("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:"Primary"})]})]})},e.id))),0===i.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No bank accounts configured. Add your first account to get started."})]}),"budgets"===n&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[c.map((e=>(0,Ft.jsx)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-white font-medium",children:e.name}),(0,Ft.jsxs)("p",{className:"text-blue-200 text-sm",children:[e.category," \u2022 ",e.period]}),(0,Ft.jsxs)("p",{className:"text-blue-300 text-xs",children:[e.start_date," to ",e.end_date]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("p",{className:"text-white font-medium",children:["$",e.budgeted_amount]}),(0,Ft.jsx)("p",{className:"text-green-400 text-sm",children:"$0 spent"}),(0,Ft.jsx)("p",{className:"text-blue-300 text-xs",children:"$0 remaining"})]})]})},e.id))),0===c.length&&(0,Ft.jsx)("div",{className:"text-center py-8 text-blue-300",children:"No budgets created. Set up your first budget to track spending."})]}),"reports"===n&&(0,Ft.jsx)("div",{className:"space-y-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Profit & Loss"}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Monthly P&L statement"}),(0,Ft.jsx)("button",{className:"mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Generate"})]}),(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Cash Flow"}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Cash flow analysis"}),(0,Ft.jsx)("button",{className:"mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Generate"})]}),(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-2",children:"Balance Sheet"}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Assets and liabilities"}),(0,Ft.jsx)("button",{className:"mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Generate"})]})]})}),"reconciliation"===n&&(0,Ft.jsx)("div",{className:"space-y-4",children:(0,Ft.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[(0,Ft.jsx)("h4",{className:"text-white font-medium mb-4",children:"Account Reconciliation"}),(0,Ft.jsx)("p",{className:"text-blue-200 mb-4",children:"Reconcile your bank statements with recorded transactions to ensure accuracy."}),(0,Ft.jsx)("div",{className:"space-y-3",children:i.map((e=>(0,Ft.jsxs)("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-3",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("p",{className:"text-blue-200 text-sm",children:"Last reconciled: Never"})]}),(0,Ft.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Reconcile"})]},e.id)))})]})})]}),b&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add Transaction"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{p(!0);const e=await Ot.post("/financial-transactions",E);l([...a,e.data]),P({description:"",amount:"",transaction_type:"expense",category:"",account_id:"",payment_method:"cash",transaction_date:(new Date).toISOString().split("T")[0],notes:""}),g(!1),C("Transaction added successfully"),setTimeout((()=>C("")),3e3)}catch(_){console.error("Error adding transaction:",_),k("Failed to add transaction")}finally{p(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("input",{type:"text",value:E.description,onChange:e=>P((t=>d(d({},t),{},{description:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:E.amount,onChange:e=>P((t=>d(d({},t),{},{amount:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Ft.jsxs)("select",{value:E.transaction_type,onChange:e=>P((t=>d(d({},t),{},{transaction_type:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"revenue",children:"Revenue"}),(0,Ft.jsx)("option",{value:"expense",children:"Expense"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsx)("input",{type:"text",value:E.category,onChange:e=>P((t=>d(d({},t),{},{category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Medical Supplies, Consultation Fee",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,Ft.jsxs)("select",{value:E.payment_method,onChange:e=>P((t=>d(d({},t),{},{payment_method:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"cash",children:"Cash"}),(0,Ft.jsx)("option",{value:"check",children:"Check"}),(0,Ft.jsx)("option",{value:"credit_card",children:"Credit Card"}),(0,Ft.jsx)("option",{value:"debit_card",children:"Debit Card"}),(0,Ft.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Ft.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Ft.jsx)("input",{type:"date",value:E.transaction_date,onChange:e=>P((t=>d(d({},t),{},{transaction_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Ft.jsx)("textarea",{value:E.notes,onChange:e=>P((t=>d(d({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Additional details..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h?"Adding...":"Add Transaction"})]})]})]})}),f&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md m-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Create Budget"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{p(!0);const e=await Ot.post("/budgets",T);u([...c,e.data]),R({name:"",category:"",period:"monthly",budgeted_amount:"",start_date:(new Date).toISOString().split("T")[0],end_date:"",notes:""}),v(!1),C("Budget created successfully"),setTimeout((()=>C("")),3e3)}catch(_){console.error("Error adding budget:",_),k("Failed to create budget")}finally{p(!1)}},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Name"}),(0,Ft.jsx)("input",{type:"text",value:T.name,onChange:e=>R((t=>d(d({},t),{},{name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsx)("input",{type:"text",value:T.category,onChange:e=>R((t=>d(d({},t),{},{category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Medical Supplies",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),(0,Ft.jsxs)("select",{value:T.period,onChange:e=>R((t=>d(d({},t),{},{period:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Ft.jsx)("option",{value:"quarterly",children:"Quarterly"}),(0,Ft.jsx)("option",{value:"yearly",children:"Yearly"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Amount ($)"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:T.budgeted_amount,onChange:e=>R((t=>d(d({},t),{},{budgeted_amount:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,Ft.jsx)("input",{type:"date",value:T.start_date,onChange:e=>R((t=>d(d({},t),{},{start_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,Ft.jsx)("input",{type:"date",value:T.end_date,onChange:e=>R((t=>d(d({},t),{},{end_date:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Ft.jsx)("textarea",{value:T.notes,onChange:e=>R((t=>d(d({},t),{},{notes:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Budget description..."})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:h?"Creating...":"Create Budget"})]})]})]})})]})},rn=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)("dashboard"),[w,_]=(0,s.useState)(null),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)({recipient_type:"staff",recipient_id:"",subject:"",message:"",priority:"normal",message_type:"general",template_id:""}),[R,D]=(0,s.useState)({name:"",subject:"",content:"",category:"general",variables:[],is_active:!0}),[A,O]=(0,s.useState)({unreadMessages:0,todayMessages:0,activeTemplates:0,pendingNotifications:0}),[F,L]=(0,s.useState)([]),I=e=>{y(e);const t=setTimeout((()=>y("")),3e3);L((e=>[...e,t]))};(0,s.useEffect)((()=>()=>(F.forEach((e=>clearTimeout(e))),void L([]))),[]),(0,s.useEffect)((()=>{M()}),[]);const M=async()=>{try{b(!0);const[e,t,n,r,s]=await Promise.all([Ot.get("/communications/conversations").catch((()=>({data:[]}))),Ot.get("/communications/templates").catch((()=>({data:[]}))),Ot.get("/notifications").catch((()=>({data:[]}))),Ot.get("/employees").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]),c(n.data||[]),m(r.data||[]),h(s.data||[]);const l=(new Date).toISOString().split("T")[0];O({unreadMessages:(e.data||[]).filter((e=>!e.is_read)).length,todayMessages:(e.data||[]).filter((e=>{var t;return null===(t=e.created_at)||void 0===t?void 0:t.startsWith(l)})).length,activeTemplates:(t.data||[]).filter((e=>e.is_active)).length,pendingNotifications:(n.data||[]).filter((e=>!e.is_read)).length})}catch(g){console.error("Error fetching communication data:",g),f("Failed to fetch communication data")}finally{b(!1)}},z=async e=>{e.preventDefault();try{b(!0),f("");const e=d(d({},P),{},{sender_id:null===n||void 0===n?void 0:n.id,sender_type:"staff",sent_at:(new Date).toISOString()}),t=await Ot.post("/communications/messages",e);a([t.data,...r]),I("Message sent successfully!"),S(!1),q(),M()}catch(g){var t,s;console.error("Error sending message:",g),f((null===(t=g.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to send message")}finally{b(!1)}},U=async e=>{e.preventDefault();try{b(!0),f("");const e=d(d({},R),{},{created_by:null===n||void 0===n?void 0:n.id,created_at:(new Date).toISOString()}),t=await Ot.post("/communications/templates",e);i([...l,t.data]),I("Message template created successfully!"),E(!1),B()}catch(g){var t,r;console.error("Error creating template:",g),f((null===(t=g.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create template")}finally{b(!1)}},q=()=>{T({recipient_type:"staff",recipient_id:"",subject:"",message:"",priority:"normal",message_type:"general",template_id:""})},B=()=>{D({name:"",subject:"",content:"",category:"general",variables:[],is_active:!0})},V=e=>({urgent:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",normal:"bg-blue-100 text-blue-800",low:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800");return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udcac Communication Center"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udce7 New Message"}),(0,Ft.jsx)("button",{onClick:()=>E(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udcdd New Template"}),(0,Ft.jsx)("button",{onClick:M,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),v&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",v]})}),g&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",g]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"messages",name:"All Messages",icon:"\ud83d\udce7"},{id:"templates",name:"Templates",icon:"\ud83d\udcdd"},{id:"notifications",name:"Notifications",icon:"\ud83d\udd14"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>N(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(j===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===j&&(()=>{const e=r.slice(0,8),t=r.filter((e=>!e.is_read));return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.unreadMessages}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Unread Messages"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udce7"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.todayMessages}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Today's Messages"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udce8"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.activeTemplates}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Active Templates"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udcdd"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.pendingNotifications}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Notifications"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udd14"})]})})]}),t.length>0&&(0,Ft.jsxs)("div",{className:"bg-yellow-500/20 border border-yellow-400/50 rounded-lg p-6",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["\ud83d\udce7 Unread Messages (",t.length,")"]}),(0,Ft.jsx)("div",{className:"space-y-3",children:t.slice(0,3).map((e=>{var t,n;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.subject}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(V(e.priority)),children:e.priority})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["From: ",null===(t=u.find((t=>t.id===e.sender_id)))||void 0===t?void 0:t.first_name," ",null===(n=u.find((t=>t.id===e.sender_id)))||void 0===n?void 0:n.last_name]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:new Date(e.sent_at).toLocaleString()})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>{_(e),(async e=>{try{await Ot.put("/communications/conversations/".concat(e,"/read")),a(r.map((t=>t.id===e?d(d({},t),{},{is_read:!0}):t))),M()}catch(g){console.error("Error marking message as read:",g),f("Failed to update message status")}})(e.id)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Read"})})]})},e.id)}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcac Recent Messages"}),0===e.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcac"}),(0,Ft.jsx)("p",{children:"No messages yet"}),(0,Ft.jsx)("button",{onClick:()=>S(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Send First Message"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n,r,s,a,l;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4 ".concat(e.is_read?"":"border-yellow-400/50"),children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.subject}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(V(e.priority)),children:e.priority}),!e.is_read&&(0,Ft.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs",children:"NEW"})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["staff"===e.recipient_type?"To Staff:":"To Patient:","staff"===e.recipient_type?null===(t=u.find((t=>t.id===e.recipient_id)))||void 0===t?void 0:t.first_name:null===(n=x.find((t=>t.id===e.recipient_id)))||void 0===n||null===(r=n.name)||void 0===r||null===(s=r[0])||void 0===s||null===(a=s.given)||void 0===a?void 0:a[0]]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[null===(l=e.message)||void 0===l?void 0:l.substring(0,100),"..."]})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400",children:new Date(e.sent_at).toLocaleDateString()})]})},e.id)}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udcdd Quick Message Templates"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.filter((e=>e.is_active)).slice(0,6).map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.subject}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Category: ",e.category]}),(0,Ft.jsx)("button",{onClick:()=>{T((t=>d(d({},t),{},{subject:e.subject,message:e.content,template_id:e.id}))),S(!0)},className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Use Template"})]},e.id)))})]})]})})(),"messages"===j&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udce7 All Messages"}),r.map((e=>(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsx)("div",{className:"flex items-center justify-between",children:(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.subject}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(V(e.priority)),children:e.priority})]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.message})]})})},e.id)))]}),"templates"===j&&(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\ud83d\udcdd Message Templates"}),l.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("div",{className:"text-gray-300 text-sm",children:e.subject}),(0,Ft.jsxs)("div",{className:"text-gray-400 text-sm mt-1",children:["Category: ",e.category]})]},e.id)))]}),"notifications"===j&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd14 System Notifications"}),(0,Ft.jsx)("p",{className:"text-gray-300",children:"Advanced notification management coming soon..."})]}),k&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udce7 Send New Message"}),(0,Ft.jsx)("button",{onClick:()=>{S(!1),q()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient Type"}),(0,Ft.jsxs)("select",{value:P.recipient_type,onChange:e=>{T(d(d({},P),{},{recipient_type:e.target.value,recipient_id:""}))},className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"staff",children:"Staff Member"}),(0,Ft.jsx)("option",{value:"patient",children:"Patient"}),(0,Ft.jsx)("option",{value:"external",children:"External Provider"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient"}),(0,Ft.jsxs)("select",{value:P.recipient_id,onChange:e=>T(d(d({},P),{},{recipient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Recipient"}),"staff"===P.recipient_type?u.map((e=>(0,Ft.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," - ",e.role]},e.id))):x.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),(0,Ft.jsxs)("select",{value:P.priority,onChange:e=>T(d(d({},P),{},{priority:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"low",children:"Low"}),(0,Ft.jsx)("option",{value:"normal",children:"Normal"}),(0,Ft.jsx)("option",{value:"high",children:"High"}),(0,Ft.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message Type"}),(0,Ft.jsxs)("select",{value:P.message_type,onChange:e=>T(d(d({},P),{},{message_type:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"general",children:"General"}),(0,Ft.jsx)("option",{value:"clinical",children:"Clinical"}),(0,Ft.jsx)("option",{value:"administrative",children:"Administrative"}),(0,Ft.jsx)("option",{value:"emergency",children:"Emergency"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),(0,Ft.jsx)("input",{type:"text",value:P.subject,onChange:e=>T(d(d({},P),{},{subject:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Message subject...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),(0,Ft.jsx)("textarea",{value:P.message,onChange:e=>T(d(d({},P),{},{message:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-32",placeholder:"Type your message here...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Use Template (Optional)"}),(0,Ft.jsxs)("select",{value:P.template_id,onChange:e=>{const t=l.find((t=>t.id===e.target.value));T(d(d({},P),{},t?{template_id:e.target.value,subject:t.subject,message:t.content}:{template_id:""}))},className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"",children:"No template"}),l.filter((e=>e.is_active)).map((e=>(0,Ft.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Sending...":"Send Message"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{S(!1),q()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),C&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\ud83d\udcdd Create Message Template"}),(0,Ft.jsx)("button",{onClick:()=>{E(!1),B()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name"}),(0,Ft.jsx)("input",{type:"text",value:R.name,onChange:e=>D(d(d({},R),{},{name:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Appointment Reminder, Lab Results, etc.",required:!0})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,Ft.jsxs)("select",{value:R.category,onChange:e=>D(d(d({},R),{},{category:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"general",children:"General"}),(0,Ft.jsx)("option",{value:"appointment",children:"Appointment"}),(0,Ft.jsx)("option",{value:"clinical",children:"Clinical"}),(0,Ft.jsx)("option",{value:"billing",children:"Billing"}),(0,Ft.jsx)("option",{value:"emergency",children:"Emergency"})]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"template_active",checked:R.is_active,onChange:e=>D(d(d({},R),{},{is_active:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"template_active",className:"text-gray-300",children:"Active Template"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),(0,Ft.jsx)("input",{type:"text",value:R.subject,onChange:e=>D(d(d({},R),{},{subject:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Template subject line...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content"}),(0,Ft.jsx)("textarea",{value:R.content,onChange:e=>D(d(d({},R),{},{content:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-32",placeholder:"Template message content... Use {{patient_name}}, {{date}}, {{time}} for variables",required:!0})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:p?"Creating...":"Create Template"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{E(!1),B()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),p&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},sn=e=>{let{setActiveModule:t}=e;const{user:n}=It(),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[v,y]=(0,s.useState)("dashboard"),[j,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[C,E]=(0,s.useState)(""),[P,T]=(0,s.useState)({patient_id:"",referring_provider_id:"",specialist_id:"",specialty:"",urgency:"routine",reason:"",clinical_notes:"",icd10_codes:[],requested_services:[],preferred_date:"",insurance_authorization_required:!1}),[R,D]=(0,s.useState)({name:"",specialty:"",practice_name:"",phone:"",email:"",address:"",accepts_referrals:!0,referral_process:"fax"}),[A,O]=(0,s.useState)({totalReferrals:0,pendingReferrals:0,completedReferrals:0,urgentReferrals:0}),[F,L]=(0,s.useState)([]),I=e=>{f(e);const t=setTimeout((()=>f("")),3e3);L((e=>[...e,t]))};(0,s.useEffect)((()=>()=>F.forEach((e=>clearTimeout(e)))),[]),(0,s.useEffect)((()=>{M()}),[C]);const M=async()=>{try{h(!0);const[e,t,n,r]=await Promise.all([Ot.get("/referrals").catch((()=>({data:[]}))),Ot.get("/referrals/specialists").catch((()=>({data:[]}))),Ot.get("/patients").catch((()=>({data:[]}))),Ot.get("/providers").catch((()=>({data:[]})))]);a(e.data||[]),i(t.data||[]),c(n.data||[]),m(r.data||[]);const s=e.data||[];O({totalReferrals:s.length,pendingReferrals:s.filter((e=>"pending"===e.status)).length,completedReferrals:s.filter((e=>"completed"===e.status)).length,urgentReferrals:s.filter((e=>"urgent"===e.urgency)).length})}catch(p){console.error("Error fetching referral data:",p),b("Failed to fetch referral data")}finally{h(!1)}},z=async e=>{e.preventDefault();try{h(!0),b("");const e=d(d({},P),{},{referring_provider_id:null===n||void 0===n?void 0:n.id,referral_date:(new Date).toISOString(),status:"pending"}),t=k?await Ot.put("/referrals/".concat(k.id),e):await Ot.post("/referrals",e);k?(a(r.map((e=>e.id===k.id?t.data:e))),I("Referral updated successfully!")):(a([...r,t.data]),I("Referral created successfully!")),N(!1),S(null),U()}catch(p){var t,s;console.error("Error saving referral:",p),b((null===(t=p.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to save referral")}finally{h(!1)}},U=()=>{T({patient_id:"",referring_provider_id:"",specialist_id:"",specialty:"",urgency:"routine",reason:"",clinical_notes:"",icd10_codes:[],requested_services:[],preferred_date:"",insurance_authorization_required:!1})},q=e=>{var t;S(e),T({patient_id:e.patient_id,referring_provider_id:e.referring_provider_id,specialist_id:e.specialist_id,specialty:e.specialty,urgency:e.urgency,reason:e.reason,clinical_notes:e.clinical_notes,icd10_codes:e.icd10_codes||[],requested_services:e.requested_services||[],preferred_date:(null===(t=e.preferred_date)||void 0===t?void 0:t.split("T")[0])||"",insurance_authorization_required:e.insurance_authorization_required||!1}),N(!0)},B=e=>({routine:"bg-blue-100 text-blue-800",urgent:"bg-orange-100 text-orange-800",stat:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),V=e=>({pending:"bg-yellow-100 text-yellow-800",scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"),H=["Cardiology","Dermatology","Endocrinology","Gastroenterology","Neurology","Oncology","Orthopedics","Psychiatry","Pulmonology","Rheumatology","Urology","Ophthalmology","ENT","General Surgery"];return(0,Ft.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\ud83d\udd17 Referral Management"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd17 New Referral"}),(0,Ft.jsx)("button",{onClick:()=>_(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udc68\u200d\u2695\ufe0f Add Specialist"}),(0,Ft.jsx)("button",{onClick:M,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 Refresh"}),(0,Ft.jsx)("button",{onClick:()=>t("dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})]}),g&&(0,Ft.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-green-300",children:["\u2705 ",g]})}),p&&(0,Ft.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("p",{className:"text-red-300",children:["\u274c ",p]})}),(0,Ft.jsx)("div",{className:"border-b border-white/20 mb-6",children:(0,Ft.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"referrals",name:"All Referrals",icon:"\ud83d\udd17"},{id:"specialists",name:"Specialists",icon:"\ud83d\udc68\u200d\u2695\ufe0f"},{id:"reports",name:"Reports",icon:"\ud83d\udccb"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>y(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(v===e.id?"border-blue-400 text-blue-400":"border-transparent text-gray-300 hover:text-white"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),"dashboard"===v&&(()=>{const e=r.slice(0,8),t=r.filter((e=>"urgent"===e.urgency||"stat"===e.urgency));return(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.totalReferrals}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Total Referrals"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udd17"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.pendingReferrals}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Pending"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\u23f3"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:A.urgentReferrals}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Urgent"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udea8"})]})}),(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-white",children:l.length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300",children:"Specialists"})]}),(0,Ft.jsx)("div",{className:"text-2xl",children:"\ud83d\udc68\u200d\u2695\ufe0f"})]})})]}),t.length>0&&(0,Ft.jsxs)("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udea8 Urgent Referrals Requiring Attention"}),(0,Ft.jsx)("div",{className:"space-y-3",children:t.map((e=>{var t,n,r,s,a,i,c,d;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[null===(t=o.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",null===(a=o.find((t=>t.id===e.patient_id)))||void 0===a||null===(i=a.name)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.family]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(B(e.urgency)),children:e.urgency})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Specialty: ",e.specialty," \u2022 Reason: ",e.reason]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Specialist: ",null===(d=l.find((t=>t.id===e.specialist_id)))||void 0===d?void 0:d.name]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>q(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Update"})})]})},e.id)}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Specialty"}),(0,Ft.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"",children:"All Specialties"}),H.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udd17 Recent Referrals"}),0===e.length?(0,Ft.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Ft.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd17"}),(0,Ft.jsx)("p",{children:"No referrals created yet"}),(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Create First Referral"})]}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>{var t,n,s,i,c,u,m,x;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[null===(t=o.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(s=n[0])||void 0===s||null===(i=s.given)||void 0===i?void 0:i[0]," ",null===(c=o.find((t=>t.id===e.patient_id)))||void 0===c||null===(u=c.name)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.family]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(V(e.status)),children:e.status}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(B(e.urgency)),children:e.urgency})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:["Specialty: ",e.specialty," \u2022 Reason: ",e.reason]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Specialist: ",null===(x=l.find((t=>t.id===e.specialist_id)))||void 0===x?void 0:x.name," \u2022 Date: ",new Date(e.referral_date).toLocaleDateString()]}),e.icd10_codes&&e.icd10_codes.length>0&&(0,Ft.jsxs)("div",{className:"text-sm text-blue-400 mt-1",children:["ICD-10: ",e.icd10_codes.map((e=>e.code)).join(", ")]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>q(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"}),"pending"===e.status&&(0,Ft.jsx)("button",{onClick:()=>(async(e,t)=>{try{await Ot.put("/referrals/".concat(e,"/status"),{status:t}),a(r.map((n=>n.id===e?d(d({},n),{},{status:t}):n))),I("Referral ".concat(t," successfully!")),M()}catch(p){console.error("Error updating referral:",p),b("Failed to update referral status")}})(e.id,"scheduled"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Schedule"})]})]})},e.id)}))})]}),(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\ud83d\udc68\u200d\u2695\ufe0f Specialist Directory"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.slice(0,9).map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("div",{className:"text-sm text-blue-300 mt-1",children:e.specialty}),(0,Ft.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.practice_name}),(0,Ft.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.phone}),e.accepts_referrals&&(0,Ft.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"\u2705 Accepting Referrals"})]},e.id)))})]})]})})(),"referrals"===v&&(0,Ft.jsx)("div",{className:"space-y-4",children:r.filter((e=>!C||e.specialty===C)).map((e=>{var t,n,r,s,a,l,i;return(0,Ft.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("div",{className:"text-white font-medium",children:[null===(t=o.find((t=>t.id===e.patient_id)))||void 0===t||null===(n=t.name)||void 0===n||null===(r=n[0])||void 0===r||null===(s=r.given)||void 0===s?void 0:s[0]," ",null===(a=o.find((t=>t.id===e.patient_id)))||void 0===a||null===(l=a.name)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.family]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(V(e.status)),children:e.status})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[e.specialty," \u2022 ",e.reason]})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>q(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Edit"})})]})},e.id)}))}),"specialists"===v&&(0,Ft.jsx)("div",{className:"space-y-4",children:l.map((e=>(0,Ft.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[(0,Ft.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,Ft.jsx)("div",{className:"text-blue-300 text-sm",children:e.specialty}),(0,Ft.jsx)("div",{className:"text-gray-300 text-sm",children:e.practice_name}),(0,Ft.jsxs)("div",{className:"text-gray-300 text-sm",children:[e.phone," \u2022 ",e.email]})]},e.id)))}),"reports"===v&&(0,Ft.jsxs)("div",{className:"text-white",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udccb Referral Reports"}),(0,Ft.jsx)("p",{className:"text-gray-300",children:"Referral analytics and reporting coming soon..."})]}),j&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-semibold text-white",children:k?"\u270f\ufe0f Edit Referral":"\ud83d\udd17 New Referral"}),(0,Ft.jsx)("button",{onClick:()=>{N(!1),S(null),U()},className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,Ft.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Patient"}),(0,Ft.jsxs)("select",{value:P.patient_id,onChange:e=>T(d(d({},P),{},{patient_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Patient"}),o.map((e=>{var t,n,r,s,a;return(0,Ft.jsxs)("option",{value:e.id,children:[null===(t=e.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0]," ",null===(s=e.name)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.family]},e.id)}))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specialty"}),(0,Ft.jsxs)("select",{value:P.specialty,onChange:e=>T(d(d({},P),{},{specialty:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Specialty"}),H.map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specialist"}),(0,Ft.jsxs)("select",{value:P.specialist_id,onChange:e=>T(d(d({},P),{},{specialist_id:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[(0,Ft.jsx)("option",{value:"",children:"Select Specialist"}),l.filter((e=>!P.specialty||e.specialty===P.specialty)).map((e=>(0,Ft.jsxs)("option",{value:e.id,children:[e.name," - ",e.practice_name]},e.id)))]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Urgency"}),(0,Ft.jsxs)("select",{value:P.urgency,onChange:e=>T(d(d({},P),{},{urgency:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,Ft.jsx)("option",{value:"routine",children:"Routine"}),(0,Ft.jsx)("option",{value:"urgent",children:"Urgent"}),(0,Ft.jsx)("option",{value:"stat",children:"STAT"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason for Referral"}),(0,Ft.jsx)("input",{type:"text",value:P.reason,onChange:e=>T(d(d({},P),{},{reason:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Primary reason for referral...",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ICD-10 Diagnosis Codes"}),(0,Ft.jsx)(Bt,{selectedCodes:P.icd10_codes,onSelect:(e,t)=>{e?P.icd10_codes.some((t=>t.code===e.code))||T((t=>d(d({},t),{},{icd10_codes:[...t.icd10_codes,e]}))):t&&T((e=>d(d({},e),{},{icd10_codes:t})))},placeholder:"Search diagnostic codes for referral..."})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clinical Notes"}),(0,Ft.jsx)("textarea",{value:P.clinical_notes,onChange:e=>T(d(d({},P),{},{clinical_notes:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white h-24",placeholder:"Clinical context, history, and relevant information..."})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Date"}),(0,Ft.jsx)("input",{type:"date",value:P.preferred_date,onChange:e=>T(d(d({},P),{},{preferred_date:e.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"insurance_auth_required",checked:P.insurance_authorization_required,onChange:e=>T(d(d({},P),{},{insurance_authorization_required:e.target.checked})),className:"rounded"}),(0,Ft.jsx)("label",{htmlFor:"insurance_auth_required",className:"text-gray-300",children:"Insurance Authorization Required"})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,Ft.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:x?"Saving...":k?"Update Referral":"Create Referral"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{N(!1),S(null),U()},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})}),x&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:(0,Ft.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-white",children:"Loading..."})]})})]})},an=()=>(0,Ft.jsx)("div",{className:"space-y-6",children:(0,Ft.jsxs)("div",{className:"text-center py-12 text-white",children:[(0,Ft.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\ud83d\udcca ClinicHub Dashboard"}),(0,Ft.jsx)("p",{className:"text-blue-200 mb-8",children:"Complete Practice Management System"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ft.jsxs)("div",{className:"bg-white/20 backdrop-blur-md p-6 rounded-lg border border-white/30",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Total Patients"}),(0,Ft.jsx)("p",{className:"text-3xl font-bold text-blue-200",children:"0"})]}),(0,Ft.jsxs)("div",{className:"bg-white/20 backdrop-blur-md p-6 rounded-lg border border-white/30",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Today's Appointments"}),(0,Ft.jsx)("p",{className:"text-3xl font-bold text-green-200",children:"0"})]}),(0,Ft.jsxs)("div",{className:"bg-white/20 backdrop-blur-md p-6 rounded-lg border border-white/30",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Low Stock Items"}),(0,Ft.jsx)("p",{className:"text-3xl font-bold text-red-200",children:"0"})]})]})]})}),ln=()=>{const{user:e,logout:t}=It(),[n,r]=(0,s.useState)("dashboard"),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,b]=(0,s.useState)([]),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),[j,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{w()}),[]);const w=async()=>{try{const e=await Ot.get("/auth/synology-status");l(e.data)}catch(e){console.error("Failed to fetch Synology status:",e)}};return(0,Ft.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[(0,Ft.jsx)("div",{className:"bg-white/10 backdrop-blur-md border-b border-white/20 px-6 py-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ClinicHub Dashboard"}),(0,Ft.jsxs)("p",{className:"text-blue-200",children:["Welcome back, ",(null===e||void 0===e?void 0:e.first_name)||(null===e||void 0===e?void 0:e.username),"!"]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[a&&(0,Ft.jsxs)("div",{className:"text-sm text-blue-200",children:["Synology: ",a.enabled?"Enabled":"Disabled"]}),(0,Ft.jsx)("button",{onClick:t,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Logout"})]})]})}),(0,Ft.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,Ft.jsxs)("div",{className:"flex space-x-6",children:[(0,Ft.jsxs)("div",{className:"w-64 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-4",children:[(0,Ft.jsxs)("nav",{className:"space-y-2",children:[(0,Ft.jsx)("button",{onClick:()=>r("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("dashboard"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcca Dashboard"}),(0,Ft.jsx)("button",{onClick:()=>r("patients"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("patients"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83c\udfe5 Patients/EHR"}),(0,Ft.jsx)("button",{onClick:()=>r("scheduling"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("scheduling"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcc5 Scheduling"}),(0,Ft.jsx)("button",{onClick:()=>r("telehealth"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("telehealth"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcbb Telehealth"}),(0,Ft.jsx)("button",{onClick:()=>r("patient-portal"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("patient-portal"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83c\udf10 Patient Portal"}),(0,Ft.jsx)("button",{onClick:()=>r("lab-orders"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("lab-orders"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udd2c Lab Orders"}),(0,Ft.jsx)("button",{onClick:()=>r("insurance"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("insurance"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udee1\ufe0f Insurance"}),(0,Ft.jsx)("button",{onClick:()=>r("clinical-templates"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("clinical-templates"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udccb Clinical Templates"}),(0,Ft.jsx)("button",{onClick:()=>r("quality-measures"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("quality-measures"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcc8 Quality Measures"}),(0,Ft.jsx)("button",{onClick:()=>r("documents"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("documents"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcc4 Documents"}),(0,Ft.jsx)("button",{onClick:()=>r("invoices"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("invoices"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcb0 Invoices"}),(0,Ft.jsx)("button",{onClick:()=>r("employees"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("employees"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udc65 Employees"}),(0,Ft.jsx)("button",{onClick:()=>r("inventory"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("inventory"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udce6 Inventory"}),(0,Ft.jsx)("button",{onClick:()=>r("finance"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("finance"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcb3 Finance"}),(0,Ft.jsx)("button",{onClick:()=>r("communication"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("communication"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udcac Communication"}),(0,Ft.jsx)("button",{onClick:()=>r("referrals"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("referrals"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\ud83d\udd17 Referrals"}),(0,Ft.jsx)("button",{onClick:()=>r("system-settings"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("system-settings"===n?"bg-blue-600 text-white":"text-blue-200 hover:bg-white/10"),children:"\u2699\ufe0f System Settings"})]}),(0,Ft.jsx)("div",{className:"mt-8 pt-4 border-t border-white/20",children:(0,Ft.jsx)("p",{className:"text-xs text-blue-300 text-center",children:"Complete Practice Management System"})})]}),(0,Ft.jsx)("div",{className:"flex-1 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-6",children:(()=>{switch(n){case"patients":return(0,Ft.jsx)(Vt,{});case"scheduling":return(0,Ft.jsx)($t,{setActiveModule:r});case"telehealth":return(0,Ft.jsx)(Wt,{setActiveModule:r});case"patient-portal":return(0,Ft.jsx)(Qt,{setActiveModule:r});case"lab-orders":return(0,Ft.jsx)(Kt,{setActiveModule:r});case"insurance":return(0,Ft.jsx)(Gt,{setActiveModule:r});case"clinical-templates":return(0,Ft.jsx)(Jt,{setActiveModule:r});case"quality-measures":return(0,Ft.jsx)(Ht,{setActiveModule:r});case"documents":return(0,Ft.jsx)(Yt,{setActiveModule:r});case"invoices":return(0,Ft.jsx)(Xt,{setActiveModule:r});case"system-settings":return(0,Ft.jsx)(Zt,{onStatusUpdate:w});case"employees":return(0,Ft.jsx)(en,{setActiveModule:r});case"inventory":return(0,Ft.jsx)(tn,{setActiveModule:r});case"finance":return(0,Ft.jsx)(nn,{setActiveModule:r});case"communication":return(0,Ft.jsx)(rn,{});case"referrals":return(0,Ft.jsx)(sn,{setActiveModule:r});default:return(0,Ft.jsx)(an,{setActiveModule:r})}})()})]})}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:(0,Ft.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Ft.jsxs)("div",{className:"mt-3",children:[(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Patient"}),(0,Ft.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{const t=await Ot.post("/patients",e);d((e=>[...e,t.data])),f(!1)}catch(t){console.error("Error adding patient:",t)}})({first_name:t.get("first_name"),last_name:t.get("last_name"),date_of_birth:t.get("date_of_birth"),email:t.get("email"),phone:t.get("phone")})},children:[(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsx)("input",{name:"first_name",placeholder:"First Name",className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),(0,Ft.jsx)("input",{name:"last_name",placeholder:"Last Name",className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),(0,Ft.jsx)("input",{name:"date_of_birth",type:"date",className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),(0,Ft.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"w-full p-2 border border-gray-300 rounded-md"}),(0,Ft.jsx)("input",{name:"phone",placeholder:"Phone",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,Ft.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Patient"})]})]})]})})})]})},on=()=>{const{user:e,loading:t}=It();return t?(0,Ft.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,Ft.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading ClinicHub..."})]})}):e?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ln,{}),(0,Ft.jsx)(qt,{})]}):(0,Ft.jsx)(Ut,{})};const cn=function(){return(0,Ft.jsx)(Mt,{children:(0,Ft.jsx)(on,{})})};a.createRoot(document.getElementById("root")).render((0,Ft.jsx)(s.StrictMode,{children:(0,Ft.jsx)(cn,{})}))})();