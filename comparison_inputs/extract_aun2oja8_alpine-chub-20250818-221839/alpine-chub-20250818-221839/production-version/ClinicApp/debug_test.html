<!DOCTYPE html>
<html>
<head>
    <title>ClinicHub Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>ClinicHub Debug Test</h1>
    
    <div class="section">
        <h3>Frontend Status</h3>
        <div id="frontend-status">Testing...</div>
        <button onclick="testFrontend()">Test Frontend</button>
    </div>
    
    <div class="section">
        <h3>Backend API Status</h3>
        <div id="backend-status">Testing...</div>
        <button onclick="testBackend()">Test Backend</button>
    </div>
    
    <div class="section">
        <h3>Frontend Preview</h3>
        <iframe src="http://localhost:3000" width="100%" height="400" id="frontend-frame"></iframe>
    </div>
    
    <script>
        function testFrontend() {
            const status = document.getElementById('frontend-status');
            status.innerHTML = 'Testing frontend...';
            
            fetch('http://localhost:3000')
                .then(response => response.text())
                .then(html => {
                    if (html.includes('ClinicHub')) {
                        status.innerHTML = '<span class="success">✅ Frontend HTML loading correctly</span>';
                    } else {
                        status.innerHTML = '<span class="error">❌ Frontend not loading ClinicHub</span>';
                    }
                })
                .catch(error => {
                    status.innerHTML = `<span class="error">❌ Error: ${error.message}</span>`;
                });
        }
        
        function testBackend() {
            const status = document.getElementById('backend-status');
            status.innerHTML = 'Testing backend...';
            
            fetch('http://localhost:8001/api/auth/synology-status')
                .then(response => response.json())
                .then(data => {
                    status.innerHTML = `<span class="success">✅ Backend working: ${JSON.stringify(data)}</span>`;
                })
                .catch(error => {
                    status.innerHTML = `<span class="error">❌ Backend error: ${error.message}</span>`;
                });
        }
        
        // Auto-test on load
        window.onload = function() {
            testFrontend();
            testBackend();
        };
    </script>
</body>
</html>